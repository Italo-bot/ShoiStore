{\rtf1\ansi\ansicpg1252\uc1 \deff0\deflang1033\deflangfe1033
{\fonttbl {\f0\froman\fcharset0\fprq2{\*\panose 02020603050405020304}Times New Roman;}
{\f1\fswiss\fcharset0\fprq2{\*\panose 020b0604020202020204}Arial;}
{\f2\fmodern\fcharset0\fprq1{\*\panose 02070309020205020404}Courier New;}
{\f3\froman\fcharset2\fprq2{\*\panose 05050102010706020507}Symbol;}
}
{\colortbl;\red0\green0\blue0;\red0\green0\blue255;\red0\green255\blue255;\red0\green255\blue0;\red255\green0\blue255;\red255\green0\blue0;\red255\green255\blue0;\red255\green255\blue255;\red0\green0\blue128;\red0\green128\blue128;\red0\green128\blue0;\red128\green0\blue128;\red128\green0\blue0;\red128\green128\blue0;\red128\green128\blue128;\red192\green192\blue192;\red0\green128\blue0;\red96\green64\blue32;\rede0\green128\blue0;\red128\green0\blue0;\red128\green96\blue32;\red0\green32\blue128;\red0\green128\blue128;\red255\green0\blue255;\red0\green0\blue0;\red112\green0\blue112;\red255\green0\blue0;}
{\stylesheet
{\widctlpar\adjustright \fs20\cgrid \snext0 Normal;}
{\paperw11900\paperh16840\margl1800\margr1800\margt1440\margb1440\gutter0\ltrsect}
{\s1\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs36\kerning36\cgrid \sbasedon0 \snext0 heading 1;}
{\s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid \sbasedon0 \snext0 heading 2;}
{\s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid \sbasedon0 \snext0 heading 3;}
{\s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid \sbasedon0 \snext0 heading 4;}{\*\cs10 \additive Default Paragraph Font;}
{\s5\sb90\sa30\keepn\widctlpar\adjustright \b\f1\fs20\cgrid \sbasedon0 \snext0 heading 5;}{\*\cs10 \additive Default Paragraph Font;}
{\s15\qc\sb240\sa60\widctlpar\outlinelevel0\adjustright \b\f1\fs32\kerning28\cgrid \sbasedon0 \snext15 Title;}
{\s16\qc\sa60\widctlpar\outlinelevel1\adjustright \f1\cgrid \sbasedon0 \snext16 Subtitle;}
{\s17\sa60\sb30\widctlpar\qj \fs22\cgrid \sbasedon0 \snext17 BodyText;}
{\s18\widctlpar\fs22\cgrid \sbasedon0 \snext18 DenseText;}
{\s28\widctlpar\tqc\tx4320\tqr\tx8640\adjustright \fs20\cgrid \sbasedon0 \snext28 header;}
{\s29\widctlpar\tqc\tx4320\tqr\tx8640\qr\adjustright \fs20\cgrid \sbasedon0 \snext29 footer;}
{\s30\li360\sa60\sb120\keepn\widctlpar\adjustright \b\f1\fs20\cgrid \sbasedon0 \snext30 GroupHeader;}
{\s40\li0\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid \sbasedon0 \snext41 Code Example 0;}
{\s41\li360\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid \sbasedon0 \snext42 Code Example 1;}
{\s42\li720\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid \sbasedon0 \snext43 Code Example 2;}
{\s43\li1080\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid \sbasedon0 \snext44 Code Example 3;}
{\s44\li1440\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid \sbasedon0 \snext45 Code Example 4;}
{\s45\li1800\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid \sbasedon0 \snext46 Code Example 5;}
{\s46\li2160\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid \sbasedon0 \snext47 Code Example 6;}
{\s47\li2520\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid \sbasedon0 \snext48 Code Example 7;}
{\s48\li2880\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid \sbasedon0 \snext49 Code Example 8;}
{\s49\li3240\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid \sbasedon0 \snext50 Code Example 9;}
{\s50\li3600\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid \sbasedon0 \snext51 Code Example 10;}
{\s51\li3960\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid \sbasedon0 \snext52 Code Example 11;}
{\s52\li4320\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid \sbasedon0 \snext53 Code Example 12;}
{\s53\li4680\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid \sbasedon0 \snext53 Code Example 13;}
{\s60\li0\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid \sbasedon0 \snext61 List Continue 0;}
{\s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid \sbasedon0 \snext62 List Continue 1;}
{\s62\li720\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid \sbasedon0 \snext63 List Continue 2;}
{\s63\li1080\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid \sbasedon0 \snext64 List Continue 3;}
{\s64\li1440\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid \sbasedon0 \snext65 List Continue 4;}
{\s65\li1800\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid \sbasedon0 \snext66 List Continue 5;}
{\s66\li2160\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid \sbasedon0 \snext67 List Continue 6;}
{\s67\li2520\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid \sbasedon0 \snext68 List Continue 7;}
{\s68\li2880\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid \sbasedon0 \snext69 List Continue 8;}
{\s69\li3240\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid \sbasedon0 \snext70 List Continue 9;}
{\s70\li3600\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid \sbasedon0 \snext71 List Continue 10;}
{\s71\li3960\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid \sbasedon0 \snext72 List Continue 11;}
{\s72\li4320\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid \sbasedon0 \snext73 List Continue 12;}
{\s73\li4680\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid \sbasedon0 \snext73 List Continue 13;}
{\s80\li0\widctlpar\ql\adjustright \fs20\cgrid \sbasedon0 \snext81 DescContinue 0;}
{\s81\li360\widctlpar\ql\adjustright \fs20\cgrid \sbasedon0 \snext82 DescContinue 1;}
{\s82\li720\widctlpar\ql\adjustright \fs20\cgrid \sbasedon0 \snext83 DescContinue 2;}
{\s83\li1080\widctlpar\ql\adjustright \fs20\cgrid \sbasedon0 \snext84 DescContinue 3;}
{\s84\li1440\widctlpar\ql\adjustright \fs20\cgrid \sbasedon0 \snext85 DescContinue 4;}
{\s85\li1800\widctlpar\ql\adjustright \fs20\cgrid \sbasedon0 \snext86 DescContinue 5;}
{\s86\li2160\widctlpar\ql\adjustright \fs20\cgrid \sbasedon0 \snext87 DescContinue 6;}
{\s87\li2520\widctlpar\ql\adjustright \fs20\cgrid \sbasedon0 \snext88 DescContinue 7;}
{\s88\li2880\widctlpar\ql\adjustright \fs20\cgrid \sbasedon0 \snext89 DescContinue 8;}
{\s89\li3240\widctlpar\ql\adjustright \fs20\cgrid \sbasedon0 \snext90 DescContinue 9;}
{\s90\li3600\widctlpar\ql\adjustright \fs20\cgrid \sbasedon0 \snext91 DescContinue 10;}
{\s91\li3960\widctlpar\ql\adjustright \fs20\cgrid \sbasedon0 \snext92 DescContinue 11;}
{\s92\li4320\widctlpar\ql\adjustright \fs20\cgrid \sbasedon0 \snext93 DescContinue 12;}
{\s93\li4680\widctlpar\ql\adjustright \fs20\cgrid \sbasedon0 \snext93 DescContinue 13;}
{\s100\li0\sa30\sb30\widctlpar\tqr\tldot\tx8640\adjustright \fs20\cgrid \sbasedon0 \snext101 LatexTOC 0;}
{\s101\li360\sa27\sb27\widctlpar\tqr\tldot\tx8640\adjustright \fs20\cgrid \sbasedon0 \snext102 LatexTOC 1;}
{\s102\li720\sa24\sb24\widctlpar\tqr\tldot\tx8640\adjustright \fs20\cgrid \sbasedon0 \snext103 LatexTOC 2;}
{\s103\li1080\sa21\sb21\widctlpar\tqr\tldot\tx8640\adjustright \fs20\cgrid \sbasedon0 \snext104 LatexTOC 3;}
{\s104\li1440\sa18\sb18\widctlpar\tqr\tldot\tx8640\adjustright \fs20\cgrid \sbasedon0 \snext105 LatexTOC 4;}
{\s105\li1800\sa15\sb15\widctlpar\tqr\tldot\tx8640\adjustright \fs20\cgrid \sbasedon0 \snext106 LatexTOC 5;}
{\s106\li2160\sa12\sb12\widctlpar\tqr\tldot\tx8640\adjustright \fs20\cgrid \sbasedon0 \snext107 LatexTOC 6;}
{\s107\li2520\sa9\sb9\widctlpar\tqr\tldot\tx8640\adjustright \fs20\cgrid \sbasedon0 \snext108 LatexTOC 7;}
{\s108\li2880\sa6\sb6\widctlpar\tqr\tldot\tx8640\adjustright \fs20\cgrid \sbasedon0 \snext109 LatexTOC 8;}
{\s109\li3240\sa3\sb3\widctlpar\tqr\tldot\tx8640\adjustright \fs20\cgrid \sbasedon0 \snext110 LatexTOC 9;}
{\s110\li3600\sa3\sb3\widctlpar\tqr\tldot\tx8640\adjustright \fs20\cgrid \sbasedon0 \snext111 LatexTOC 10;}
{\s111\li3960\sa3\sb3\widctlpar\tqr\tldot\tx8640\adjustright \fs20\cgrid \sbasedon0 \snext112 LatexTOC 11;}
{\s112\li4320\sa3\sb3\widctlpar\tqr\tldot\tx8640\adjustright \fs20\cgrid \sbasedon0 \snext113 LatexTOC 12;}
{\s113\li4680\sa3\sb3\widctlpar\tqr\tldot\tx8640\adjustright \fs20\cgrid \sbasedon0 \snext113 LatexTOC 13;}
{\s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid \sbasedon0 \snext121 \sautoupd List Bullet 0;}
{\s121\fi-360\li720\widctlpar\jclisttab\tx720{\*\pn \pnlvlbody\ilvl0\ls2\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid \sbasedon0 \snext122 \sautoupd List Bullet 1;}
{\s122\fi-360\li1080\widctlpar\jclisttab\tx1080{\*\pn \pnlvlbody\ilvl0\ls3\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid \sbasedon0 \snext123 \sautoupd List Bullet 2;}
{\s123\fi-360\li1440\widctlpar\jclisttab\tx1440{\*\pn \pnlvlbody\ilvl0\ls4\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid \sbasedon0 \snext124 \sautoupd List Bullet 3;}
{\s124\fi-360\li1800\widctlpar\jclisttab\tx1800{\*\pn \pnlvlbody\ilvl0\ls5\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid \sbasedon0 \snext125 \sautoupd List Bullet 4;}
{\s125\fi-360\li2160\widctlpar\jclisttab\tx2160{\*\pn \pnlvlbody\ilvl0\ls6\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid \sbasedon0 \snext126 \sautoupd List Bullet 5;}
{\s126\fi-360\li2520\widctlpar\jclisttab\tx2520{\*\pn \pnlvlbody\ilvl0\ls7\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid \sbasedon0 \snext127 \sautoupd List Bullet 6;}
{\s127\fi-360\li2880\widctlpar\jclisttab\tx2880{\*\pn \pnlvlbody\ilvl0\ls8\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid \sbasedon0 \snext128 \sautoupd List Bullet 7;}
{\s128\fi-360\li3240\widctlpar\jclisttab\tx3240{\*\pn \pnlvlbody\ilvl0\ls9\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid \sbasedon0 \snext129 \sautoupd List Bullet 8;}
{\s129\fi-360\li3600\widctlpar\jclisttab\tx3600{\*\pn \pnlvlbody\ilvl0\ls10\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid \sbasedon0 \snext130 \sautoupd List Bullet 9;}
{\s130\fi-360\li3960\widctlpar\jclisttab\tx3960{\*\pn \pnlvlbody\ilvl0\ls11\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid \sbasedon0 \snext131 \sautoupd List Bullet 10;}
{\s131\fi-360\li4320\widctlpar\jclisttab\tx4320{\*\pn \pnlvlbody\ilvl0\ls12\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid \sbasedon0 \snext132 \sautoupd List Bullet 11;}
{\s132\fi-360\li4680\widctlpar\jclisttab\tx4680{\*\pn \pnlvlbody\ilvl0\ls13\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid \sbasedon0 \snext133 \sautoupd List Bullet 12;}
{\s133\fi-360\li5040\widctlpar\jclisttab\tx5040{\*\pn \pnlvlbody\ilvl0\ls14\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid \sbasedon0 \snext133 \sautoupd List Bullet 13;}
{\s140\fi-360\li360\widctlpar\fs20\cgrid \sbasedon0 \snext141 \sautoupd List Enum 0;}
{\s141\fi-360\li720\widctlpar\fs20\cgrid \sbasedon0 \snext142 \sautoupd List Enum 1;}
{\s142\fi-360\li1080\widctlpar\fs20\cgrid \sbasedon0 \snext143 \sautoupd List Enum 2;}
{\s143\fi-360\li1440\widctlpar\fs20\cgrid \sbasedon0 \snext144 \sautoupd List Enum 3;}
{\s144\fi-360\li1800\widctlpar\fs20\cgrid \sbasedon0 \snext145 \sautoupd List Enum 4;}
{\s145\fi-360\li2160\widctlpar\fs20\cgrid \sbasedon0 \snext146 \sautoupd List Enum 5;}
{\s146\fi-360\li2520\widctlpar\fs20\cgrid \sbasedon0 \snext147 \sautoupd List Enum 6;}
{\s147\fi-360\li2880\widctlpar\fs20\cgrid \sbasedon0 \snext148 \sautoupd List Enum 7;}
{\s148\fi-360\li3240\widctlpar\fs20\cgrid \sbasedon0 \snext149 \sautoupd List Enum 8;}
{\s149\fi-360\li3600\widctlpar\fs20\cgrid \sbasedon0 \snext150 \sautoupd List Enum 9;}
{\s150\fi-360\li3960\widctlpar\fs20\cgrid \sbasedon0 \snext151 \sautoupd List Enum 10;}
{\s151\fi-360\li4320\widctlpar\fs20\cgrid \sbasedon0 \snext152 \sautoupd List Enum 11;}
{\s152\fi-360\li4680\widctlpar\fs20\cgrid \sbasedon0 \snext153 \sautoupd List Enum 12;}
{\s153\fi-360\li5040\widctlpar\fs20\cgrid \sbasedon0 \snext153 \sautoupd List Enum 13;}
}
{\info 
{\title {\comment ShoiStore }ShoiStore}
{\comment Generado por doxygen1.9.2.}
{\creatim \yr2021\mo11\dy17\hr21\min48\sec51}
}\pard\plain 
\sectd\pgnlcrm
{\footer \s29\widctlpar\tqc\tx4320\tqr\tx8640\qr\adjustright \fs20\cgrid {\chpgn}}
\pard\plain \s16\qc\sa60\widctlpar\outlinelevel1\adjustright \f1\cgrid 
\vertalc\qc\par\par\par\par\par\par\par
\pard\plain \s15\qc\sb240\sa60\widctlpar\outlinelevel0\adjustright \b\f1\fs32\kerning28\cgrid 
{\field\fldedit {\*\fldinst TITLE \\*MERGEFORMAT}{\fldrslt ShoiStore}}\par
\pard\plain \s16\qc\sa60\widctlpar\outlinelevel1\adjustright \f1\cgrid 
\par
\par\par\par\par\par\par\par\par\par\par\par\par
\pard\plain \s16\qc\sa60\widctlpar\outlinelevel1\adjustright \f1\cgrid 
{\field\fldedit {\*\fldinst AUTHOR \\*MERGEFORMAT}{\fldrslt AUTHOR}}\par
Versi\'F3n \par{\field\fldedit {\*\fldinst CREATEDATE \\*MERGEFORMAT}{\fldrslt Mi\'E9rcoles, 17 de Noviembre de 2021 }}\par
\page\page\vertalt
\pard\plain 
\s1\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs36\kerning36\cgrid Tabla de contenidos\par
\pard\plain \par
{\field\fldedit {\*\fldinst TOC \\f \\*MERGEFORMAT}{\fldrslt Table of contents}}\par
\pard\plain 
\sect \sbkpage \pgndec \pgnrestart
\sect \sectd \sbknone
{\footer \s29\widctlpar\tqc\tx4320\tqr\tx8640\qr\adjustright \fs20\cgrid {\chpgn}}

\pard\plain \sect\sbkpage
\s1\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs36\kerning36\cgrid 
Indice de archivos\par \pard\plain 
{\tc \v Indice de archivos}
\pard\plain \s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
Lista de archivos\par \pard\plain 
{
\pard\plain \s17\sa60\sb30\widctlpar\qj \fs22\cgrid Lista de todos los archivos con descripciones breves:}
{
\par
\pard\plain \s101\li360\sa27\sb27\widctlpar\tqr\tldot\tx8640\adjustright \fs20\cgrid 
{\b {\b change_pass.php} } \tab {\field\fldedit {\*\fldinst PAGEREF AAAAAAAAAP \\*MERGEFORMAT}{\fldrslt pagenum}}
\par
{\b {\b confirm.php} } \tab {\field\fldedit {\*\fldinst PAGEREF AAAAAAAAAQ \\*MERGEFORMAT}{\fldrslt pagenum}}
\par
{\b {\b customer_login.php} } \tab {\field\fldedit {\*\fldinst PAGEREF AAAAAAAAAT \\*MERGEFORMAT}{\fldrslt pagenum}}
\par
{\b {\b delete_account.php} } \tab {\field\fldedit {\*\fldinst PAGEREF AAAAAAAAAU \\*MERGEFORMAT}{\fldrslt pagenum}}
\par
{\b {\b delete_wishlist.php} } \tab {\field\fldedit {\*\fldinst PAGEREF AAAAAAAAAW \\*MERGEFORMAT}{\fldrslt pagenum}}
\par
{\b {\b download.php} } \tab {\field\fldedit {\*\fldinst PAGEREF AAAAAAAAAX \\*MERGEFORMAT}{\fldrslt pagenum}}
\par
{\b {\b edit_account.php} } \tab {\field\fldedit {\*\fldinst PAGEREF AAAAAAAABJ \\*MERGEFORMAT}{\fldrslt pagenum}}
\par
{\b {\b logout.php} } \tab {\field\fldedit {\*\fldinst PAGEREF AAAAAAAABT \\*MERGEFORMAT}{\fldrslt pagenum}}
\par
{\b {\b my_account.php} } \tab {\field\fldedit {\*\fldinst PAGEREF AAAAAAAABU \\*MERGEFORMAT}{\fldrslt pagenum}}
\par
{\b {\b my_addresses.php} } \tab {\field\fldedit {\*\fldinst PAGEREF AAAAAAAACE \\*MERGEFORMAT}{\fldrslt pagenum}}
\par
{\b {\b my_orders.php} } \tab {\field\fldedit {\*\fldinst PAGEREF AAAAAAAADG \\*MERGEFORMAT}{\fldrslt pagenum}}
\par
{\b {\b my_wishlist.php} } \tab {\field\fldedit {\*\fldinst PAGEREF AAAAAAAADP \\*MERGEFORMAT}{\fldrslt pagenum}}
\par
{\b {\b pay_offline.php} } \tab {\field\fldedit {\*\fldinst PAGEREF AAAAAAAADY \\*MERGEFORMAT}{\fldrslt pagenum}}
\par
{\b {\b view_order.php} } \tab {\field\fldedit {\*\fldinst PAGEREF AAAAAAAADZ \\*MERGEFORMAT}{\fldrslt pagenum}}
\par
{\b {\b write_review.php} } \tab {\field\fldedit {\*\fldinst PAGEREF AAAAAAAAES \\*MERGEFORMAT}{\fldrslt pagenum}}
\par
\par}
\pard\plain \sect\sbkpage
\s1\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs36\kerning36\cgrid 
Documentaci\'F3n de archivos{\tc \v Documentaci\'F3n de archivos}
\par \pard\plain 
\pard\plain \s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
Referencia del Archivo change_pass.php\par \pard\plain 
{\tc\tcl2 \v change_pass.php}
{\xe \v change_pass.php}
{\bkmkstart AAAAAAAAAP}
{\bkmkend AAAAAAAAAP}
\par \pard\plain 

\pard\plain \sect\sbkpage
\s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
\pard\plain \s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
change_pass.php\par \pard\plain 
{\bkmkstart AAAAAAAAAA}
{\bkmkend AAAAAAAAAA}
Ir a la documentaci\'F3n de este archivo.{
\pard\plain \s40\li0\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid 00001 \par
00002 <?php\par
00003 \par
00004 @session_start();\par
00005 \par
00006 {\cf19 if}(!isset($_SESSION[{\cf22 'customer_email'}]))\{\par
00007 \par
00008 echo {\cf22 "<script>window.open('../checkout.php','_self')</script>"};\par
00009 \par
00010 \}\par
00011 \par
00012 ?>\par
00013 \par
00014 <h1 align={\cf22 "center"}>Cambiar Contrase\'F1a</h1>\par
00015 \par
00016 <form action={\cf22 ""} method={\cf22 "post"}><!-- form Starts -->\par
00017 \par
00018 <div {\cf17 class}={\cf22 "form-group"}><!-- form-group Starts -->\par
00019 \par
00020 <label>Introduce tu contrase\'F1a actual</label>\par
00021 \par
00022 <input type={\cf22 "text"} name={\cf22 "old_pass"} {\cf17 class}={\cf22 "form-control"} required>\par
00023 \par
00024 </div><!-- form-group Ends -->\par
00025 \par
00026 \par
00027 <div {\cf17 class}={\cf22 "form-group"}><!-- form-group Starts -->\par
00028 \par
00029 <label>Introduzca su nueva contrase\'F1a</label>\par
00030 \par
00031 <input type={\cf22 "text"} name={\cf22 "new_pass"} {\cf17 class}={\cf22 "form-control"} required>\par
00032 \par
00033 </div><!-- form-group Ends -->\par
00034 \par
00035 \par
00036 <div {\cf17 class}={\cf22 "form-group"}><!-- form-group Starts -->\par
00037 \par
00038 <label>Confirme su nueva contrase\'F1a </label>\par
00039 \par
00040 <input type={\cf22 "text"} name={\cf22 "new_pass_again"} {\cf17 class}={\cf22 "form-control"} required>\par
00041 \par
00042 </div><!-- form-group Ends -->\par
00043 \par
00044 <div {\cf17 class}={\cf22 "text-center"}><!-- text-center Starts -->\par
00045 \par
00046 <button type={\cf22 "submit"} name={\cf22 "submit"} {\cf17 class}={\cf22 "btn btn-primary"}>\par
00047 \par
00048 <i {\cf17 class}={\cf22 "fa fa-user-md"}> </i> Cambiar Contrase\'F1a\par
00049 \par
00050 </button>\par
00051 \par
00052 </div><!-- text-center Ends -->\par
00053 \par
00054 </form><!-- form Ends -->\par
00055 <?php\par
00056 \par
00057 {\cf19 if}(isset($_POST[{\cf22 'submit'}]))\{\par
00058 \par
00059 $c_email = $_SESSION[{\cf22 'customer_email'}];\par
00060 \par
00061 $old_pass = $_POST[{\cf22 'old_pass'}];\par
00062 \par
00063 $new_pass = $_POST[{\cf22 'new_pass'}];\par
00064 \par
00065 $new_pass_again = $_POST[{\cf22 'new_pass_again'}];\par
00066 \par
00067 $encrypted_password = password_hash($new_pass_again, PASSWORD_DEFAULT); \par
00068 \par
00069 $select_customer = {\cf22 "select * from customers where customer_email='$c_email'"};\par
00070 \par
00071 $run_customer = mysqli_query($con,$select_customer);\par
00072 \par
00073 $check_customer = mysqli_num_rows($run_customer);\par
00074 \par
00075 $row_customer = mysqli_fetch_array($run_customer);\par
00076 \par
00077 $hash_password = $row_customer[{\cf22 "customer_pass"}];\par
00078 \par
00079 $check_old_pass = password_verify($old_pass, $hash_password);\par
00080 \par
00081 {\cf19 if}($check_old_pass == 0)\{\par
00082     \par
00083 echo {\cf22 "<script>alert('Su contrase\'F1a actual no es v\'E1lida int\'E9ntelo de nuevo')</script>"};\par
00084 \par
00085 exit();\par
00086     \par
00087 \}\par
00088 \par
00089 {\cf19 if}($new_pass!=$new_pass_again)\{\par
00090 \par
00091 echo {\cf22 "<script>alert('La confirmaci\'F3n de su nueva contrase\'F1a no coincide')</script>"};\par
00092 \par
00093 exit();\par
00094 \par
00095 \}\par
00096 \par
00097 $update_pass = {\cf22 "update customers set customer_pass='$encrypted_password' where customer_email='$c_email'"};\par
00098 \par
00099 $run_pass = mysqli_query($con,$update_pass);\par
00100 \par
00101 {\cf19 if}($run_pass)\{\par
00102 \par
00103 echo {\cf22 "<script>alert('Tu contrase\'F1a ha sido cambiada exitosamente')</script>"};\par
00104 \par
00105 echo {\cf22 "<script>window.open('my_account.php?my_orders','_self')</script>"};\par
00106 \par
00107 \}\par
00108 \par
00109 \}\par
00110 \par
00111 ?>\par
}
\par \pard\plain 

\pard\plain \sect\sbkpage
\s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
\pard\plain \s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
Referencia del Archivo confirm.php\par \pard\plain 
{\tc\tcl2 \v confirm.php}
{\xe \v confirm.php}
{\bkmkstart AAAAAAAAAQ}
{\bkmkend AAAAAAAAAQ}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Variables\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b if}(!isset($_SESSION['customer_email'])) {\b else}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b if} (isset( $_POST[ 'confirm_payment']))\par
}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Documentaci\'F3n de las variables\par
\pard\plain 
{\xe \v else\:confirm.php}
{\xe \v confirm.php\:else}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
{\b if} (!isset( $_SESSION[ 'customer_email'])) else}}
\par
{\bkmkstart AAAAAAAAAR}
{\bkmkend AAAAAAAAAR}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
{\b Valor inicial:}{
\pard\plain \s41\li360\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid \{\par
\par
include({\cf22 "includes/db.php"})\par
}
{
Definici\'F3n en la l\'EDnea {\b 10} del archivo {\b confirm.php}.}\par
}
{\xe \v if\:confirm.php}
{\xe \v confirm.php\:if}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
if (isset( $_POST[ 'confirm_payment']) )}}
\par
{\bkmkstart AAAAAAAAAS}
{\bkmkend AAAAAAAAAS}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
{\b Valor inicial:}{
\pard\plain \s41\li360\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid \{\par
\par
echo {\cf22 "Bienvenid@ : "} . $_SESSION[{\cf22 'customer_email'}] . {\cf22 ""}\par
}
{
Definici\'F3n en la l\'EDnea {\b 399} del archivo {\b confirm.php}.}\par
}
\par \pard\plain 

\pard\plain \sect\sbkpage
\s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
\pard\plain \s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
confirm.php\par \pard\plain 
{\bkmkstart AAAAAAAAAB}
{\bkmkend AAAAAAAAAB}
Ir a la documentaci\'F3n de este archivo.{
\pard\plain \s40\li0\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid 00001 <?php\par
00002 \par
00003 session_start();\par
00004 \par
00005 {\cf19 if}(!isset($_SESSION[{\cf22 'customer_email'}]))\{\par
00006 \par
00007 echo {\cf22 "<script>window.open('../checkout.php','_self')</script>"};\par
00008 \par
00009 \par
00010 \}{\cf19 else} \{\par
00011 \par
00012 include({\cf22 "includes/db.php"});\par
00013 \par
00014 include({\cf22 "functions/functions.php"});\par
00015 \par
00016 {\cf19 if}(isset($_GET[{\cf22 'order_id'}]))\{\par
00017 \par
00018 $order_id = $_GET[{\cf22 'order_id'}];\par
00019 \par
00020 \}\par
00021 \par
00022 ?>\par
00023 <!DOCTYPE html>\par
00024 <html>\par
00025 \par
00026 <head>\par
00027 <title>ShoiStore </title>\par
00028 \par
00029 <meta name={\cf22 "viewport"} content={\cf22 "width=device-width, initial-scale=1, shrink-to-fit=no"}>\par
00030 \par
00031 <link href={\cf22 "http://fonts.googleapis.com/css?family=Roboto:400,500,700,300,100"} rel={\cf22 "stylesheet"} >\par
00032 \par
00033 <link href={\cf22 "styles/bootstrap.min.css"} rel={\cf22 "stylesheet"}>\par
00034 \par
00035 <link href={\cf22 "styles/style.css"} rel={\cf22 "stylesheet"}>\par
00036 \par
00037 <link href={\cf22 "font-awesome/css/font-awesome.min.css"} rel={\cf22 "stylesheet"}>\par
00038 \par
00039 </head>\par
00040 \par
00041 <body>\par
00042 \par
00043 <div {\cf18 id}={\cf22 "top"}><!-- top Starts -->\par
00044 \par
00045 <div {\cf17 class}={\cf22 "container"}><!-- container Starts -->\par
00046 \par
00047 <div {\cf17 class}={\cf22 "col-md-6 offer"}><!-- col-md-6 offer Starts -->\par
00048 \par
00049 <a href={\cf22 "#"} {\cf17 class}={\cf22 "btn btn-success btn-sm"} >\par
00050 <?php\par
00051 \par
00052 {\cf19 if}(!isset($_SESSION[{\cf22 'customer_email'}]))\{\par
00053 \par
00054 echo {\cf22 "Bienvenid@ Invitad@"};\par
00055 \par
00056 \par
00057 \}{\cf19 else}\{\par
00058 \par
00059 echo {\cf22 "Bienvenid@ : "} . $_SESSION[{\cf22 'customer_email'}] . {\cf22 ""};\par
00060 \par
00061 \}\par
00062 \par
00063 \par
00064 ?>\par
00065 </a>\par
00066 \par
00067 <a href={\cf22 "#"}>\par
00068 Precio Total: <?php total_price(); ?>, Cantidad de Items <?php items(); ?>\par
00069 </a>\par
00070 \par
00071 </div><!-- col-md-6 offer Ends -->\par
00072 \par
00073 <div {\cf17 class}={\cf22 "col-md-6"}><!-- col-md-6 Starts -->\par
00074 <ul {\cf17 class}={\cf22 "menu"}><!-- menu Starts -->\par
00075 \par
00076 <?php \par
00077 \par
00078 {\cf19 if}(isset($_SESSION[{\cf22 'customer_email'}]))\{\par
00079     \par
00080 $customer_email = $_SESSION[{\cf22 'customer_email'}];\par
00081 \par
00082 $select_customer = {\cf22 "select * from customers where customer_email='$customer_email'"};\par
00083 \par
00084 $run_customer = mysqli_query($con,$select_customer);\par
00085 \par
00086 $row_customer = mysqli_fetch_array($run_customer);\par
00087 \par
00088 $customer_role = $row_customer[{\cf22 'customer_role'}];\par
00089 \par
00090 {\cf19 if}($customer_role == {\cf22 "customer"})\{ \par
00091 \par
00092 ?>\par
00093 \par
00094 <li>\par
00095 \par
00096 <a href={\cf22 "../shop.php"}> Tienda </a>\par
00097 \par
00098 </li>\par
00099 \par
00100 <?php \}elseif($customer_role == {\cf22 "vendor"})\{ ?>\par
00101 \par
00102 <li>\par
00103 \par
00104 <a href={\cf22 "../vendor_dashboard/index.php"}> Vendedor Dashboard </a>\par
00105 \par
00106 </li>\par
00107 \par
00108 <?php \} \} ?>\par
00109 \par
00110 <li>\par
00111 <?php\par
00112 \par
00113 {\cf19 if}(!isset($_SESSION[{\cf22 'customer_email'}]))\{\par
00114 \par
00115 echo {\cf22 "<a href='../checkout.php' >Mi Cuenta</a>"};\par
00116 \par
00117 \}\par
00118 {\cf19 else}\{\par
00119 \par
00120 echo {\cf22 "<a href='my_account.php?my_orders'>Mi Cuenta</a>"};\par
00121 \par
00122 \}\par
00123 \par
00124 \par
00125 ?>\par
00126 </li>\par
00127 \par
00128 <li>\par
00129 <a href={\cf22 "../cart.php"}>\par
00130 Ir al Carrito\par
00131 </a>\par
00132 </li>\par
00133 \par
00134 <li>\par
00135 <?php\par
00136 \par
00137 {\cf19 if}(!isset($_SESSION[{\cf22 'customer_email'}]))\{\par
00138 \par
00139 echo {\cf22 "<a href='../checkout.php'> Acceder </a>"};\par
00140 \par
00141 \}{\cf19 else} \{\par
00142 \par
00143 echo {\cf22 "<a href='logout.php'> Cerrar Sesi\'F3n </a>"};\par
00144 \par
00145 \}\par
00146 \par
00147 ?>\par
00148 </li>\par
00149 \par
00150 </ul><!-- menu Ends -->\par
00151 \par
00152 </div><!-- col-md-6 Ends -->\par
00153 \par
00154 </div><!-- container Ends -->\par
00155 </div><!-- top Ends -->\par
00156 \par
00157 <div {\cf17 class}={\cf22 "navbar navbar-default"} {\cf18 id}={\cf22 "navbar"}><!-- navbar navbar-{\cf19 default} Starts -->\par
00158 <div {\cf17 class}={\cf22 "container"} ><!-- container Starts -->\par
00159 \par
00160 <div {\cf17 class}={\cf22 "navbar-header"}><!-- navbar-header Starts -->\par
00161 \par
00162 <a {\cf17 class}={\cf22 "navbar-brand home"} href={\cf22 "index.php"} ><!--- navbar navbar-brand home Starts -->\par
00163 \par
00164 <img src={\cf22 "images/ShoiStoree.png"} alt={\cf22 "ShoiStore logo"} {\cf17 class}={\cf22 "hidden-xs"} >\par
00165 <img src={\cf22 "images/ShoiStoree.png"} alt={\cf22 "ShoiStore logo"} {\cf17 class}={\cf22 "visible-xs"} >\par
00166 \par
00167 </a><!--- navbar navbar-brand home Ends -->\par
00168 \par
00169 <button type={\cf22 "button"} {\cf17 class}={\cf22 "navbar-toggle"} data-toggle={\cf22 "collapse"} data-target={\cf22 "#navigation"}  >\par
00170 \par
00171 <span {\cf17 class}={\cf22 "sr-only"} >Navegaci\'F3n </span>\par
00172 \par
00173 <i {\cf17 class}={\cf22 "fa fa-align-justify"}></i>\par
00174 \par
00175 </button>\par
00176 \par
00177 <button type={\cf22 "button"} {\cf17 class}={\cf22 "navbar-toggle"} data-toggle={\cf22 "collapse"} data-target={\cf22 "#search"} >\par
00178 \par
00179 <span {\cf17 class}={\cf22 "sr-only"} >Buscar</span>\par
00180 \par
00181 <i {\cf17 class}={\cf22 "fa fa-search"} ></i>\par
00182 \par
00183 </button>\par
00184 \par
00185 \par
00186 </div><!-- navbar-header Ends -->\par
00187 \par
00188 <div {\cf17 class}={\cf22 "navbar-collapse collapse"} {\cf18 id}={\cf22 "navigation"} ><!-- navbar-collapse collapse Starts -->\par
00189 \par
00190 <div {\cf17 class}={\cf22 "padding-nav"} ><!-- padding-nav Starts -->\par
00191 \par
00192 <ul {\cf17 class}={\cf22 "nav navbar-nav navbar-left"}><!-- nav navbar-nav navbar-left Starts -->\par
00193 \par
00194 <li>\par
00195 <a href={\cf22 "../index.php"}> Home </a>\par
00196 </li>\par
00197 \par
00198 <li>\par
00199 <a href={\cf22 "../shop.php"}> Tienda </a>\par
00200 </li>\par
00201 \par
00202 <li {\cf17 class}={\cf22 "active"}>\par
00203 <?php\par
00204 \par
00205 {\cf19 if}(!isset($_SESSION[{\cf22 'customer_email'}]))\{\par
00206 \par
00207 echo {\cf22 "<a href='../checkout.php' >Mi Cuenta</a>"};\par
00208 \par
00209 \}\par
00210 {\cf19 else}\{\par
00211 \par
00212 echo {\cf22 "<a href='my_account.php?my_orders'>Mi Cuenta</a>"};\par
00213 \par
00214 \}\par
00215 \par
00216 \par
00217 ?>\par
00218 </li>\par
00219 \par
00220 <li>\par
00221 <a href={\cf22 "../cart.php"}> Carrito </a>\par
00222 </li>\par
00223 \par
00224 <li>\par
00225 <a href={\cf22 "../about.php"}> \'BFQui\'E9nes Somos? </a>\par
00226 </li>\par
00227 \par
00228 <li>\par
00229 \par
00230 <a href={\cf22 "../services.php"}> Servicios </a>\par
00231 \par
00232 </li>\par
00233 \par
00234 <li>\par
00235 <a href={\cf22 "../contact.php"}> Cont\'E1ctanos </a>\par
00236 </li>\par
00237 \par
00238 </ul><!-- nav navbar-nav navbar-left Ends -->\par
00239 \par
00240 </div><!-- padding-nav Ends -->\par
00241 \par
00242 <a {\cf17 class}={\cf22 "btn btn-primary navbar-btn right"} href={\cf22 "cart.php"}><!-- btn btn-primary navbar-btn right Starts -->\par
00243 \par
00244 <i {\cf17 class}={\cf22 "fa fa-shopping-cart"}></i>\par
00245 \par
00246 <span> <?php items(); ?> Art\'EDculos </span>\par
00247 \par
00248 </a><!-- btn btn-primary navbar-btn right Ends -->\par
00249 \par
00250 <div {\cf17 class}={\cf22 "navbar-collapse collapse right"}><!-- navbar-collapse collapse right Starts -->\par
00251 \par
00252 <button {\cf17 class}={\cf22 "btn navbar-btn btn-primary"} type={\cf22 "button"} data-toggle={\cf22 "collapse"} data-target={\cf22 "#search"}>\par
00253 \par
00254 <span {\cf17 class}={\cf22 "sr-only"}>Buscar</span>\par
00255 \par
00256 <i {\cf17 class}={\cf22 "fa fa-search"}></i>\par
00257 \par
00258 </button>\par
00259 \par
00260 </div><!-- navbar-collapse collapse right Ends -->\par
00261 \par
00262 <div {\cf17 class}={\cf22 "collapse clearfix"} {\cf18 id}={\cf22 "search"}><!-- collapse clearfix Starts -->\par
00263 \par
00264 <form {\cf17 class}={\cf22 "navbar-form"} method={\cf22 "get"} action={\cf22 "results.php"}><!-- navbar-form Starts -->\par
00265 \par
00266 <div {\cf17 class}={\cf22 "input-group"}><!-- input-group Starts -->\par
00267 \par
00268 <input {\cf17 class}={\cf22 "form-control"} type={\cf22 "text"} placeholder={\cf22 "Buscar"} name={\cf22 "user_query"} required>\par
00269 \par
00270 <span {\cf17 class}={\cf22 "input-group-btn"}><!-- input-group-btn Starts -->\par
00271 \par
00272 <button type={\cf22 "submit"} value={\cf22 "Search"} name={\cf22 "search"} {\cf17 class}={\cf22 "btn btn-primary"}>\par
00273 \par
00274 <i {\cf17 class}={\cf22 "fa fa-search"}></i>\par
00275 \par
00276 </button>\par
00277 \par
00278 </span><!-- input-group-btn Ends -->\par
00279 \par
00280 </div><!-- input-group Ends -->\par
00281 \par
00282 </form><!-- navbar-form Ends -->\par
00283 \par
00284 </div><!-- collapse clearfix Ends -->\par
00285 \par
00286 </div><!-- navbar-collapse collapse Ends -->\par
00287 \par
00288 </div><!-- container Ends -->\par
00289 </div><!-- navbar navbar-{\cf19 default} Ends -->\par
00290 \par
00291 \par
00292 <div {\cf18 id}={\cf22 "content"} ><!-- content Starts -->\par
00293 <div {\cf17 class}={\cf22 "container"} ><!-- container Starts -->\par
00294 \par
00295 <div {\cf17 class}={\cf22 "col-md-12"} ><!--- col-md-12 Starts -->\par
00296 \par
00297 <ul {\cf17 class}={\cf22 "breadcrumb"} ><!-- breadcrumb Starts -->\par
00298 \par
00299 <li>\par
00300 <a href={\cf22 "index.php"}>Home</a>\par
00301 </li>\par
00302 \par
00303 <li>Mi Cuenta</li>\par
00304 \par
00305 </ul><!-- breadcrumb Ends -->\par
00306 \par
00307 \par
00308 \par
00309 </div><!--- col-md-12 Ends -->\par
00310 \par
00311 <div {\cf17 class}={\cf22 "col-md-3"}><!-- col-md-3 Starts -->\par
00312 \par
00313 <?php include({\cf22 "includes/sidebar.php"}); ?>\par
00314 \par
00315 </div><!-- col-md-3 Ends -->\par
00316 \par
00317 <div {\cf17 class}={\cf22 "col-md-9"}><!-- col-md-9 Starts -->\par
00318 \par
00319 <div {\cf17 class}={\cf22 "box"}><!-- box Starts -->\par
00320 \par
00321 <h1 align={\cf22 "center"}> Confirme su pago </h1>\par
00322 \par
00323 \par
00324 <form action={\cf22 "confirm.php?update_id=<?php echo $order_id; ?>"} method={\cf22 "post"} enctype={\cf22 "multipart/form-data"}><!--- form Starts -->\par
00325 \par
00326 <div {\cf17 class}={\cf22 "form-group"}><!-- form-group Starts -->\par
00327 \par
00328 <label>Factura n\'B0:</label>\par
00329 \par
00330 <input type={\cf22 "text"} {\cf17 class}={\cf22 "form-control"} name={\cf22 "invoice_no"} required>\par
00331 \par
00332 </div><!-- form-group Ends -->\par
00333 \par
00334 \par
00335 <div {\cf17 class}={\cf22 "form-group"}><!-- form-group Starts -->\par
00336 \par
00337 <label>Cantidad enviada:</label>\par
00338 \par
00339 <input type={\cf22 "text"} {\cf17 class}={\cf22 "form-control"} name={\cf22 "amount_sent"} required>\par
00340 \par
00341 </div><!-- form-group Ends -->\par
00342 \par
00343 <div {\cf17 class}={\cf22 "form-group"}><!-- form-group Starts -->\par
00344 \par
00345 <label>Seleccione el modo de pago:</label>\par
00346 \par
00347 <select name={\cf22 "payment_mode"} {\cf17 class}={\cf22 "form-control"}><!-- select Starts -->\par
00348 \par
00349 <option> Seleccione el modo de pago </option>\par
00350 <option> C\'F3digo bancario </option>\par
00351 <option> UBL / Omni Paisa </option>\par
00352 <option> Easy paisa </option>\par
00353 <option> Western Union </option>\par
00354 \par
00355 </select><!-- select Ends -->\par
00356 \par
00357 </div><!-- form-group Ends -->\par
00358 \par
00359 <div {\cf17 class}={\cf22 "form-group"}><!-- form-group Starts -->\par
00360 \par
00361 <label>ID de transacci\'F3n / referencia:</label>\par
00362 \par
00363 <input type={\cf22 "text"} {\cf17 class}={\cf22 "form-control"} name={\cf22 "ref_no"} required>\par
00364 \par
00365 </div><!-- form-group Ends -->\par
00366 \par
00367 \par
00368 <div {\cf17 class}={\cf22 "form-group"}><!-- form-group Starts -->\par
00369 \par
00370 <label>C\'F3digo Easy Paisa / Omni:</label>\par
00371 \par
00372 <input type={\cf22 "text"} {\cf17 class}={\cf22 "form-control"} name={\cf22 "code"} required>\par
00373 \par
00374 </div><!-- form-group Ends -->\par
00375 \par
00376 \par
00377 <div {\cf17 class}={\cf22 "form-group"}><!-- form-group Starts -->\par
00378 \par
00379 <label>Fecha de pago:</label>\par
00380 \par
00381 <input type={\cf22 "text"} {\cf17 class}={\cf22 "form-control"} name={\cf22 "date"} required>\par
00382 \par
00383 </div><!-- form-group Ends -->\par
00384 \par
00385 <div {\cf17 class}={\cf22 "text-center"}><!-- text-center Starts -->\par
00386 \par
00387 <button type={\cf22 "submit"} name={\cf22 "confirm_payment"} {\cf17 class}={\cf22 "btn btn-primary btn-lg"}>\par
00388 \par
00389 <i {\cf17 class}={\cf22 "fa fa-user-md"}></i> Confirmar pago\par
00390 \par
00391 </button>\par
00392 \par
00393 </div><!-- text-center Ends -->\par
00394 \par
00395 </form><!--- form Ends -->\par
00396 \par
00397 <?php\par
00398 \par
00399 {\cf19 if}(isset($_POST[{\cf22 'confirm_payment'}]))\{\par
00400 \par
00401 $update_id = mysqli_real_escape_string($con, $_GET[{\cf22 'update_id'}]);\par
00402 \par
00403 $invoice_no = mysqli_real_escape_string($con, $_POST[{\cf22 'invoice_no'}]);\par
00404 \par
00405 $amount = mysqli_real_escape_string($con, $_POST[{\cf22 'amount_sent'}]);\par
00406 \par
00407 $payment_mode = mysqli_real_escape_string($con, $_POST[{\cf22 'payment_mode'}]);\par
00408 \par
00409 $ref_no = mysqli_real_escape_string($con, $_POST[{\cf22 'ref_no'}]);\par
00410 \par
00411 $code = mysqli_real_escape_string($con, $_POST[{\cf22 'code'}]);\par
00412 \par
00413 $payment_date = mysqli_real_escape_string($con, $_POST[{\cf22 'date'}]);\par
00414 \par
00415 $completed = {\cf22 "completed"};\par
00416 \par
00417 $insert_payment = {\cf22 "insert into payments (invoice_no,amount,payment_mode,ref_no,code,payment_date) values ('$invoice_no','$amount','$payment_mode','$ref_no','$code','$payment_date')"};\par
00418 \par
00419 $run_payment = mysqli_query($con,$insert_payment);\par
00420 \par
00421 $update_order = {\cf22 "update orders set order_status='$completed' where order_id='$update_id'"};\par
00422 \par
00423 $run_order = mysqli_query($con,$update_order);\par
00424 \par
00425 {\cf19 if}($run_order)\{\par
00426 \par
00427 echo {\cf22 "<script>alert('Su pago ha sido recibido, el pedido se completar\'E1 dentro de las 24 horas.');</script>"};\par
00428 \par
00429 echo {\cf22 "<script>window.open('my_account.php?my_orders','_self');</script>"};\par
00430 \par
00431 \}\par
00432 \par
00433 \par
00434 \}\par
00435 \par
00436 ?>\par
00437 \par
00438 </div><!-- box Ends -->\par
00439 \par
00440 </div><!-- col-md-9 Ends -->\par
00441 \par
00442 </div><!-- container Ends -->\par
00443 \par
00444 </div><!-- content Ends -->\par
00445 \par
00446 <?php\par
00447 \par
00448 include({\cf22 "includes/footer.php"});\par
00449 \par
00450 ?>\par
00451 \par
00452 <script src={\cf22 "js/jquery.min.js"}> </script>\par
00453 \par
00454 <script src={\cf22 "js/bootstrap.min.js"}></script>\par
00455 \par
00456 </body>\par
00457 </html>\par
00458 \par
00459 <?php \} ?>\par
}
\par \pard\plain 

\pard\plain \sect\sbkpage
\s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
\pard\plain \s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
Referencia del Archivo customer_login.php\par \pard\plain 
{\tc\tcl2 \v customer_login.php}
{\xe \v customer_login.php}
{\bkmkstart AAAAAAAAAT}
{\bkmkend AAAAAAAAAT}
\par \pard\plain 

\pard\plain \sect\sbkpage
\s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
\pard\plain \s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
customer_login.php\par \pard\plain 
{\bkmkstart AAAAAAAAAC}
{\bkmkend AAAAAAAAAC}
Ir a la documentaci\'F3n de este archivo.{
\pard\plain \s40\li0\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid 00001 <?php\par
00002 \par
00003 {\cf19 if}(!defined({\cf22 "customer_login"}))\{\par
00004     \par
00005 echo {\cf22 "<script> window.open('../checkout.php','_self'); </script>"};  \par
00006     \par
00007 \}\par
00008 \par
00009 ?>\par
00010 \par
00011 \par
00012 <div {\cf17 class}={\cf22 "box"} ><!-- box Starts -->\par
00013 \par
00014 <div {\cf17 class}={\cf22 "box-header"} ><!-- box-header Starts -->\par
00015 \par
00016 <center>\par
00017 \par
00018 <h1>Acceder</h1>\par
00019 \par
00020 <p {\cf17 class}={\cf22 "lead"} >Ingrese su Cuenta</p>\par
00021 \par
00022 </center>\par
00023 \par
00024 <center><p {\cf17 class}={\cf22 "text-muted"}>Para poder acceder a su cuenta de ShoiStore debe ingresar el correo y contrase\'F1a que registro en el sistema.</p></center>\par
00025 \par
00026 \par
00027 \par
00028 </div><!-- box-header Ends -->\par
00029 \par
00030 <form action={\cf22 "checkout.php"} method={\cf22 "post"} ><!--form Starts -->\par
00031 \par
00032 <div {\cf17 class}={\cf22 "form-group"} ><!-- form-group Starts -->\par
00033 \par
00034 <label>Email</label>\par
00035 \par
00036 <input type={\cf22 "text"} {\cf17 class}={\cf22 "form-control"} name={\cf22 "c_email"} required >\par
00037 \par
00038 </div><!-- form-group Ends -->\par
00039 \par
00040 <div {\cf17 class}={\cf22 "form-group"} ><!-- form-group Starts -->\par
00041 \par
00042 <label>Contrase\'F1a</label>\par
00043 \par
00044 <input type={\cf22 "password"} {\cf17 class}={\cf22 "form-control"} name={\cf22 "c_pass"} required >\par
00045 \par
00046 <h4 align={\cf22 "center"}>\par
00047 \par
00048 <a href={\cf22 "forgot_pass.php"}>\'BFOlvido su Contrase\'F1a?</a>\par
00049 \par
00050 </h4>\par
00051 \par
00052 </div><!-- form-group Ends -->\par
00053 \par
00054 <div {\cf17 class}={\cf22 "text-center"} ><!-- text-center Starts -->\par
00055 \par
00056 <button name={\cf22 "login"} value={\cf22 "Login"} {\cf17 class}={\cf22 "btn btn-primary"} >\par
00057 \par
00058 <i {\cf17 class}={\cf22 "fa fa-sign-in"} ></i> Ingresar\par
00059 \par
00060 \par
00061 </button>\par
00062 \par
00063 </div><!-- text-center Ends -->\par
00064 \par
00065 \par
00066 </form><!--form Ends -->\par
00067 \par
00068 <center><!-- center Starts -->\par
00069 \par
00070 <a href={\cf22 "customer_register.php"} >\par
00071 \par
00072 <h3>\'BFNuevo? Reg\'EDstrate Aqu\'ED</h3>\par
00073 \par
00074 </a>\par
00075 \par
00076 </center><!-- center Ends -->\par
00077 \par
00078 </div><!-- box Ends -->\par
00079 \par
00080 <?php\par
00081 \par
00082 {\cf19 if}(isset($_POST[{\cf22 'login'}]))\{\par
00083 \par
00084 $customer_email = $_POST[{\cf22 'c_email'}];\par
00085 \par
00086 $customer_pass = $_POST[{\cf22 'c_pass'}];\par
00087 \par
00088 $select_customer = {\cf22 "select * from customers where customer_email='$customer_email'"};\par
00089 \par
00090 $run_customer = mysqli_query($con,$select_customer);\par
00091 \par
00092 $check_customer = mysqli_num_rows($run_customer);\par
00093 \par
00094 $row_customer = mysqli_fetch_array($run_customer);\par
00095 \par
00096 $hash_password = $row_customer[{\cf22 "customer_pass"}];\par
00097 \par
00098 $customer_role = $row_customer[{\cf22 "customer_role"}];\par
00099 \par
00100 $decryt_password = password_verify($customer_pass, $hash_password);\par
00101 \par
00102 {\cf19 if}($decryt_password == 0)\{\par
00103     \par
00104 echo {\cf22 "<script>alert('Correo o Contrase\'F1a Incorrectas')</script>"};\par
00105 \par
00106 exit();\par
00107     \par
00108 \}\par
00109 \par
00110 $get_ip = getRealUserIp();\par
00111 \par
00112 $select_cart = {\cf22 "select * from cart where ip_add='$get_ip'"};\par
00113 \par
00114 $run_cart = mysqli_query($con,$select_cart);\par
00115 \par
00116 $check_cart = mysqli_num_rows($run_cart);\par
00117 \par
00118 {\cf19 if}($check_customer==1 AND $check_cart==0)\{\par
00119 \par
00120 $_SESSION[{\cf22 'customer_email'}]=$customer_email;\par
00121 \par
00122 echo {\cf22 "<script>alert('Ingresaste!')</script>"};\par
00123 \par
00124 {\cf19 if}($customer_role == {\cf22 "customer"})\{\par
00125 \par
00126 echo {\cf22 "<script>window.open('customer/my_account.php?my_orders','_self')</script>"};\par
00127 \par
00128 \}elseif($customer_role == {\cf22 "vendor"})\{\par
00129     \par
00130 echo {\cf22 "<script>window.open('vendor_dashboard/index.php','_self')</script>"};\par
00131 \par
00132 \}\par
00133 \par
00134 \}\par
00135 {\cf19 else} \{\par
00136 \par
00137 $_SESSION[{\cf22 'customer_email'}]=$customer_email;\par
00138 \par
00139 echo {\cf22 "<script>alert('Ingresaste!')</script>"};\par
00140 \par
00141 echo {\cf22 "<script>window.open('checkout.php','_self')</script>"};\par
00142 \par
00143 \} \par
00144 \par
00145 \}\par
00146 \par
00147 ?>\par
}
\par \pard\plain 

\pard\plain \sect\sbkpage
\s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
\pard\plain \s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
Referencia del Archivo delete_account.php\par \pard\plain 
{\tc\tcl2 \v delete_account.php}
{\xe \v delete_account.php}
{\bkmkstart AAAAAAAAAU}
{\bkmkend AAAAAAAAAU}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Variables\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b if}(!isset($_SESSION['customer_email'])) {\b $c_email} = $_SESSION['customer_email']\par
}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Documentaci\'F3n de las variables\par
\pard\plain 
{\xe \v $c_email\:delete_account.php}
{\xe \v delete_account.php\:$c_email}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
{\b if} (!isset( $_SESSION[ 'customer_email'])) $c_email = $_SESSION['customer_email']}}
\par
{\bkmkstart AAAAAAAAAV}
{\bkmkend AAAAAAAAAV}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 30} del archivo {\b delete_account.php}.}\par
}
\par \pard\plain 

\pard\plain \sect\sbkpage
\s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
\pard\plain \s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
delete_account.php\par \pard\plain 
{\bkmkstart AAAAAAAAAD}
{\bkmkend AAAAAAAAAD}
Ir a la documentaci\'F3n de este archivo.{
\pard\plain \s40\li0\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid 00001 \par
00002 <?php\par
00003 \par
00004 @session_start();\par
00005 \par
00006 {\cf19 if}(!isset($_SESSION[{\cf22 'customer_email'}]))\{\par
00007 \par
00008 echo {\cf22 "<script>window.open('../checkout.php','_self')</script>"};\par
00009 \par
00010 \}\par
00011 \par
00012 ?>\par
00013 \par
00014 <center>\par
00015 \par
00016 <h1>\'BFRealmente desea eliminar su cuenta?</h1>\par
00017 \par
00018 <form action={\cf22 ""} method={\cf22 "post"}>\par
00019 \par
00020 <input {\cf17 class}={\cf22 "btn btn-danger"} type={\cf22 "submit"} name={\cf22 "yes"} value={\cf22 "Si"}>\par
00021 \par
00022 <input {\cf17 class}={\cf22 "btn btn-primary"} type={\cf22 "submit"} name={\cf22 "no"} value={\cf22 "No"}>\par
00023 \par
00024 </form>\par
00025 \par
00026 </center>\par
00027 \par
00028 <?php\par
00029 \par
00030 $c_email = $_SESSION[{\cf22 'customer_email'}];\par
00031 \par
00032 {\cf19 if}(isset($_POST[{\cf22 'yes'}]))\{\par
00033 \par
00034 $delete_customer = {\cf22 "delete from customers where customer_email='$c_email'"};\par
00035 \par
00036 $run_delete = mysqli_query($con,$delete_customer);\par
00037 \par
00038 {\cf19 if}($run_delete)\{\par
00039 \par
00040 session_destroy();\par
00041 \par
00042 echo {\cf22 "<script>alert('\'A1Tu cuenta ha sido eliminada!')</script>"};\par
00043 \par
00044 echo {\cf22 "<script>window.open('../index.php','_self')</script>"};\par
00045 \par
00046 \}\par
00047 \par
00048 \}\par
00049 \par
00050 {\cf19 if}(isset($_POST[{\cf22 'no'}]))\{\par
00051 \par
00052 echo {\cf22 "<script>window.open('my_account.php?my_orders','_self')</script>"};\par
00053 \par
00054 \}\par
00055 \par
00056 \par
00057 ?>\par
}
\par \pard\plain 

\pard\plain \sect\sbkpage
\s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
\pard\plain \s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
Referencia del Archivo delete_wishlist.php\par \pard\plain 
{\tc\tcl2 \v delete_wishlist.php}
{\xe \v delete_wishlist.php}
{\bkmkstart AAAAAAAAAW}
{\bkmkend AAAAAAAAAW}
\par \pard\plain 

\pard\plain \sect\sbkpage
\s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
\pard\plain \s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
delete_wishlist.php\par \pard\plain 
{\bkmkstart AAAAAAAAAE}
{\bkmkend AAAAAAAAAE}
Ir a la documentaci\'F3n de este archivo.{
\pard\plain \s40\li0\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid 00001 \par
00002 <?php\par
00003 \par
00004 {\cf19 if}(isset($_GET[{\cf22 'delete_wishlist'}]))\{\par
00005 \par
00006 $delete_id = $_GET[{\cf22 'delete_wishlist'}];\par
00007 \par
00008 $delete_wishlist = {\cf22 "delete from wishlist where wishlist_id='$delete_id'"};\par
00009 \par
00010 $run_delete = mysqli_query($con,$delete_wishlist);\par
00011 \par
00012 {\cf19 if}($run_delete)\{\par
00013 \par
00014 $delete_wishlist_meta = {\cf22 "delete from wishlist_meta where wishlist_id='$delete_id'"};\par
00015 \par
00016 $run_delete_wishlist_meta = mysqli_query($con,$delete_wishlist_meta);\par
00017 \par
00018 {\cf19 if}($run_delete_wishlist_meta)\{\par
00019     \par
00020 echo {\cf22 "<script>alert('Se ha eliminado un producto / paquete de la lista de deseos');</script>"};\par
00021 \par
00022 echo {\cf22 "<script>window.open('my_account.php?my_wishlist','_self')</script>"};\par
00023 \par
00024 \}\par
00025 \par
00026 \}\par
00027 \par
00028 \par
00029 \}\par
00030 \par
00031 \par
00032 \par
00033 \par
00034 ?>\par
00035 \par
}
\par \pard\plain 

\pard\plain \sect\sbkpage
\s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
\pard\plain \s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
Referencia del Archivo download.php\par \pard\plain 
{\tc\tcl2 \v download.php}
{\xe \v download.php}
{\bkmkstart AAAAAAAAAX}
{\bkmkend AAAAAAAAAX}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Variables\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b if}(!isset($_SESSION['customer_email'])) {\b else}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b if}(!isset( $_GET["order_id"])) if(!isset($_GET["download_id"])) {\b $customer_email} = $_SESSION['customer_email']\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $get_customer} = "select * from customers where customer_email='$customer_email'"\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $run_customer} = mysqli_query($con, $get_customer)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $row_customer} = mysqli_fetch_array($run_customer)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $customer_id} = $row_customer['customer_id']\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $order_id} = $_GET["order_id"]\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $download_id} = $_GET["download_id"]\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $select_order} = "select * from orders where customer_id='$customer_id' and order_id='$order_id'"\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $run_order} = mysqli_query($con,$select_order)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $count_order} = mysqli_num_rows($run_order)\par
}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Documentaci\'F3n de las variables\par
\pard\plain 
{\xe \v $count_order\:download.php}
{\xe \v download.php\:$count_order}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$count_order = mysqli_num_rows($run_order)}}
\par
{\bkmkstart AAAAAAAAAY}
{\bkmkend AAAAAAAAAY}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 46} del archivo {\b download.php}.}\par
}
{\xe \v $customer_email\:download.php}
{\xe \v download.php\:$customer_email}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
{\b if}(!isset($_GET["order_id"])) if (!isset( $_GET["download_id"])) $customer_email = $_SESSION['customer_email']}}
\par
{\bkmkstart AAAAAAAAAZ}
{\bkmkend AAAAAAAAAZ}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 28} del archivo {\b download.php}.}\par
}
{\xe \v $customer_id\:download.php}
{\xe \v download.php\:$customer_id}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$customer_id = $row_customer['customer_id']}}
\par
{\bkmkstart AAAAAAAABA}
{\bkmkend AAAAAAAABA}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 36} del archivo {\b download.php}.}\par
}
{\xe \v $download_id\:download.php}
{\xe \v download.php\:$download_id}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$download_id = $_GET["download_id"]}}
\par
{\bkmkstart AAAAAAAABB}
{\bkmkend AAAAAAAABB}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 40} del archivo {\b download.php}.}\par
}
{\xe \v $get_customer\:download.php}
{\xe \v download.php\:$get_customer}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$get_customer = "select * from customers where customer_email='$customer_email'"}}
\par
{\bkmkstart AAAAAAAABC}
{\bkmkend AAAAAAAABC}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 30} del archivo {\b download.php}.}\par
}
{\xe \v $order_id\:download.php}
{\xe \v download.php\:$order_id}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$order_id = $_GET["order_id"]}}
\par
{\bkmkstart AAAAAAAABD}
{\bkmkend AAAAAAAABD}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 38} del archivo {\b download.php}.}\par
}
{\xe \v $row_customer\:download.php}
{\xe \v download.php\:$row_customer}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$row_customer = mysqli_fetch_array($run_customer)}}
\par
{\bkmkstart AAAAAAAABE}
{\bkmkend AAAAAAAABE}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 34} del archivo {\b download.php}.}\par
}
{\xe \v $run_customer\:download.php}
{\xe \v download.php\:$run_customer}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$run_customer = mysqli_query($con, $get_customer)}}
\par
{\bkmkstart AAAAAAAABF}
{\bkmkend AAAAAAAABF}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 32} del archivo {\b download.php}.}\par
}
{\xe \v $run_order\:download.php}
{\xe \v download.php\:$run_order}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$run_order = mysqli_query($con,$select_order)}}
\par
{\bkmkstart AAAAAAAABG}
{\bkmkend AAAAAAAABG}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 44} del archivo {\b download.php}.}\par
}
{\xe \v $select_order\:download.php}
{\xe \v download.php\:$select_order}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$select_order = "select * from orders where customer_id='$customer_id' and order_id='$order_id'"}}
\par
{\bkmkstart AAAAAAAABH}
{\bkmkend AAAAAAAABH}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 42} del archivo {\b download.php}.}\par
}
{\xe \v else\:download.php}
{\xe \v download.php\:else}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
{\b if} (!isset( $_SESSION[ 'customer_email'])) else}}
\par
{\bkmkstart AAAAAAAABI}
{\bkmkend AAAAAAAABI}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
{\b Valor inicial:}{
\pard\plain \s41\li360\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid \{\par
\par
include({\cf22 "includes/db.php"})\par
}
{
Definici\'F3n en la l\'EDnea {\b 10} del archivo {\b download.php}.}\par
}
\par \pard\plain 

\pard\plain \sect\sbkpage
\s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
\pard\plain \s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
download.php\par \pard\plain 
{\bkmkstart AAAAAAAAAF}
{\bkmkend AAAAAAAAAF}
Ir a la documentaci\'F3n de este archivo.{
\pard\plain \s40\li0\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid 00001 <?php\par
00002 \par
00003 session_start();\par
00004 \par
00005 {\cf19 if}(!isset($_SESSION[{\cf22 'customer_email'}]))\{\par
00006 \par
00007 echo {\cf22 "<script>window.open('../checkout.php','_self')</script>"};\par
00008 \par
00009 \par
00010 \}{\cf19 else} \{\par
00011 \par
00012 include({\cf22 "includes/db.php"});\par
00013 \par
00014 include({\cf22 "functions/functions.php"});\par
00015 \par
00016 {\cf19 if}(!isset($_GET[{\cf22 "order_id"}]))\{\par
00017 \par
00018 echo {\cf22 "<script> window.open('my_account.php?my_orders','_self'); </script>"};\par
00019     \par
00020 \}\par
00021 \par
00022 {\cf19 if}(!isset($_GET[{\cf22 "download_id"}]))\{\par
00023 \par
00024 echo {\cf22 "<script> window.open('my_account.php?my_orders','_self'); </script>"};\par
00025     \par
00026 \}\par
00027 \par
00028 $customer_email = $_SESSION[{\cf22 'customer_email'}];\par
00029 \par
00030 $get_customer = {\cf22 "select * from customers where customer_email='$customer_email'"};\par
00031 \par
00032 $run_customer = mysqli_query($con, $get_customer);\par
00033 \par
00034 $row_customer = mysqli_fetch_array($run_customer);\par
00035 \par
00036 $customer_id = $row_customer[{\cf22 'customer_id'}];\par
00037 \par
00038 $order_id = $_GET[{\cf22 "order_id"}];\par
00039 \par
00040 $download_id = $_GET[{\cf22 "download_id"}];\par
00041 \par
00042 $select_order = {\cf22 "select * from orders where customer_id='$customer_id' and order_id='$order_id'"};\par
00043 \par
00044 $run_order = mysqli_query($con,$select_order);\par
00045 \par
00046 $count_order = mysqli_num_rows($run_order);\par
00047 \par
00048 {\cf19 if}($count_order != 0)\{\par
00049     \par
00050 {\cf19 if}(!isset($_GET[{\cf22 'sub_order_id'}]))\{\par
00051 \par
00052 $row_order = mysqli_fetch_array($run_order);\par
00053 \par
00054 $order_status = $row_order[{\cf22 "order_status"}];\par
00055 \par
00056 \}{\cf19 else}\{\par
00057     \par
00058 $sub_order_id = $_GET[{\cf22 'sub_order_id'}];\par
00059 \par
00060 $select_vendor_order = {\cf22 "select * from vendor_orders where id='$sub_order_id' and order_id='$order_id'"};\par
00061 \par
00062 $run_vendor_order = mysqli_query($con,$select_vendor_order);\par
00063 \par
00064 $row_vendor_order = mysqli_fetch_array($run_vendor_order);\par
00065 \par
00066 $order_status = $row_vendor_order[{\cf22 'order_status'}];\par
00067 \par
00068 \}\par
00069 \par
00070 {\cf19 if}($order_status == {\cf22 "processing"} or $order_status == {\cf22 "completed"})\{\par
00071 \par
00072 $select_download = {\cf22 "select * from downloads where download_id='$download_id'"};\par
00073 \par
00074 $run_download = mysqli_query($con,$select_download);\par
00075 \par
00076 $row_download = mysqli_fetch_array($run_download);\par
00077 \par
00078 $download_file = {\cf22 "../admin_area/downloads_uploads/"} . $row_download[{\cf22 "download_file"}];\par
00079 \par
00080 {\cf19 if}(file_exists($download_file))\{\par
00081     \par
00082 header({\cf22 'Content-Description: File Transfer'});\par
00083 \par
00084 header({\cf22 'Content-Type: application/octet-stream'});\par
00085 \par
00086 header({\cf22 'Content-Disposition: attachment; filename="'}.basename($download_file).{\cf23 '"'});\par
00087 \par
00088 header({\cf22 'Cache-Control: must-revalidate'});\par
00089 \par
00090 header({\cf22 'Pragma: public'});\par
00091 \par
00092 header({\cf22 'Content-Length: '} . filesize($download_file));\par
00093 \par
00094 readfile($download_file);\par
00095 \par
00096 exit;\par
00097     \par
00098 \}\par
00099     \par
00100 \}\par
00101     \par
00102 \}\par
00103 \par
00104 \}\par
00105 \par
00106 ?>\par
}
\par \pard\plain 

\pard\plain \sect\sbkpage
\s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
\pard\plain \s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
Referencia del Archivo edit_account.php\par \pard\plain 
{\tc\tcl2 \v edit_account.php}
{\xe \v edit_account.php}
{\bkmkstart AAAAAAAABJ}
{\bkmkend AAAAAAAABJ}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Variables\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b if}(!isset($_SESSION['customer_email'])) {\b $customer_session} = $_SESSION['customer_email']\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $get_customer} = "select * from customers where customer_email='$customer_session'"\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $run_customer} = mysqli_query($con,$get_customer)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $row_customer} = mysqli_fetch_array($run_customer)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $customer_id} = $row_customer['customer_id']\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $customer_name} = $row_customer['customer_name']\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $customer_email} = $row_customer['customer_email']\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $customer_contact} = $row_customer['customer_contact']\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $customer_image} = $row_customer['customer_image']\par
}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Documentaci\'F3n de las variables\par
\pard\plain 
{\xe \v $customer_contact\:edit_account.php}
{\xe \v edit_account.php\:$customer_contact}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$customer_contact = $row_customer['customer_contact']}}
\par
{\bkmkstart AAAAAAAABK}
{\bkmkend AAAAAAAABK}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 25} del archivo {\b edit_account.php}.}\par
}
{\xe \v $customer_email\:edit_account.php}
{\xe \v edit_account.php\:$customer_email}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$customer_email = $row_customer['customer_email']}}
\par
{\bkmkstart AAAAAAAABL}
{\bkmkend AAAAAAAABL}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 23} del archivo {\b edit_account.php}.}\par
}
{\xe \v $customer_id\:edit_account.php}
{\xe \v edit_account.php\:$customer_id}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$customer_id = $row_customer['customer_id']}}
\par
{\bkmkstart AAAAAAAABM}
{\bkmkend AAAAAAAABM}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 19} del archivo {\b edit_account.php}.}\par
}
{\xe \v $customer_image\:edit_account.php}
{\xe \v edit_account.php\:$customer_image}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$customer_image = $row_customer['customer_image']}}
\par
{\bkmkstart AAAAAAAABN}
{\bkmkend AAAAAAAABN}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 27} del archivo {\b edit_account.php}.}\par
}
{\xe \v $customer_name\:edit_account.php}
{\xe \v edit_account.php\:$customer_name}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$customer_name = $row_customer['customer_name']}}
\par
{\bkmkstart AAAAAAAABO}
{\bkmkend AAAAAAAABO}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 21} del archivo {\b edit_account.php}.}\par
}
{\xe \v $customer_session\:edit_account.php}
{\xe \v edit_account.php\:$customer_session}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
{\b if} (!isset( $_SESSION[ 'customer_email'])) $customer_session = $_SESSION['customer_email']}}
\par
{\bkmkstart AAAAAAAABP}
{\bkmkend AAAAAAAABP}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 11} del archivo {\b edit_account.php}.}\par
}
{\xe \v $get_customer\:edit_account.php}
{\xe \v edit_account.php\:$get_customer}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$get_customer = "select * from customers where customer_email='$customer_session'"}}
\par
{\bkmkstart AAAAAAAABQ}
{\bkmkend AAAAAAAABQ}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 13} del archivo {\b edit_account.php}.}\par
}
{\xe \v $row_customer\:edit_account.php}
{\xe \v edit_account.php\:$row_customer}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$row_customer = mysqli_fetch_array($run_customer)}}
\par
{\bkmkstart AAAAAAAABR}
{\bkmkend AAAAAAAABR}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 17} del archivo {\b edit_account.php}.}\par
}
{\xe \v $run_customer\:edit_account.php}
{\xe \v edit_account.php\:$run_customer}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$run_customer = mysqli_query($con,$get_customer)}}
\par
{\bkmkstart AAAAAAAABS}
{\bkmkend AAAAAAAABS}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 15} del archivo {\b edit_account.php}.}\par
}
\par \pard\plain 

\pard\plain \sect\sbkpage
\s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
\pard\plain \s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
edit_account.php\par \pard\plain 
{\bkmkstart AAAAAAAAAG}
{\bkmkend AAAAAAAAAG}
Ir a la documentaci\'F3n de este archivo.{
\pard\plain \s40\li0\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid 00001 <?php\par
00002 \par
00003 @session_start();\par
00004 \par
00005 {\cf19 if}(!isset($_SESSION[{\cf22 'customer_email'}]))\{\par
00006 \par
00007 echo {\cf22 "<script>window.open('../checkout.php','_self')</script>"};\par
00008 \par
00009 \}\par
00010 \par
00011 $customer_session = $_SESSION[{\cf22 'customer_email'}];\par
00012 \par
00013 $get_customer = {\cf22 "select * from customers where customer_email='$customer_session'"};\par
00014 \par
00015 $run_customer = mysqli_query($con,$get_customer);\par
00016 \par
00017 $row_customer = mysqli_fetch_array($run_customer);\par
00018 \par
00019 $customer_id = $row_customer[{\cf22 'customer_id'}];\par
00020 \par
00021 $customer_name = $row_customer[{\cf22 'customer_name'}];\par
00022 \par
00023 $customer_email = $row_customer[{\cf22 'customer_email'}];\par
00024 \par
00025 $customer_contact = $row_customer[{\cf22 'customer_contact'}];\par
00026 \par
00027 $customer_image = $row_customer[{\cf22 'customer_image'}];\par
00028 \par
00029 ?>\par
00030 \par
00031 <h1 align={\cf22 "center"} > Editar tu cuenta </h1>\par
00032 \par
00033 <form action={\cf22 ""} method={\cf22 "post"} enctype={\cf22 "multipart/form-data"} ><!--- form Starts -->\par
00034 \par
00035 <div {\cf17 class}={\cf22 "form-group"} ><!-- form-group Starts -->\par
00036 \par
00037 <label> Nombre Cliente: </label>\par
00038 \par
00039 <input type={\cf22 "text"} name={\cf22 "c_name"} {\cf17 class}={\cf22 "form-control"} required value={\cf22 "<?php echo $customer_name; ?>"}>\par
00040 \par
00041 </div><!-- form-group Ends -->\par
00042 \par
00043 <div {\cf17 class}={\cf22 "form-group"} ><!-- form-group Starts -->\par
00044 \par
00045 <label> Cliente Email: </label>\par
00046 \par
00047 <input type={\cf22 "email"} name={\cf22 "c_email"} {\cf17 class}={\cf22 "form-control"} required value={\cf22 "<?php echo $customer_email; ?>"}>\par
00048 \par
00049 \par
00050 </div><!-- form-group Ends -->\par
00051 \par
00052 <div {\cf17 class}={\cf22 "form-group"} ><!-- form-group Starts -->\par
00053 \par
00054 <label> Cliente Contacto: </label>\par
00055 \par
00056 <input type={\cf22 "text"} name={\cf22 "c_contact"} {\cf17 class}={\cf22 "form-control"} required value={\cf22 "<?php echo $customer_contact; ?>"}>\par
00057 \par
00058 </div><!-- form-group Ends -->\par
00059 \par
00060 <div {\cf17 class}={\cf22 "form-group"} ><!-- form-group Starts -->\par
00061 \par
00062 <label> Imagen CLiente: </label>\par
00063 \par
00064 <input type={\cf22 "file"} name={\cf22 "c_image"} {\cf17 class}={\cf22 "form-control"}> <br>\par
00065 \par
00066 <img src={\cf22 "customer_images/<?php echo $customer_image; ?>"} width={\cf22 "100"} height={\cf22 "100"} {\cf17 class}={\cf22 "img-responsive"} >\par
00067 \par
00068 </div><!-- form-group Ends -->\par
00069 \par
00070 <div {\cf17 class}={\cf22 "text-center"} ><!-- text-center Starts -->\par
00071 \par
00072 <button name={\cf22 "update"} {\cf17 class}={\cf22 "btn btn-primary"} >\par
00073 \par
00074 <i {\cf17 class}={\cf22 "fa fa-user-md"} ></i> Actualizar\par
00075 \par
00076 </button>\par
00077 \par
00078 \par
00079 </div><!-- text-center Ends -->\par
00080 \par
00081 \par
00082 </form><!--- form Ends -->\par
00083 \par
00084 <?php\par
00085 \par
00086 {\cf19 if}(isset($_POST[{\cf22 'update'}]))\{\par
00087 \par
00088 $update_id = $customer_id;\par
00089 \par
00090 $c_name = mysqli_real_escape_string($con, $_POST[{\cf22 'c_name'}]);\par
00091 \par
00092 $c_email = mysqli_real_escape_string($con, $_POST[{\cf22 'c_email'}]);\par
00093 \par
00094 $c_contact = mysqli_real_escape_string($con, $_POST[{\cf22 'c_contact'}]);\par
00095 \par
00096 $c_image = $_FILES[{\cf22 'c_image'}][{\cf22 'name'}];\par
00097 \par
00098 $c_image_tmp = $_FILES[{\cf22 'c_image'}][{\cf22 'tmp_name'}];\par
00099 \par
00100 {\cf19 if}(!filter_var($c_email, FILTER_VALIDATE_EMAIL))\{\par
00101     \par
00102 echo {\cf22 "<script>alert('Su Email no es una direcci\'F3n v\'E1lida.')</script>"};\par
00103     \par
00104 exit();\par
00105 \par
00106 \}\par
00107 \par
00108 {\cf19 if}(empty($c_image))\{\par
00109     \par
00110 $c_image = $customer_image;\par
00111 \par
00112 \}{\cf19 else}\{\par
00113 \par
00114 $allowed = array({\cf22 'jpeg'},{\cf22 'jpg'},{\cf22 'gif'},{\cf22 'png'},{\cf22 'tif'},{\cf22 'avi'});\par
00115 \par
00116 $file_extension = pathinfo($c_image, PATHINFO_EXTENSION);\par
00117 \par
00118 {\cf19 if}(!in_array($file_extension,$allowed))\{\par
00119  \par
00120 echo {\cf22 "<script>alert('Su formato de archivo, extensi\'F3n no es compatible.')</script>"};\par
00121 \par
00122 exit();\par
00123 \par
00124 \}{\cf19 else}\{\par
00125 \par
00126 move_uploaded_file($c_image_tmp,{\cf22 "customer_images/$c_image"});\par
00127 \par
00128 \}    \par
00129 \par
00130 \}\par
00131 \par
00132 $update_customer = {\cf22 "update customers set customer_name='$c_name',customer_email='$c_email',customer_contact='$c_contact',customer_image='$c_image' where customer_id='$update_id'"};\par
00133 \par
00134 $run_customer = mysqli_query($con,$update_customer);\par
00135 \par
00136 {\cf19 if}($run_customer)\{\par
00137 \par
00138 echo {\cf22 "<script> alert('Su cuenta se ha actualizado correctamente.'); </script>"};\par
00139 \par
00140 echo {\cf22 "<script> window.open('my_account.php?edit_account','_self');  </script>"};\par
00141 \par
00142 \}\par
00143 \par
00144 \}\par
00145 \par
00146 \par
00147 ?>\par
}
\par \pard\plain 

\pard\plain \sect\sbkpage
\s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
\pard\plain \s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
Referencia del Archivo logout.php\par \pard\plain 
{\tc\tcl2 \v logout.php}
{\xe \v logout.php}
{\bkmkstart AAAAAAAABT}
{\bkmkend AAAAAAAABT}
\par \pard\plain 

\pard\plain \sect\sbkpage
\s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
\pard\plain \s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
logout.php\par \pard\plain 
{\bkmkstart AAAAAAAAAH}
{\bkmkend AAAAAAAAAH}
Ir a la documentaci\'F3n de este archivo.{
\pard\plain \s40\li0\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid 00001 <?php\par
00002 \par
00003 session_start();\par
00004 \par
00005 session_destroy();\par
00006 \par
00007 echo {\cf22 "<script>window.open('../index.php','_self')</script>"};\par
00008 \par
00009 \par
00010 ?>\par
}
\par \pard\plain 

\pard\plain \sect\sbkpage
\s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
\pard\plain \s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
Referencia del Archivo my_account.php\par \pard\plain 
{\tc\tcl2 \v my_account.php}
{\xe \v my_account.php}
{\bkmkstart AAAAAAAABU}
{\bkmkend AAAAAAAABU}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Variables\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b if}(!isset($_SESSION['customer_email'])) {\b else}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $c_email} = $_SESSION['customer_email']\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $get_customer} = "select * from customers where customer_email='$c_email'"\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $run_customer} = mysqli_query($con,$get_customer)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $row_customer} = mysqli_fetch_array($run_customer)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $customer_confirm_code} = $row_customer['customer_confirm_code']\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $c_name} = $row_customer['customer_name']\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b if} (!empty( $customer_confirm_code))\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
if(isset( $_GET[ $customer_confirm_code])) if(isset($_GET['send_email'])) if(isset( $_GET[ 'my_orders'])) if(isset($_GET['pay_offline'])) if(isset( $_GET[ 'edit_account'])) if(isset($_GET['change_pass'])) if(isset( $_GET[ 'delete_account'])) if(isset($_GET['my_wishlist'])) if(isset( $_GET[ 'delete_wishlist'])) {\b if} (isset( $_GET[ 'my_addresses']))\par
}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Documentaci\'F3n de las variables\par
\pard\plain 
{\xe \v $c_email\:my_account.php}
{\xe \v my_account.php\:$c_email}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$c_email = $_SESSION['customer_email']}}
\par
{\bkmkstart AAAAAAAABV}
{\bkmkend AAAAAAAABV}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 308} del archivo {\b my_account.php}.}\par
}
{\xe \v $c_name\:my_account.php}
{\xe \v my_account.php\:$c_name}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$c_name = $row_customer['customer_name']}}
\par
{\bkmkstart AAAAAAAABW}
{\bkmkend AAAAAAAABW}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 318} del archivo {\b my_account.php}.}\par
}
{\xe \v $customer_confirm_code\:my_account.php}
{\xe \v my_account.php\:$customer_confirm_code}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$customer_confirm_code = $row_customer['customer_confirm_code']}}
\par
{\bkmkstart AAAAAAAABX}
{\bkmkend AAAAAAAABX}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 316} del archivo {\b my_account.php}.}\par
}
{\xe \v $get_customer\:my_account.php}
{\xe \v my_account.php\:$get_customer}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$get_customer = "select * from customers where customer_email='$c_email'"}}
\par
{\bkmkstart AAAAAAAABY}
{\bkmkend AAAAAAAABY}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 310} del archivo {\b my_account.php}.}\par
}
{\xe \v $row_customer\:my_account.php}
{\xe \v my_account.php\:$row_customer}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$row_customer = mysqli_fetch_array($run_customer)}}
\par
{\bkmkstart AAAAAAAABZ}
{\bkmkend AAAAAAAABZ}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 314} del archivo {\b my_account.php}.}\par
}
{\xe \v $run_customer\:my_account.php}
{\xe \v my_account.php\:$run_customer}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$run_customer = mysqli_query($con,$get_customer)}}
\par
{\bkmkstart AAAAAAAACA}
{\bkmkend AAAAAAAACA}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 312} del archivo {\b my_account.php}.}\par
}
{\xe \v else\:my_account.php}
{\xe \v my_account.php\:else}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
{\b if} (!isset( $_SESSION[ 'customer_email'])) else}}
\par
{\bkmkstart AAAAAAAACB}
{\bkmkend AAAAAAAACB}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
{\b Valor inicial:}{
\pard\plain \s41\li360\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid \{\par
\par
include({\cf22 "includes/db.php"})\par
}
{
Definici\'F3n en la l\'EDnea {\b 9} del archivo {\b my_account.php}.}\par
}
{\xe \v if\:my_account.php}
{\xe \v my_account.php\:if}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
if(!empty($customer_confirm_code)) (!  {\i empty} $customer_confirm_code)}}
\par
{\bkmkstart AAAAAAAACC}
{\bkmkend AAAAAAAACC}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 320} del archivo {\b my_account.php}.}\par
}
{\xe \v if\:my_account.php}
{\xe \v my_account.php\:if}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
if(isset($_GET[$customer_confirm_code])) if(isset( $_GET[ 'send_email'])) if(isset($_GET['my_orders'])) if(isset( $_GET[ 'pay_offline'])) if(isset($_GET['edit_account'])) if(isset( $_GET[ 'change_pass'])) if(isset($_GET['delete_account'])) if(isset( $_GET[ 'my_wishlist'])) if(isset($_GET['delete_wishlist'])) if(isset($_GET['my_addresses'])) (isset( $_GET[ 'my_addresses']) )}}
\par
{\bkmkstart AAAAAAAACD}
{\bkmkend AAAAAAAACD}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 440} del archivo {\b my_account.php}.}\par
}
\par \pard\plain 

\pard\plain \sect\sbkpage
\s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
\pard\plain \s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
my_account.php\par \pard\plain 
{\bkmkstart AAAAAAAAAI}
{\bkmkend AAAAAAAAAI}
Ir a la documentaci\'F3n de este archivo.{
\pard\plain \s40\li0\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid 00001 <?php\par
00002 \par
00003 session_start();\par
00004 \par
00005 {\cf19 if}(!isset($_SESSION[{\cf22 'customer_email'}]))\{\par
00006 \par
00007 echo {\cf22 "<script>window.open('../checkout.php','_self')</script>"};\par
00008 \par
00009 \}{\cf19 else} \{\par
00010 \par
00011 include({\cf22 "includes/db.php"});\par
00012 \par
00013 include({\cf22 "functions/functions.php"});\par
00014 \par
00015 ?>\par
00016 <!DOCTYPE html>\par
00017 \par
00018 <html>\par
00019 \par
00020 <head>\par
00021 \par
00022 <title>ShoiStore</title>\par
00023 \par
00024 <meta name={\cf22 "viewport"} content={\cf22 "width=device-width, initial-scale=1, shrink-to-fit=no"}>\par
00025 \par
00026 <link href={\cf22 "http://fonts.googleapis.com/css?family=Roboto:400,500,700,300,100"} rel={\cf22 "stylesheet"} >\par
00027 \par
00028 <link href={\cf22 "styles/bootstrap.min.css"} rel={\cf22 "stylesheet"}>\par
00029 \par
00030 <link href={\cf22 "styles/style.css"} rel={\cf22 "stylesheet"}>\par
00031 \par
00032 <link href={\cf22 "font-awesome/css/font-awesome.min.css"} rel={\cf22 "stylesheet"}>\par
00033 \par
00034 </head>\par
00035 \par
00036 <body>\par
00037 \par
00038 <div {\cf18 id}={\cf22 "top"}><!-- top Starts -->\par
00039 \par
00040 <div {\cf17 class}={\cf22 "container"}><!-- container Starts -->\par
00041 \par
00042 <div {\cf17 class}={\cf22 "col-md-6 offer"}><!-- col-md-6 offer Starts -->\par
00043 \par
00044 <a href={\cf22 "#"} {\cf17 class}={\cf22 "btn btn-success btn-sm"} >\par
00045 <?php\par
00046 \par
00047 {\cf19 if}(!isset($_SESSION[{\cf22 'customer_email'}]))\{\par
00048 \par
00049 echo {\cf22 "Bienvenid@ Invitad@"};\par
00050 \par
00051 \par
00052 \}{\cf19 else}\{\par
00053 \par
00054 echo {\cf22 "Bienvenid@ : "} . $_SESSION[{\cf22 'customer_email'}] . {\cf22 ""};\par
00055 \par
00056 \}\par
00057 \par
00058 \par
00059 ?>\par
00060 </a>\par
00061 \par
00062 <a href={\cf22 "#"}>\par
00063 Precio Total: <?php total_price(); ?>, Cantidad de Items:<?php items(); ?>\par
00064 </a>\par
00065 \par
00066 </div><!-- col-md-6 offer Ends -->\par
00067 \par
00068 <div {\cf17 class}={\cf22 "col-md-6"}><!-- col-md-6 Starts -->\par
00069 \par
00070 <ul {\cf17 class}={\cf22 "menu"}><!-- menu Starts -->\par
00071 \par
00072 <?php \par
00073 \par
00074 {\cf19 if}(isset($_SESSION[{\cf22 'customer_email'}]))\{\par
00075     \par
00076 $customer_email = $_SESSION[{\cf22 'customer_email'}];\par
00077 \par
00078 $select_customer = {\cf22 "select * from customers where customer_email='$customer_email'"};\par
00079 \par
00080 $run_customer = mysqli_query($con,$select_customer);\par
00081 \par
00082 $row_customer = mysqli_fetch_array($run_customer);\par
00083 \par
00084 $customer_role = $row_customer[{\cf22 'customer_role'}];\par
00085 \par
00086 {\cf19 if}($customer_role == {\cf22 "customer"})\{ \par
00087 \par
00088 ?>\par
00089 \par
00090 <li>\par
00091 \par
00092 <a href={\cf22 "../shop.php"}> Tienda </a>\par
00093 \par
00094 </li>\par
00095 \par
00096 <?php \}elseif($customer_role == {\cf22 "vendor"})\{ ?>\par
00097 \par
00098 <li>\par
00099 \par
00100 <a href={\cf22 "../vendor_dashboard/index.php"}> Vendedor Dashboard </a>\par
00101 \par
00102 </li>\par
00103 \par
00104 <?php \} \} ?>\par
00105 \par
00106 <li>\par
00107 <?php\par
00108 \par
00109 {\cf19 if}(!isset($_SESSION[{\cf22 'customer_email'}]))\{\par
00110 \par
00111 echo {\cf22 "<a href='../checkout.php' >Mi Cuenta</a>"};\par
00112 \par
00113 \}\par
00114 {\cf19 else}\{\par
00115 \par
00116 echo {\cf22 "<a href='my_account.php?my_orders'>Mi Cuenta</a>"};\par
00117 \par
00118 \}\par
00119 \par
00120 \par
00121 ?>\par
00122 </li>\par
00123 \par
00124 <li>\par
00125 <a href={\cf22 "../cart.php"}>\par
00126 Ir al Carrito\par
00127 </a>\par
00128 </li>\par
00129 \par
00130 <li>\par
00131 <?php\par
00132 \par
00133 {\cf19 if}(!isset($_SESSION[{\cf22 'customer_email'}]))\{\par
00134 \par
00135 echo {\cf22 "<a href='../checkout.php'> Acceder </a>"};\par
00136 \par
00137 \}{\cf19 else} \{\par
00138 \par
00139 echo {\cf22 "<a href='logout.php'> Cerrar Sesi\'F3n </a>"};\par
00140 \par
00141 \}\par
00142 \par
00143 ?>\par
00144 </li>\par
00145 \par
00146 </ul><!-- menu Ends -->\par
00147 \par
00148 </div><!-- col-md-6 Ends -->\par
00149 \par
00150 </div><!-- container Ends -->\par
00151 </div><!-- top Ends -->\par
00152 \par
00153 <div {\cf17 class}={\cf22 "navbar navbar-default"} {\cf18 id}={\cf22 "navbar"}><!-- navbar navbar-{\cf19 default} Starts -->\par
00154 <div {\cf17 class}={\cf22 "container"} ><!-- container Starts -->\par
00155 \par
00156 <div {\cf17 class}={\cf22 "navbar-header"}><!-- navbar-header Starts -->\par
00157 \par
00158 <a {\cf17 class}={\cf22 "navbar-brand home"} href={\cf22 "../index.php"} ><!--- navbar navbar-brand home Starts -->\par
00159 \par
00160 <img src={\cf22 "images/ShoiStoree.png"} alt={\cf22 "ShoiStore logo"} {\cf17 class}={\cf22 "hidden-xs"} >\par
00161 <img src={\cf22 "images/ShoiStoree.png"} alt={\cf22 "ShoiStore logo"} {\cf17 class}={\cf22 "visible-xs"} >\par
00162 \par
00163 </a><!--- navbar navbar-brand home Ends -->\par
00164 \par
00165 <button type={\cf22 "button"} {\cf17 class}={\cf22 "navbar-toggle"} data-toggle={\cf22 "collapse"} data-target={\cf22 "#navigation"}  >\par
00166 \par
00167 <span {\cf17 class}={\cf22 "sr-only"} >Navegaci\'F3n </span>\par
00168 \par
00169 <i {\cf17 class}={\cf22 "fa fa-align-justify"}></i>\par
00170 \par
00171 </button>\par
00172 \par
00173 <button type={\cf22 "button"} {\cf17 class}={\cf22 "navbar-toggle"} data-toggle={\cf22 "collapse"} data-target={\cf22 "#search"} >\par
00174 \par
00175 <span {\cf17 class}={\cf22 "sr-only"} >Buscar</span>\par
00176 \par
00177 <i {\cf17 class}={\cf22 "fa fa-search"} ></i>\par
00178 \par
00179 </button>\par
00180 \par
00181 \par
00182 </div><!-- navbar-header Ends -->\par
00183 \par
00184 <div {\cf17 class}={\cf22 "navbar-collapse collapse"} {\cf18 id}={\cf22 "navigation"} ><!-- navbar-collapse collapse Starts -->\par
00185 \par
00186 <div {\cf17 class}={\cf22 "padding-nav"} ><!-- padding-nav Starts -->\par
00187 \par
00188 <ul {\cf17 class}={\cf22 "nav navbar-nav navbar-left"}><!-- nav navbar-nav navbar-left Starts -->\par
00189 \par
00190 <li>\par
00191 <a href={\cf22 "../index.php"}> Home </a>\par
00192 </li>\par
00193 \par
00194 <li>\par
00195 <a href={\cf22 "../shop.php"}> Tienda </a>\par
00196 </li>\par
00197 \par
00198 <li {\cf17 class}={\cf22 "active"}>\par
00199 <?php\par
00200 \par
00201 {\cf19 if}(!isset($_SESSION[{\cf22 'customer_email'}]))\{\par
00202 \par
00203 echo {\cf22 "<a href='../checkout.php' >Mi Cuenta</a>"};\par
00204 \par
00205 \}\par
00206 {\cf19 else}\{\par
00207 \par
00208 echo {\cf22 "<a href='my_account.php?my_orders'>Mi Cuenta</a>"};\par
00209 \par
00210 \}\par
00211 \par
00212 \par
00213 ?>\par
00214 </li>\par
00215 \par
00216 <li>\par
00217 <a href={\cf22 "../cart.php"}> Carrito </a>\par
00218 </li>\par
00219 \par
00220 <li>\par
00221 <a href={\cf22 "../about.php"}> \'BFQui\'E9nes Somos? </a>\par
00222 </li>\par
00223 \par
00224 <li>\par
00225 \par
00226 <a href={\cf22 "../services.php"}> Servicios </a>\par
00227 \par
00228 </li>\par
00229 \par
00230 <li>\par
00231 <a href={\cf22 "../contact.php"}> Cont\'E1ctanos </a>\par
00232 </li>\par
00233 \par
00234 </ul><!-- nav navbar-nav navbar-left Ends -->\par
00235 \par
00236 </div><!-- padding-nav Ends -->\par
00237 \par
00238 <a {\cf17 class}={\cf22 "btn btn-primary navbar-btn right"} href={\cf22 "../cart.php"}><!-- btn btn-primary navbar-btn right Starts -->\par
00239 \par
00240 <i {\cf17 class}={\cf22 "fa fa-shopping-cart"}></i>\par
00241 \par
00242 <span> <?php items(); ?> Art\'EDculos </span>\par
00243 \par
00244 </a><!-- btn btn-primary navbar-btn right Ends -->\par
00245 \par
00246 <div {\cf17 class}={\cf22 "navbar-collapse collapse right"}><!-- navbar-collapse collapse right Starts -->\par
00247 \par
00248 <button {\cf17 class}={\cf22 "btn navbar-btn btn-primary"} type={\cf22 "button"} data-toggle={\cf22 "collapse"} data-target={\cf22 "#search"}>\par
00249 \par
00250 <span {\cf17 class}={\cf22 "sr-only"}>Buscar</span>\par
00251 \par
00252 <i {\cf17 class}={\cf22 "fa fa-search"}></i>\par
00253 \par
00254 </button>\par
00255 \par
00256 </div><!-- navbar-collapse collapse right Ends -->\par
00257 \par
00258 <div {\cf17 class}={\cf22 "collapse clearfix"} {\cf18 id}={\cf22 "search"}><!-- collapse clearfix Starts -->\par
00259 \par
00260 <form {\cf17 class}={\cf22 "navbar-form"} method={\cf22 "get"} action={\cf22 "results.php"}><!-- navbar-form Starts -->\par
00261 \par
00262 <div {\cf17 class}={\cf22 "input-group"}><!-- input-group Starts -->\par
00263 \par
00264 <input {\cf17 class}={\cf22 "form-control"} type={\cf22 "text"} placeholder={\cf22 "Buscar"} name={\cf22 "user_query"} required>\par
00265 \par
00266 <span {\cf17 class}={\cf22 "input-group-btn"}><!-- input-group-btn Starts -->\par
00267 \par
00268 <button type={\cf22 "submit"} value={\cf22 "Search"} name={\cf22 "search"} {\cf17 class}={\cf22 "btn btn-primary"}>\par
00269 \par
00270 <i {\cf17 class}={\cf22 "fa fa-search"}></i>\par
00271 \par
00272 </button>\par
00273 \par
00274 </span><!-- input-group-btn Ends -->\par
00275 \par
00276 </div><!-- input-group Ends -->\par
00277 \par
00278 </form><!-- navbar-form Ends -->\par
00279 \par
00280 </div><!-- collapse clearfix Ends -->\par
00281 \par
00282 </div><!-- navbar-collapse collapse Ends -->\par
00283 \par
00284 </div><!-- container Ends -->\par
00285 \par
00286 </div><!-- navbar navbar-{\cf19 default} Ends -->\par
00287 \par
00288 <div {\cf18 id}={\cf22 "content"}><!-- content Starts -->\par
00289 \par
00290 <div {\cf17 class}={\cf22 "container-fluid"}><!-- container-fluid Starts -->\par
00291 \par
00292 <div {\cf17 class}={\cf22 "col-md-12"} ><!--- col-md-12 Starts -->\par
00293 \par
00294 <ul {\cf17 class}={\cf22 "breadcrumb"} ><!-- breadcrumb Starts -->\par
00295 \par
00296 <li><a href={\cf22 "index.php"}>Home</a></li>\par
00297 \par
00298 <li>Mi Cuenta</li>\par
00299 \par
00300 </ul><!-- breadcrumb Ends -->\par
00301 \par
00302 </div><!--- col-md-12 Ends -->\par
00303 \par
00304 <div {\cf17 class}={\cf22 "col-md-12"}><!-- col-md-12 Starts -->\par
00305 \par
00306 <?php\par
00307 \par
00308 $c_email = $_SESSION[{\cf22 'customer_email'}];\par
00309 \par
00310 $get_customer = {\cf22 "select * from customers where customer_email='$c_email'"};\par
00311 \par
00312 $run_customer = mysqli_query($con,$get_customer);\par
00313 \par
00314 $row_customer = mysqli_fetch_array($run_customer);\par
00315 \par
00316 $customer_confirm_code = $row_customer[{\cf22 'customer_confirm_code'}];\par
00317 \par
00318 $c_name = $row_customer[{\cf22 'customer_name'}];\par
00319 \par
00320 {\cf19 if}(!empty($customer_confirm_code))\{\par
00321 \par
00322 ?>\par
00323 \par
00324 <div {\cf17 class}={\cf22 "alert alert-danger"}><!-- alert alert-danger Starts -->\par
00325 \par
00326 <strong> Advertencia! </strong> Confirme su Email y si no ha recibido su Email de confirmaci\'F3n\par
00327 \par
00328 <a href={\cf22 "my_account.php?send_email"} {\cf17 class}={\cf22 "alert-link"}> \par
00329 \par
00330 Enviar Email de nuevo\par
00331 \par
00332 </a>\par
00333 \par
00334 </div><!-- alert alert-danger Ends -->\par
00335 \par
00336 <?php \} ?>\par
00337 \par
00338 </div><!-- col-md-12 Ends -->\par
00339 \par
00340 <div {\cf17 class}={\cf22 "col-md-3"}><!-- col-md-3 Starts -->\par
00341 \par
00342 <?php include({\cf22 "includes/sidebar.php"}); ?>\par
00343 \par
00344 </div><!-- col-md-3 Ends -->\par
00345 \par
00346 <div {\cf17 class}={\cf22 "col-md-9"} ><!--- col-md-9 Starts -->\par
00347 \par
00348 <div {\cf17 class}={\cf22 "box"}><!-- box Starts -->\par
00349 \par
00350 <?php\par
00351 \par
00352 {\cf19 if}(isset($_GET[$customer_confirm_code]))\{\par
00353 \par
00354 $update_customer = {\cf22 "update customers set customer_confirm_code='' where customer_confirm_code='$customer_confirm_code'"};\par
00355 \par
00356 $run_confirm = mysqli_query($con,$update_customer);\par
00357 \par
00358 echo {\cf22 "<script>alert('Tu correo ha sido confirmado')</script>"};\par
00359 \par
00360 echo {\cf22 "<script>window.open('my_account.php?my_orders','_self')</script>"};\par
00361 \par
00362 \}\par
00363 \par
00364 {\cf19 if}(isset($_GET[{\cf22 'send_email'}]))\{\par
00365 \par
00366 $subject = {\cf22 "Email de Confirmaci\'F3n ShoiStore"};\par
00367 \par
00368 $from = {\cf22 "ShoiStore@gmail.com"};\par
00369 \par
00370 $message = {\cf22 "}\par
00371 {\cf22 }\par
00372 {\cf22 <h2>}\par
00373 {\cf22 Email de Confirmaci\'F3n de ShoiStore $c_name}\par
00374 {\cf22 </h2>}\par
00375 {\cf22 }\par
00376 {\cf22 <a href='localhost/shoistore/customer/my_account.php?$customer_confirm_code'>}\par
00377 {\cf22 }\par
00378 {\cf22 Click Aqu\'ED para confirmar}\par
00379 {\cf22 }\par
00380 {\cf22 </a>}\par
00381 {\cf22 }\par
00382 {\cf22 "};\par
00383 \par
00384 $headers = {\cf22 "From: $from \\r\\n"};\par
00385 \par
00386 $headers .= {\cf22 "Content-type: text/html\\r\\n"};\par
00387 \par
00388 mail($c_email,$subject,$message,$headers);\par
00389 \par
00390 echo {\cf22 "<script>alert('Su correo electr\'F3nico de confirmaci\'F3n le ha sido enviado, revise su bandeja de entrada')</script>"};\par
00391 \par
00392 echo {\cf22 "<script>window.open('my_account.php?my_orders','_self')</script>"};\par
00393 \par
00394 \}\par
00395 \par
00396 \par
00397 \par
00398 {\cf19 if}(isset($_GET[{\cf22 'my_orders'}]))\{\par
00399 \par
00400 include({\cf22 "my_orders.php"});\par
00401 \par
00402 \}\par
00403 \par
00404 {\cf19 if}(isset($_GET[{\cf22 'pay_offline'}])) \{\par
00405 \par
00406 include({\cf22 "pay_offline.php"});\par
00407 \par
00408 \}\par
00409 \par
00410 {\cf19 if}(isset($_GET[{\cf22 'edit_account'}])) \{\par
00411 \par
00412 include({\cf22 "edit_account.php"});\par
00413 \par
00414 \}\par
00415 \par
00416 {\cf19 if}(isset($_GET[{\cf22 'change_pass'}]))\{\par
00417 \par
00418 include({\cf22 "change_pass.php"});\par
00419 \par
00420 \}\par
00421 \par
00422 {\cf19 if}(isset($_GET[{\cf22 'delete_account'}]))\{\par
00423 \par
00424 include({\cf22 "delete_account.php"});\par
00425 \par
00426 \}\par
00427 \par
00428 {\cf19 if}(isset($_GET[{\cf22 'my_wishlist'}]))\{\par
00429 \par
00430 include({\cf22 "my_wishlist.php"});\par
00431 \par
00432 \}\par
00433 \par
00434 {\cf19 if}(isset($_GET[{\cf22 'delete_wishlist'}]))\{\par
00435 \par
00436 include({\cf22 "delete_wishlist.php"});\par
00437 \par
00438 \}\par
00439 \par
00440 {\cf19 if}(isset($_GET[{\cf22 'my_addresses'}]))\{\par
00441 \par
00442 include({\cf22 "my_addresses.php"});\par
00443 \par
00444 \}\par
00445 \par
00446 ?>\par
00447 \par
00448 </div><!-- box Ends -->\par
00449 \par
00450 \par
00451 </div><!--- col-md-9 Ends -->\par
00452 \par
00453 </div><!-- container-fluid Ends -->\par
00454 \par
00455 </div><!-- content Ends -->\par
00456 \par
00457 <?php include({\cf22 "includes/footer.php"}); ?>\par
00458 \par
00459 <script src={\cf22 "js/jquery.min.js"}> </script>\par
00460 \par
00461 <script src={\cf22 "js/bootstrap.min.js"}></script>\par
00462 \par
00463 </body>\par
00464 </html>\par
00465 <?php \} ?>\par
}
\par \pard\plain 

\pard\plain \sect\sbkpage
\s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
\pard\plain \s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
Referencia del Archivo my_addresses.php\par \pard\plain 
{\tc\tcl2 \v my_addresses.php}
{\xe \v my_addresses.php}
{\bkmkstart AAAAAAAACE}
{\bkmkend AAAAAAAACE}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Variables\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b if}(!isset($_SESSION['customer_email'])) {\b $customer_session} = $_SESSION['customer_email']\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $get_customer} = "select * from customers where customer_email='$customer_session'"\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $run_customer} = mysqli_query($con,$get_customer)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $row_customer} = mysqli_fetch_array($run_customer)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $customer_id} = $row_customer['customer_id']\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $get_customers_addresses} = "select * from customers_addresses where customer_id='$customer_id'"\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $run_customers_addresses} = mysqli_query($con,$get_customers_addresses)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $row_addresses} = mysqli_fetch_array($run_customers_addresses)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $billing_first_name} = $row_addresses["billing_first_name"]\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $billing_last_name} = $row_addresses["billing_last_name"]\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $billing_address_1} = $row_addresses["billing_address_1"]\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $billing_address_2} = $row_addresses["billing_address_2"]\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $billing_city} = $row_addresses["billing_city"]\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $billing_postcode} = $row_addresses["billing_postcode"]\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $billing_country} = $row_addresses["billing_country"]\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $billing_state} = $row_addresses["billing_state"]\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $shipping_first_name} = $row_addresses["shipping_first_name"]\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $shipping_last_name} = $row_addresses["shipping_last_name"]\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $shipping_address_1} = $row_addresses["shipping_address_1"]\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $shipping_address_2} = $row_addresses["shipping_address_2"]\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $shipping_city} = $row_addresses["shipping_city"]\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $shipping_postcode} = $row_addresses["shipping_postcode"]\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $shipping_country} = $row_addresses["shipping_country"]\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $shipping_state} = $row_addresses["shipping_state"]\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $get_countries} = "select * from countries"\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $run_countries} = mysqli_query($con,$get_countries)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b while} ( $row_countries=mysqli_fetch_array( $run_countries))\par
}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Documentaci\'F3n de las variables\par
\pard\plain 
{\xe \v $billing_address_1\:my_addresses.php}
{\xe \v my_addresses.php\:$billing_address_1}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$billing_address_1 = $row_addresses["billing_address_1"]}}
\par
{\bkmkstart AAAAAAAACF}
{\bkmkend AAAAAAAACF}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 31} del archivo {\b my_addresses.php}.}\par
}
{\xe \v $billing_address_2\:my_addresses.php}
{\xe \v my_addresses.php\:$billing_address_2}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$billing_address_2 = $row_addresses["billing_address_2"]}}
\par
{\bkmkstart AAAAAAAACG}
{\bkmkend AAAAAAAACG}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 33} del archivo {\b my_addresses.php}.}\par
}
{\xe \v $billing_city\:my_addresses.php}
{\xe \v my_addresses.php\:$billing_city}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$billing_city = $row_addresses["billing_city"]}}
\par
{\bkmkstart AAAAAAAACH}
{\bkmkend AAAAAAAACH}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 35} del archivo {\b my_addresses.php}.}\par
}
{\xe \v $billing_country\:my_addresses.php}
{\xe \v my_addresses.php\:$billing_country}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$billing_country = $row_addresses["billing_country"]}}
\par
{\bkmkstart AAAAAAAACI}
{\bkmkend AAAAAAAACI}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 39} del archivo {\b my_addresses.php}.}\par
}
{\xe \v $billing_first_name\:my_addresses.php}
{\xe \v my_addresses.php\:$billing_first_name}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$billing_first_name = $row_addresses["billing_first_name"]}}
\par
{\bkmkstart AAAAAAAACJ}
{\bkmkend AAAAAAAACJ}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 27} del archivo {\b my_addresses.php}.}\par
}
{\xe \v $billing_last_name\:my_addresses.php}
{\xe \v my_addresses.php\:$billing_last_name}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$billing_last_name = $row_addresses["billing_last_name"]}}
\par
{\bkmkstart AAAAAAAACK}
{\bkmkend AAAAAAAACK}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 29} del archivo {\b my_addresses.php}.}\par
}
{\xe \v $billing_postcode\:my_addresses.php}
{\xe \v my_addresses.php\:$billing_postcode}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$billing_postcode = $row_addresses["billing_postcode"]}}
\par
{\bkmkstart AAAAAAAACL}
{\bkmkend AAAAAAAACL}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 37} del archivo {\b my_addresses.php}.}\par
}
{\xe \v $billing_state\:my_addresses.php}
{\xe \v my_addresses.php\:$billing_state}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$billing_state = $row_addresses["billing_state"]}}
\par
{\bkmkstart AAAAAAAACM}
{\bkmkend AAAAAAAACM}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 41} del archivo {\b my_addresses.php}.}\par
}
{\xe \v $customer_id\:my_addresses.php}
{\xe \v my_addresses.php\:$customer_id}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$customer_id = $row_customer['customer_id']}}
\par
{\bkmkstart AAAAAAAACN}
{\bkmkend AAAAAAAACN}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 19} del archivo {\b my_addresses.php}.}\par
}
{\xe \v $customer_session\:my_addresses.php}
{\xe \v my_addresses.php\:$customer_session}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
{\b if} (!isset( $_SESSION[ 'customer_email'])) $customer_session = $_SESSION['customer_email']}}
\par
{\bkmkstart AAAAAAAACO}
{\bkmkend AAAAAAAACO}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 11} del archivo {\b my_addresses.php}.}\par
}
{\xe \v $get_countries\:my_addresses.php}
{\xe \v my_addresses.php\:$get_countries}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$get_countries = "select * from countries"}}
\par
{\bkmkstart AAAAAAAACP}
{\bkmkend AAAAAAAACP}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 103} del archivo {\b my_addresses.php}.}\par
}
{\xe \v $get_customer\:my_addresses.php}
{\xe \v my_addresses.php\:$get_customer}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$get_customer = "select * from customers where customer_email='$customer_session'"}}
\par
{\bkmkstart AAAAAAAACQ}
{\bkmkend AAAAAAAACQ}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 13} del archivo {\b my_addresses.php}.}\par
}
{\xe \v $get_customers_addresses\:my_addresses.php}
{\xe \v my_addresses.php\:$get_customers_addresses}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$get_customers_addresses = "select * from customers_addresses where customer_id='$customer_id'"}}
\par
{\bkmkstart AAAAAAAACR}
{\bkmkend AAAAAAAACR}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 21} del archivo {\b my_addresses.php}.}\par
}
{\xe \v $row_addresses\:my_addresses.php}
{\xe \v my_addresses.php\:$row_addresses}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$row_addresses = mysqli_fetch_array($run_customers_addresses)}}
\par
{\bkmkstart AAAAAAAACS}
{\bkmkend AAAAAAAACS}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 25} del archivo {\b my_addresses.php}.}\par
}
{\xe \v $row_customer\:my_addresses.php}
{\xe \v my_addresses.php\:$row_customer}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$row_customer = mysqli_fetch_array($run_customer)}}
\par
{\bkmkstart AAAAAAAACT}
{\bkmkend AAAAAAAACT}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 17} del archivo {\b my_addresses.php}.}\par
}
{\xe \v $run_countries\:my_addresses.php}
{\xe \v my_addresses.php\:$run_countries}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$run_countries = mysqli_query($con,$get_countries)}}
\par
{\bkmkstart AAAAAAAACU}
{\bkmkend AAAAAAAACU}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 105} del archivo {\b my_addresses.php}.}\par
}
{\xe \v $run_customer\:my_addresses.php}
{\xe \v my_addresses.php\:$run_customer}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$run_customer = mysqli_query($con,$get_customer)}}
\par
{\bkmkstart AAAAAAAACV}
{\bkmkend AAAAAAAACV}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 15} del archivo {\b my_addresses.php}.}\par
}
{\xe \v $run_customers_addresses\:my_addresses.php}
{\xe \v my_addresses.php\:$run_customers_addresses}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$run_customers_addresses = mysqli_query($con,$get_customers_addresses)}}
\par
{\bkmkstart AAAAAAAACW}
{\bkmkend AAAAAAAACW}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 23} del archivo {\b my_addresses.php}.}\par
}
{\xe \v $shipping_address_1\:my_addresses.php}
{\xe \v my_addresses.php\:$shipping_address_1}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$shipping_address_1 = $row_addresses["shipping_address_1"]}}
\par
{\bkmkstart AAAAAAAACX}
{\bkmkend AAAAAAAACX}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 47} del archivo {\b my_addresses.php}.}\par
}
{\xe \v $shipping_address_2\:my_addresses.php}
{\xe \v my_addresses.php\:$shipping_address_2}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$shipping_address_2 = $row_addresses["shipping_address_2"]}}
\par
{\bkmkstart AAAAAAAACY}
{\bkmkend AAAAAAAACY}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 49} del archivo {\b my_addresses.php}.}\par
}
{\xe \v $shipping_city\:my_addresses.php}
{\xe \v my_addresses.php\:$shipping_city}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$shipping_city = $row_addresses["shipping_city"]}}
\par
{\bkmkstart AAAAAAAACZ}
{\bkmkend AAAAAAAACZ}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 51} del archivo {\b my_addresses.php}.}\par
}
{\xe \v $shipping_country\:my_addresses.php}
{\xe \v my_addresses.php\:$shipping_country}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$shipping_country = $row_addresses["shipping_country"]}}
\par
{\bkmkstart AAAAAAAADA}
{\bkmkend AAAAAAAADA}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 55} del archivo {\b my_addresses.php}.}\par
}
{\xe \v $shipping_first_name\:my_addresses.php}
{\xe \v my_addresses.php\:$shipping_first_name}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$shipping_first_name = $row_addresses["shipping_first_name"]}}
\par
{\bkmkstart AAAAAAAADB}
{\bkmkend AAAAAAAADB}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 43} del archivo {\b my_addresses.php}.}\par
}
{\xe \v $shipping_last_name\:my_addresses.php}
{\xe \v my_addresses.php\:$shipping_last_name}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$shipping_last_name = $row_addresses["shipping_last_name"]}}
\par
{\bkmkstart AAAAAAAADC}
{\bkmkend AAAAAAAADC}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 45} del archivo {\b my_addresses.php}.}\par
}
{\xe \v $shipping_postcode\:my_addresses.php}
{\xe \v my_addresses.php\:$shipping_postcode}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$shipping_postcode = $row_addresses["shipping_postcode"]}}
\par
{\bkmkstart AAAAAAAADD}
{\bkmkend AAAAAAAADD}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 53} del archivo {\b my_addresses.php}.}\par
}
{\xe \v $shipping_state\:my_addresses.php}
{\xe \v my_addresses.php\:$shipping_state}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$shipping_state = $row_addresses["shipping_state"]}}
\par
{\bkmkstart AAAAAAAADE}
{\bkmkend AAAAAAAADE}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 57} del archivo {\b my_addresses.php}.}\par
}
{\xe \v while\:my_addresses.php}
{\xe \v my_addresses.php\:while}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
while($row_countries=mysqli_fetch_array($run_countries)) (  {\i $row_countries} = {\f2 mysqli_fetch_array($run_countries)})}}
\par
{\bkmkstart AAAAAAAADF}
{\bkmkend AAAAAAAADF}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 107} del archivo {\b my_addresses.php}.}\par
}
\par \pard\plain 

\pard\plain \sect\sbkpage
\s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
\pard\plain \s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
my_addresses.php\par \pard\plain 
{\bkmkstart AAAAAAAAAJ}
{\bkmkend AAAAAAAAAJ}
Ir a la documentaci\'F3n de este archivo.{
\pard\plain \s40\li0\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid 00001 <?php\par
00002 \par
00003 @session_start();\par
00004 \par
00005 {\cf19 if}(!isset($_SESSION[{\cf22 'customer_email'}]))\{\par
00006 \par
00007 echo {\cf22 "<script>window.open('../checkout.php','_self')</script>"};\par
00008 \par
00009 \}\par
00010 \par
00011 $customer_session = $_SESSION[{\cf22 'customer_email'}];\par
00012 \par
00013 $get_customer = {\cf22 "select * from customers where customer_email='$customer_session'"};\par
00014 \par
00015 $run_customer = mysqli_query($con,$get_customer);\par
00016 \par
00017 $row_customer = mysqli_fetch_array($run_customer);\par
00018 \par
00019 $customer_id = $row_customer[{\cf22 'customer_id'}];\par
00020 \par
00021 $get_customers_addresses = {\cf22 "select * from customers_addresses where customer_id='$customer_id'"};\par
00022 \par
00023 $run_customers_addresses = mysqli_query($con,$get_customers_addresses);\par
00024 \par
00025 $row_addresses = mysqli_fetch_array($run_customers_addresses);\par
00026 \par
00027 $billing_first_name = $row_addresses[{\cf22 "billing_first_name"}];\par
00028 \par
00029 $billing_last_name = $row_addresses[{\cf22 "billing_last_name"}];\par
00030 \par
00031 $billing_address_1 = $row_addresses[{\cf22 "billing_address_1"}];\par
00032 \par
00033 $billing_address_2 = $row_addresses[{\cf22 "billing_address_2"}];\par
00034 \par
00035 $billing_city = $row_addresses[{\cf22 "billing_city"}];\par
00036 \par
00037 $billing_postcode = $row_addresses[{\cf22 "billing_postcode"}];\par
00038 \par
00039 $billing_country = $row_addresses[{\cf22 "billing_country"}];\par
00040 \par
00041 $billing_state = $row_addresses[{\cf22 "billing_state"}];\par
00042 \par
00043 $shipping_first_name = $row_addresses[{\cf22 "shipping_first_name"}];\par
00044 \par
00045 $shipping_last_name = $row_addresses[{\cf22 "shipping_last_name"}];\par
00046 \par
00047 $shipping_address_1 = $row_addresses[{\cf22 "shipping_address_1"}];\par
00048 \par
00049 $shipping_address_2 = $row_addresses[{\cf22 "shipping_address_2"}];\par
00050 \par
00051 $shipping_city = $row_addresses[{\cf22 "shipping_city"}];\par
00052 \par
00053 $shipping_postcode = $row_addresses[{\cf22 "shipping_postcode"}];\par
00054 \par
00055 $shipping_country = $row_addresses[{\cf22 "shipping_country"}];\par
00056 \par
00057 $shipping_state = $row_addresses[{\cf22 "shipping_state"}];\par
00058 \par
00059 ?>\par
00060 \par
00061 <h2> Direcci\'F3n de Env\'EDo 1 </h2>\par
00062 \par
00063 <form method={\cf22 "post"} enctype={\cf22 "multipart/form-data"}><!--- form Starts -->\par
00064 \par
00065 <div {\cf17 class}={\cf22 "row"}><!-- row Starts -->\par
00066 \par
00067 <div {\cf17 class}={\cf22 "col-sm-6"}>\par
00068 \par
00069 <div {\cf17 class}={\cf22 "form-group"}><!-- form-group Starts -->\par
00070 \par
00071 <label> Nombre : </label>\par
00072 \par
00073 <input type={\cf22 "text"} name={\cf22 "billing_first_name"} {\cf17 class}={\cf22 "form-control"} required value={\cf22 "<?php echo $billing_first_name; ?>"}>\par
00074 \par
00075 </div><!-- form-group Ends -->\par
00076 \par
00077 </div>\par
00078 \par
00079 <div {\cf17 class}={\cf22 "col-sm-6"}>\par
00080 \par
00081 <div {\cf17 class}={\cf22 "form-group"}><!-- form-group Starts -->\par
00082 \par
00083 <label> Apellido : </label>\par
00084 \par
00085 <input type={\cf22 "text"} name={\cf22 "billing_last_name"} {\cf17 class}={\cf22 "form-control"} required value={\cf22 "<?php echo $billing_last_name; ?>"}>\par
00086 \par
00087 </div><!-- form-group Ends -->\par
00088 \par
00089 </div>\par
00090 \par
00091 </div><!-- row Ends -->\par
00092 \par
00093 <div {\cf17 class}={\cf22 "form-group"} ><!-- form-group Starts -->\par
00094 \par
00095 <label> Pa\'EDs : </label>\par
00096 \par
00097 <select name={\cf22 "billing_country"} {\cf17 class}={\cf22 "form-control"}>\par
00098 \par
00099 <option value={\cf22 ""}> Seleccionar Pa\'EDs </option>\par
00100 \par
00101 <?php\par
00102 \par
00103 $get_countries = {\cf22 "select * from countries"};\par
00104 \par
00105 $run_countries = mysqli_query($con,$get_countries);\par
00106 \par
00107 {\cf19 while}($row_countries = mysqli_fetch_array($run_countries))\{\par
00108 \par
00109 $country_id = $row_countries[{\cf22 'country_id'}];\par
00110 \par
00111 $country_name = $row_countries[{\cf22 'country_name'}];\par
00112 \par
00113 ?>\par
00114 \par
00115 <option value={\cf22 "<?php echo $country_id; ?>"}\par
00116 \par
00117 <?php\par
00118 \par
00119 {\cf19 if}($billing_country == $country_id)\{ echo {\cf22 "selected"}; \}\par
00120 \par
00121 ?>> \par
00122 \par
00123 <?php echo $country_name; ?> \par
00124 \par
00125 </option>\par
00126 \par
00127 <?php \} ?>\par
00128 \par
00129 </select>\par
00130 \par
00131 </div><!-- form-group Ends -->\par
00132 \par
00133 <div {\cf17 class}={\cf22 "form-group"} ><!-- form-group Starts -->\par
00134 \par
00135 <label> Direcci\'F3n 1 : </label>\par
00136 \par
00137 <input type={\cf22 "text"} name={\cf22 "billing_address_1"} {\cf17 class}={\cf22 "form-control"} required value={\cf22 "<?php echo $billing_address_1; ?>"}>\par
00138 \par
00139 </div><!-- form-group Ends -->\par
00140 \par
00141 <div {\cf17 class}={\cf22 "form-group"} ><!-- form-group Starts -->\par
00142 \par
00143 <label> Direcci\'F3n 2 : </label>\par
00144 \par
00145 <input type={\cf22 "text"} name={\cf22 "billing_address_2"} {\cf17 class}={\cf22 "form-control"} required value={\cf22 "<?php echo $billing_address_2; ?>"}>\par
00146 \par
00147 </div><!-- form-group Ends -->\par
00148 \par
00149 <div {\cf17 class}={\cf22 "row"}><!-- row Starts -->\par
00150 \par
00151 <div {\cf17 class}={\cf22 "col-sm-6"}>\par
00152 \par
00153 <div {\cf17 class}={\cf22 "form-group"}><!-- form-group Starts -->\par
00154 \par
00155 <label> Regi\'F3n : </label>\par
00156 \par
00157 <input type={\cf22 "text"} name={\cf22 "billing_state"} {\cf17 class}={\cf22 "form-control"} required value={\cf22 "<?php echo $billing_state; ?>"}>\par
00158 \par
00159 </div><!-- form-group Ends -->\par
00160 \par
00161 </div>\par
00162 \par
00163 <div {\cf17 class}={\cf22 "col-sm-6"}>\par
00164 \par
00165 <div {\cf17 class}={\cf22 "form-group"}><!-- form-group Starts -->\par
00166 \par
00167 <label> Comuna : </label>\par
00168 \par
00169 <input type={\cf22 "text"} name={\cf22 "billing_city"} {\cf17 class}={\cf22 "form-control"} required value={\cf22 "<?php echo $billing_city; ?>"}>\par
00170 \par
00171 </div><!-- form-group Ends -->\par
00172 \par
00173 </div>\par
00174 \par
00175 </div><!-- row Ends -->\par
00176 \par
00177 <div {\cf17 class}={\cf22 "form-group"}><!-- form-group Starts -->\par
00178 \par
00179 <label> Postal : </label>\par
00180 \par
00181 <input type={\cf22 "text"} name={\cf22 "billing_postcode"} {\cf17 class}={\cf22 "form-control"} required value={\cf22 "<?php echo $billing_postcode; ?>"}>\par
00182 \par
00183 </div><!-- form-group Ends -->\par
00184 \par
00185 <div {\cf17 class}={\cf22 "form-group"}><!-- form-group Starts -->\par
00186 \par
00187 <input type={\cf22 "submit"} name={\cf22 "update_billing_address"} value={\cf22 "Actualizar"} {\cf17 class}={\cf22 "form-control btn btn-success"}>\par
00188 \par
00189 </div><!-- form-group Ends -->\par
00190 \par
00191 </form>\par
00192 \par
00193 <h2> Direcci\'F3n de env\'EDo 2 </h2>\par
00194 \par
00195 <form method={\cf22 "post"} enctype={\cf22 "multipart/form-data"}><!--- form Starts -->\par
00196 \par
00197 <div {\cf17 class}={\cf22 "row"}><!-- row Starts -->\par
00198 \par
00199 <div {\cf17 class}={\cf22 "col-sm-6"}>\par
00200 \par
00201 <div {\cf17 class}={\cf22 "form-group"}><!-- form-group Starts -->\par
00202 \par
00203 <label> Nombre : </label>\par
00204 \par
00205 <input type={\cf22 "text"} name={\cf22 "shipping_first_name"} {\cf17 class}={\cf22 "form-control"} required value={\cf22 "<?php echo $shipping_first_name; ?>"}>\par
00206 \par
00207 </div><!-- form-group Ends -->\par
00208 \par
00209 </div>\par
00210 \par
00211 <div {\cf17 class}={\cf22 "col-sm-6"}>\par
00212 \par
00213 <div {\cf17 class}={\cf22 "form-group"} ><!-- form-group Starts -->\par
00214 \par
00215 <label> Apellido : </label>\par
00216 \par
00217 <input type={\cf22 "text"} name={\cf22 "shipping_last_name"} {\cf17 class}={\cf22 "form-control"} required value={\cf22 "<?php echo $shipping_last_name; ?>"}>\par
00218 \par
00219 </div><!-- form-group Ends -->\par
00220 \par
00221 </div>\par
00222 \par
00223 </div><!-- row Ends -->\par
00224 \par
00225 <div {\cf17 class}={\cf22 "form-group"} ><!-- form-group Starts -->\par
00226 \par
00227 <label> Pa\'EDs : </label>\par
00228 \par
00229 <select name={\cf22 "shipping_country"} {\cf17 class}={\cf22 "form-control"}>\par
00230 \par
00231 <option value={\cf22 ""}> Seleccionar Pa\'EDs </option>\par
00232 \par
00233 <?php\par
00234 \par
00235 $get_countries = {\cf22 "select * from countries"};\par
00236 \par
00237 $run_countries = mysqli_query($con,$get_countries);\par
00238 \par
00239 {\cf19 while}($row_countries = mysqli_fetch_array($run_countries)) \{\par
00240 \par
00241 $country_id = $row_countries[{\cf22 'country_id'}];\par
00242 \par
00243 $country_name = $row_countries[{\cf22 'country_name'}];\par
00244 \par
00245 ?>\par
00246 \par
00247 <option value={\cf22 "<?php echo $country_id; ?>"}\par
00248 \par
00249 <?php\par
00250 \par
00251 {\cf19 if}($shipping_country == $country_id)\{ echo {\cf22 "selected"}; \}\par
00252 \par
00253 ?>> \par
00254 \par
00255 <?php echo $country_name; ?> \par
00256 \par
00257 </option>\par
00258 \par
00259 <?php \} ?>\par
00260 \par
00261 </select>\par
00262 \par
00263 </div><!-- form-group Ends -->\par
00264 \par
00265 <div {\cf17 class}={\cf22 "form-group"} ><!-- form-group Starts -->\par
00266 \par
00267 <label> Direcci\'F3n 1 : </label>\par
00268 \par
00269 <input type={\cf22 "text"} name={\cf22 "shipping_address_1"} {\cf17 class}={\cf22 "form-control"} required value={\cf22 "<?php echo $shipping_address_1; ?>"}>\par
00270 \par
00271 </div><!-- form-group Ends -->\par
00272 \par
00273 <div {\cf17 class}={\cf22 "form-group"} ><!-- form-group Starts -->\par
00274 \par
00275 <label> Direcci\'F3n 2 : </label>\par
00276 \par
00277 <input type={\cf22 "text"} name={\cf22 "shipping_address_2"} {\cf17 class}={\cf22 "form-control"} required value={\cf22 "<?php echo $shipping_address_2; ?>"}>\par
00278 \par
00279 </div><!-- form-group Ends -->\par
00280 \par
00281 <div {\cf17 class}={\cf22 "row"}><!-- row Starts -->\par
00282 \par
00283 <div {\cf17 class}={\cf22 "col-sm-6"}>\par
00284 \par
00285 <div {\cf17 class}={\cf22 "form-group"} ><!-- form-group Starts -->\par
00286 \par
00287 <label> Regi\'F3n : </label>\par
00288 \par
00289 <input type={\cf22 "text"} name={\cf22 "shipping_state"} {\cf17 class}={\cf22 "form-control"} required value={\cf22 "<?php echo $shipping_state; ?>"}>\par
00290 \par
00291 </div><!-- form-group Ends -->\par
00292 \par
00293 </div>\par
00294 \par
00295 <div {\cf17 class}={\cf22 "col-sm-6"}>\par
00296 \par
00297 <div {\cf17 class}={\cf22 "form-group"}><!-- form-group Starts -->\par
00298 \par
00299 <label> Comuna : </label>\par
00300 \par
00301 <input type={\cf22 "text"} name={\cf22 "shipping_city"} {\cf17 class}={\cf22 "form-control"} required value={\cf22 "<?php echo $shipping_city; ?>"}>\par
00302 \par
00303 </div><!-- form-group Ends -->\par
00304 \par
00305 </div>\par
00306 \par
00307 </div><!-- row Ends -->\par
00308 \par
00309 <div {\cf17 class}={\cf22 "form-group"}><!-- form-group Starts -->\par
00310 \par
00311 <label> Postal: </label>\par
00312 \par
00313 <input type={\cf22 "text"} name={\cf22 "shipping_postcode"} {\cf17 class}={\cf22 "form-control"} required value={\cf22 "<?php echo $shipping_postcode; ?>"}>\par
00314 \par
00315 </div><!-- form-group Ends -->\par
00316 \par
00317 <div {\cf17 class}={\cf22 "form-group"}><!-- form-group Starts -->\par
00318 \par
00319 <input type={\cf22 "submit"} name={\cf22 "update_shipping_address"} value={\cf22 "Actualizar"} {\cf17 class}={\cf22 "form-control btn btn-success"}>\par
00320 \par
00321 </div><!-- form-group Ends -->\par
00322 \par
00323 </form>\par
00324 \par
00325 <script>\par
00326 \par
00327 $({\cf22 ".chosen-select"}).chosen(\{\});\par
00328 \par
00329 </script>\par
00330 \par
00331 <?php\par
00332 \par
00333 {\cf19 if}(isset($_POST[{\cf22 "update_billing_address"}]))\{\par
00334 \par
00335 $billing_first_name = $_POST[{\cf22 "billing_first_name"}];\par
00336 \par
00337 $billing_last_name = $_POST[{\cf22 "billing_last_name"}];\par
00338 \par
00339 $billing_address_1 = $_POST[{\cf22 "billing_address_1"}];\par
00340 \par
00341 $billing_address_2 = $_POST[{\cf22 "billing_address_2"}];\par
00342 \par
00343 $billing_city = $_POST[{\cf22 "billing_city"}];\par
00344 \par
00345 $billing_postcode = $_POST[{\cf22 "billing_postcode"}];\par
00346 \par
00347 $billing_country = $_POST[{\cf22 "billing_country"}];\par
00348 \par
00349 $billing_state = $_POST[{\cf22 "billing_state"}];\par
00350 \par
00351 $update_billing_address = {\cf22 "update customers_addresses set billing_first_name='$billing_first_name',billing_last_name='$billing_last_name',billing_address_1='$billing_address_1',billing_address_2='$billing_address_2',billing_city='$billing_city',billing_postcode='$billing_postcode',billing_country='$billing_country',billing_state='$billing_state' where customer_id='$customer_id'"};\par
00352 \par
00353 $run_billing_address = mysqli_query($con,$update_billing_address);\par
00354 \par
00355 echo {\cf22 "<script>alert('Se ha actualizado la direcci\'F3n de facturaci\'F3n de su cuenta.')</script>"};\par
00356 \par
00357 echo {\cf22 "<script>window.open('my_account.php?my_addresses','_self')</script>"};\par
00358 \par
00359 \}\par
00360 \par
00361 {\cf19 if}(isset($_POST[{\cf22 "update_shipping_address"}]))\{\par
00362 \par
00363 $shipping_first_name = $_POST[{\cf22 "shipping_first_name"}];\par
00364 \par
00365 $shipping_last_name = $_POST[{\cf22 "shipping_last_name"}];\par
00366 \par
00367 $shipping_address_1 = $_POST[{\cf22 "shipping_address_1"}];\par
00368 \par
00369 $shipping_address_2 = $_POST[{\cf22 "shipping_address_2"}];\par
00370 \par
00371 $shipping_city = $_POST[{\cf22 "shipping_city"}];\par
00372 \par
00373 $shipping_postcode = $_POST[{\cf22 "shipping_postcode"}];\par
00374 \par
00375 $shipping_country = $_POST[{\cf22 "shipping_country"}];\par
00376 \par
00377 $shipping_state = $_POST[{\cf22 "shipping_state"}];\par
00378 \par
00379 $update_shipping_address = {\cf22 "update customers_addresses set shipping_first_name='$shipping_first_name',shipping_last_name='$shipping_last_name',shipping_address_1='$shipping_address_1',shipping_address_2='$shipping_address_2',shipping_city='$shipping_city',shipping_postcode='$shipping_postcode',shipping_country='$shipping_country',shipping_state='$shipping_state' where customer_id='$customer_id'"};\par
00380 \par
00381 $run_shipping_address = mysqli_query($con,$update_shipping_address);\par
00382 \par
00383 echo {\cf22 "<script>alert('La direcci\'F3n de env\'EDo de su cuenta se ha actualizado.')</script>"};\par
00384 \par
00385 echo {\cf22 "<script>window.open('my_account.php?my_addresses','_self')</script>"};\par
00386 \par
00387 \}\par
00388 \par
00389 ?>\par
}
\par \pard\plain 

\pard\plain \sect\sbkpage
\s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
\pard\plain \s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
Referencia del Archivo my_orders.php\par \pard\plain 
{\tc\tcl2 \v my_orders.php}
{\xe \v my_orders.php}
{\bkmkstart AAAAAAAADG}
{\bkmkend AAAAAAAADG}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Variables\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b if}(!isset($_SESSION['customer_email'])) {\b $customer_session} = $_SESSION['customer_email']\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $get_customer} = "select * from customers where customer_email='$customer_session'"\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $run_customer} = mysqli_query($con,$get_customer)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $row_customer} = mysqli_fetch_array($run_customer)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $customer_id} = $row_customer['customer_id']\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $get_orders} = "select * from orders where customer_id='$customer_id' order by 1 desc"\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $run_orders} = mysqli_query($con,$get_orders)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $i} = 0\par
}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Documentaci\'F3n de las variables\par
\pard\plain 
{\xe \v $customer_id\:my_orders.php}
{\xe \v my_orders.php\:$customer_id}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$customer_id = $row_customer['customer_id']}}
\par
{\bkmkstart AAAAAAAADH}
{\bkmkend AAAAAAAADH}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 66} del archivo {\b my_orders.php}.}\par
}
{\xe \v $customer_session\:my_orders.php}
{\xe \v my_orders.php\:$customer_session}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
{\b if} (!isset( $_SESSION[ 'customer_email'])) $customer_session = $_SESSION['customer_email']}}
\par
{\bkmkstart AAAAAAAADI}
{\bkmkend AAAAAAAADI}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 58} del archivo {\b my_orders.php}.}\par
}
{\xe \v $get_customer\:my_orders.php}
{\xe \v my_orders.php\:$get_customer}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$get_customer = "select * from customers where customer_email='$customer_session'"}}
\par
{\bkmkstart AAAAAAAADJ}
{\bkmkend AAAAAAAADJ}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 60} del archivo {\b my_orders.php}.}\par
}
{\xe \v $get_orders\:my_orders.php}
{\xe \v my_orders.php\:$get_orders}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$get_orders = "select * from orders where customer_id='$customer_id' order by 1 desc"}}
\par
{\bkmkstart AAAAAAAADK}
{\bkmkend AAAAAAAADK}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 68} del archivo {\b my_orders.php}.}\par
}
{\xe \v $i\:my_orders.php}
{\xe \v my_orders.php\:$i}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$i = 0}}
\par
{\bkmkstart AAAAAAAADL}
{\bkmkend AAAAAAAADL}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 72} del archivo {\b my_orders.php}.}\par
}
{\xe \v $row_customer\:my_orders.php}
{\xe \v my_orders.php\:$row_customer}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$row_customer = mysqli_fetch_array($run_customer)}}
\par
{\bkmkstart AAAAAAAADM}
{\bkmkend AAAAAAAADM}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 64} del archivo {\b my_orders.php}.}\par
}
{\xe \v $run_customer\:my_orders.php}
{\xe \v my_orders.php\:$run_customer}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$run_customer = mysqli_query($con,$get_customer)}}
\par
{\bkmkstart AAAAAAAADN}
{\bkmkend AAAAAAAADN}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 62} del archivo {\b my_orders.php}.}\par
}
{\xe \v $run_orders\:my_orders.php}
{\xe \v my_orders.php\:$run_orders}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$run_orders = mysqli_query($con,$get_orders)}}
\par
{\bkmkstart AAAAAAAADO}
{\bkmkend AAAAAAAADO}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 70} del archivo {\b my_orders.php}.}\par
}
\par \pard\plain 

\pard\plain \sect\sbkpage
\s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
\pard\plain \s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
my_orders.php\par \pard\plain 
{\bkmkstart AAAAAAAAAK}
{\bkmkend AAAAAAAAAK}
Ir a la documentaci\'F3n de este archivo.{
\pard\plain \s40\li0\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid 00001 \par
00002 <?php\par
00003 \par
00004 @session_start();\par
00005 \par
00006 {\cf19 if}(!isset($_SESSION[{\cf22 'customer_email'}]))\{\par
00007 \par
00008 echo {\cf22 "<script>window.open('../checkout.php','_self')</script>"};\par
00009 \par
00010 \}\par
00011 \par
00012 ?>\par
00013 \par
00014 <center><!-- center Starts -->\par
00015 \par
00016 <h1>Mis Ordenes</h1>\par
00017 \par
00018 <p {\cf17 class}={\cf22 "lead"}> Tus pedidos en un solo lugar.</p>\par
00019 \par
00020 <p {\cf17 class}={\cf22 "text-muted"} >\par
00021 \par
00022 Si tiene alguna pregunta, no dude en <a href={\cf22 "../contact.php"} >cont\'E1ctarnos,</a> nuestro centro de servicio al cliente est\'E1 trabajando para usted 24 horas al d\'EDa, 7 d\'EDas a la semana.\par
00023 \par
00024 </p>\par
00025 \par
00026 </center><!-- center Ends -->\par
00027 \par
00028 <hr>\par
00029 \par
00030 <div {\cf17 class}={\cf22 "table-responsive"}><!-- table-responsive Starts -->\par
00031 \par
00032 <table {\cf17 class}={\cf22 "table table-bordered table-hover"}><!-- table table-bordered table-hover Starts -->\par
00033 \par
00034 <thead><!-- thead Starts -->\par
00035 \par
00036 <tr>\par
00037 \par
00038 <th> N\'B0 de pedido: </th>\par
00039 \par
00040 <th> N\'FAmero de factura </th>\par
00041 \par
00042 <th> Fecha de pedido: </th>\par
00043 \par
00044 <th> Estado del pedido: </th>\par
00045 \par
00046 <th> Total del pedido </th>\par
00047 \par
00048 <th> Acciones: </th>\par
00049 \par
00050 </tr>\par
00051 \par
00052 </thead><!-- thead Ends -->\par
00053 \par
00054 <tbody><!--- tbody Starts --->\par
00055 \par
00056 <?php\par
00057 \par
00058 $customer_session = $_SESSION[{\cf22 'customer_email'}];\par
00059 \par
00060 $get_customer = {\cf22 "select * from customers where customer_email='$customer_session'"};\par
00061 \par
00062 $run_customer = mysqli_query($con,$get_customer);\par
00063 \par
00064 $row_customer = mysqli_fetch_array($run_customer);\par
00065 \par
00066 $customer_id = $row_customer[{\cf22 'customer_id'}];\par
00067 \par
00068 $get_orders = {\cf22 "select * from orders where customer_id='$customer_id' order by 1 desc"};\par
00069 \par
00070 $run_orders = mysqli_query($con,$get_orders);\par
00071 \par
00072 $i = 0;\par
00073 \par
00074 {\cf19 while}($row_orders = mysqli_fetch_array($run_orders))\{\par
00075 \par
00076 $order_id = $row_orders[{\cf22 'order_id'}];\par
00077 \par
00078 $customer_id = $row_orders[{\cf22 'customer_id'}];\par
00079 \par
00080 $invoice_no = $row_orders[{\cf22 'invoice_no'}];\par
00081 \par
00082 $order_total = $row_orders[{\cf22 'order_total'}];\par
00083 \par
00084 $order_date = $row_orders[{\cf22 'order_date'}];\par
00085 \par
00086 $order_status = $row_orders[{\cf22 'order_status'}];\par
00087 \par
00088 $i++;\par
00089 \par
00090 ?>\par
00091 \par
00092 <tr><!-- tr Starts -->\par
00093 \par
00094 <th><?php echo $i; ?></th>\par
00095 \par
00096 <td>#<?php echo $invoice_no; ?></td>\par
00097 \par
00098 <td><?php echo $order_date; ?></td>\par
00099 \par
00100 <td>\par
00101 \par
00102 <?php \par
00103 \par
00104 {\cf19 if}($order_status == {\cf22 "pending"})\{\par
00105 \par
00106 echo ucwords($order_status . {\cf22 " Payment"});\par
00107 \par
00108 \}{\cf19 else}\{\par
00109 \par
00110 echo ucwords($order_status);\par
00111     \par
00112 \}\par
00113 \par
00114 ?>\par
00115 \par
00116 </td>\par
00117 \par
00118 <td>\par
00119 \par
00120 <strong>$<?php echo $order_total; ?></strong>\par
00121 \par
00122 {\cf19 for} <?php\par
00123 \par
00124 $total = 0;\par
00125 \par
00126 $select_orders_items = {\cf22 "select * from orders_items where order_id='$order_id'"};\par
00127 \par
00128 $run_orders_items = mysqli_query($con,$select_orders_items);\par
00129 \par
00130 {\cf19 while}($row_orders_items = mysqli_fetch_array($run_orders_items))\{\par
00131 \par
00132 $product_id = $row_orders_items[{\cf22 'product_id'}];\par
00133 \par
00134 $product_qty = $row_orders_items[{\cf22 'qty'}];\par
00135 \par
00136 $total += $product_qty;\par
00137 \par
00138 \}\par
00139 \par
00140 {\cf19 if}($total == 1)\{\par
00141 \par
00142 echo $total . {\cf22 " item"};\par
00143 \par
00144 \}{\cf19 else}\{\par
00145 \par
00146 echo $total . {\cf22 " items"}; \par
00147     \par
00148 \}\par
00149 \par
00150 ?>\par
00151 \par
00152 </td>\par
00153 \par
00154 <td>\par
00155 \par
00156 <div {\cf17 class}={\cf22 "dropdown"}>\par
00157 \par
00158 <button {\cf17 class}={\cf22 "btn btn-success dropdown-toggle"} data-toggle={\cf22 "dropdown"}>\par
00159 \par
00160 <span {\cf17 class}={\cf22 "caret"}></span>\par
00161 \par
00162 </button>\par
00163 \par
00164 <ul {\cf17 class}={\cf22 "dropdown-menu dropdown-menu-right"}>\par
00165 \par
00166 <?php {\cf19 if}($order_status == {\cf22 "pending"})\{ ?>\par
00167 \par
00168 <li>\par
00169 \par
00170 <a href={\cf22 "confirm.php?order_id=<?php echo $order_id; ?>"} target={\cf22 "blank"} {\cf17 class}={\cf22 "bg-danger"}>\par
00171 \par
00172 Confirmar si se pag\'F3\par
00173 \par
00174 </a>\par
00175 \par
00176 </li>\par
00177 \par
00178 <?php \} ?>\par
00179 \par
00180 <li><a href={\cf22 "view_order.php?order_id=<?php echo $order_id; ?>"} target={\cf22 "blank"}>Ver</a></li>\par
00181     \par
00182 </ul>\par
00183   \par
00184 </div>\par
00185 \par
00186 </td>\par
00187 \par
00188 </tr><!-- tr Ends -->\par
00189 \par
00190 <?php \} ?>\par
00191 \par
00192 </tbody><!--- tbody Ends --->\par
00193 \par
00194 </table><!-- table table-bordered table-hover Ends -->\par
00195 \par
00196 </div><!-- table-responsive Ends -->\par
}
\par \pard\plain 

\pard\plain \sect\sbkpage
\s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
\pard\plain \s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
Referencia del Archivo my_wishlist.php\par \pard\plain 
{\tc\tcl2 \v my_wishlist.php}
{\xe \v my_wishlist.php}
{\bkmkstart AAAAAAAADP}
{\bkmkend AAAAAAAADP}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Variables\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b if}(!isset($_SESSION['customer_email'])) {\b $customer_session} = $_SESSION['customer_email']\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $get_customer} = "select * from customers where customer_email='$customer_session'"\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $run_customer} = mysqli_query($con,$get_customer)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $row_customer} = mysqli_fetch_array($run_customer)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $customer_id} = $row_customer['customer_id']\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $i} = 0\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $get_wishlist} = "select * from wishlist where customer_id='$customer_id'"\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $run_wishlist} = mysqli_query($con,$get_wishlist)\par
}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Documentaci\'F3n de las variables\par
\pard\plain 
{\xe \v $customer_id\:my_wishlist.php}
{\xe \v my_wishlist.php\:$customer_id}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$customer_id = $row_customer['customer_id']}}
\par
{\bkmkstart AAAAAAAADQ}
{\bkmkend AAAAAAAADQ}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 55} del archivo {\b my_wishlist.php}.}\par
}
{\xe \v $customer_session\:my_wishlist.php}
{\xe \v my_wishlist.php\:$customer_session}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
{\b if} (!isset( $_SESSION[ 'customer_email'])) $customer_session = $_SESSION['customer_email']}}
\par
{\bkmkstart AAAAAAAADR}
{\bkmkend AAAAAAAADR}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 47} del archivo {\b my_wishlist.php}.}\par
}
{\xe \v $get_customer\:my_wishlist.php}
{\xe \v my_wishlist.php\:$get_customer}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$get_customer = "select * from customers where customer_email='$customer_session'"}}
\par
{\bkmkstart AAAAAAAADS}
{\bkmkend AAAAAAAADS}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 49} del archivo {\b my_wishlist.php}.}\par
}
{\xe \v $get_wishlist\:my_wishlist.php}
{\xe \v my_wishlist.php\:$get_wishlist}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$get_wishlist = "select * from wishlist where customer_id='$customer_id'"}}
\par
{\bkmkstart AAAAAAAADT}
{\bkmkend AAAAAAAADT}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 59} del archivo {\b my_wishlist.php}.}\par
}
{\xe \v $i\:my_wishlist.php}
{\xe \v my_wishlist.php\:$i}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$i = 0}}
\par
{\bkmkstart AAAAAAAADU}
{\bkmkend AAAAAAAADU}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 57} del archivo {\b my_wishlist.php}.}\par
}
{\xe \v $row_customer\:my_wishlist.php}
{\xe \v my_wishlist.php\:$row_customer}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$row_customer = mysqli_fetch_array($run_customer)}}
\par
{\bkmkstart AAAAAAAADV}
{\bkmkend AAAAAAAADV}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 53} del archivo {\b my_wishlist.php}.}\par
}
{\xe \v $run_customer\:my_wishlist.php}
{\xe \v my_wishlist.php\:$run_customer}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$run_customer = mysqli_query($con,$get_customer)}}
\par
{\bkmkstart AAAAAAAADW}
{\bkmkend AAAAAAAADW}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 51} del archivo {\b my_wishlist.php}.}\par
}
{\xe \v $run_wishlist\:my_wishlist.php}
{\xe \v my_wishlist.php\:$run_wishlist}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$run_wishlist = mysqli_query($con,$get_wishlist)}}
\par
{\bkmkstart AAAAAAAADX}
{\bkmkend AAAAAAAADX}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 61} del archivo {\b my_wishlist.php}.}\par
}
\par \pard\plain 

\pard\plain \sect\sbkpage
\s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
\pard\plain \s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
my_wishlist.php\par \pard\plain 
{\bkmkstart AAAAAAAAAL}
{\bkmkend AAAAAAAAAL}
Ir a la documentaci\'F3n de este archivo.{
\pard\plain \s40\li0\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid 00001 \par
00002 <?php\par
00003 \par
00004 @session_start();\par
00005 \par
00006 {\cf19 if}(!isset($_SESSION[{\cf22 'customer_email'}]))\{\par
00007 \par
00008 echo {\cf22 "<script>window.open('../checkout.php','_self')</script>"};\par
00009 \par
00010 \}\par
00011 \par
00012 ?>\par
00013 \par
00014 <center><!-- center Starts -->\par
00015 \par
00016 <h1> Mi Lista de deseos </h1>\par
00017 \par
00018 <p {\cf17 class}={\cf22 "lead"}> Todos sus productos de la lista de deseos en un solo lugar. </p>\par
00019 \par
00020 </center><!-- center Ends -->\par
00021 \par
00022 <hr>\par
00023 \par
00024 <div {\cf17 class}={\cf22 "table-responsive"}><!-- table-responsive Starts -->\par
00025 \par
00026 <table {\cf17 class}={\cf22 "table table-bordered table-hover"}><!-- table table-bordered table-hover Starts -->\par
00027 \par
00028 <thead>\par
00029 \par
00030 <tr>\par
00031 \par
00032 <th> Lista de deseos N\'B0: </th>\par
00033 \par
00034 <th colspan={\cf22 "2"}> Producto de la lista de deseos </th>\par
00035 \par
00036 <th> Borrar Lista </th>\par
00037 \par
00038 </tr>\par
00039 \par
00040 </thead>\par
00041 \par
00042 <tbody>\par
00043 \par
00044 <?php\par
00045 \par
00046 \par
00047 $customer_session = $_SESSION[{\cf22 'customer_email'}];\par
00048 \par
00049 $get_customer = {\cf22 "select * from customers where customer_email='$customer_session'"};\par
00050 \par
00051 $run_customer = mysqli_query($con,$get_customer);\par
00052 \par
00053 $row_customer = mysqli_fetch_array($run_customer);\par
00054 \par
00055 $customer_id = $row_customer[{\cf22 'customer_id'}];\par
00056 \par
00057 $i = 0;\par
00058 \par
00059 $get_wishlist = {\cf22 "select * from wishlist where customer_id='$customer_id'"};\par
00060 \par
00061 $run_wishlist = mysqli_query($con,$get_wishlist);\par
00062 \par
00063 {\cf19 while}($row_wishlist = mysqli_fetch_array($run_wishlist))\{\par
00064 \par
00065 $wishlist_id = $row_wishlist[{\cf22 'wishlist_id'}];\par
00066 \par
00067 $product_id = $row_wishlist[{\cf22 'product_id'}];\par
00068 \par
00069 $get_products = {\cf22 "select * from products where product_id='$product_id'"};\par
00070 \par
00071 $run_products = mysqli_query($con,$get_products);\par
00072 \par
00073 $row_products = mysqli_fetch_array($run_products);\par
00074 \par
00075 $product_title = $row_products[{\cf22 'product_title'}];\par
00076 \par
00077 $product_url = $row_products[{\cf22 'product_url'}];\par
00078 \par
00079 $product_img1 = $row_products[{\cf22 'product_img1'}];\par
00080 \par
00081 $i++;\par
00082 \par
00083 ?>\par
00084 \par
00085 <tr>\par
00086 \par
00087 <td width={\cf22 "100"}> <?php echo $i; ?> </td>\par
00088 \par
00089 <td>\par
00090 \par
00091 <img src={\cf22 "../admin_area/product_images/<?php echo $product_img1; ?>"} width={\cf22 "60"} height={\cf22 "60"}>\par
00092 \par
00093 </td>\par
00094 \par
00095 <td>\par
00096 \par
00097 <a {\cf17 class}={\cf22 "h4"} href={\cf22 "../<?php echo $product_url; ?>"}>\par
00098 \par
00099 <?php echo $product_title; ?>\par
00100 \par
00101 </a>\par
00102 \par
00103 <p {\cf17 class}={\cf22 "cart-product-meta"}> \par
00104 \par
00105 <?php\par
00106 \par
00107 $wishlist_meta = {\cf22 ""};\par
00108 \par
00109 $select_wishlist_meta = {\cf22 "select * from wishlist_meta where wishlist_id='$wishlist_id' and not meta_key='variation_id'"};\par
00110 \par
00111 $run_wishlist_meta = mysqli_query($con,$select_wishlist_meta);\par
00112 \par
00113 {\cf19 while}($row_wishlist_meta = mysqli_fetch_array($run_wishlist_meta))\{\par
00114 \par
00115 $meta_key = ucwords($row_wishlist_meta[{\cf22 "meta_key"}]);\par
00116 \par
00117 $meta_value = $row_wishlist_meta[{\cf22 "meta_value"}];\par
00118 \par
00119 $wishlist_meta .= {\cf22 "$meta_key: <span class='text-muted'> $meta_value </span>, "};\par
00120 \par
00121 \}\par
00122 \par
00123 echo rtrim($wishlist_meta,{\cf22 ", "});\par
00124 \par
00125 ?>\par
00126 \par
00127 </p>\par
00128 \par
00129 </td>\par
00130 \par
00131 <td>\par
00132 \par
00133 <a href={\cf22 "my_account.php?delete_wishlist=<?php echo $wishlist_id; ?>"} {\cf17 class}={\cf22 "btn btn-primary"}>\par
00134 \par
00135 <i {\cf17 class}={\cf22 "fa fa-trash-o"}> </i> Borrar\par
00136 \par
00137 </a>\par
00138 \par
00139 </td>\par
00140 \par
00141 </tr>\par
00142 \par
00143 <?php \} ?>\par
00144 \par
00145 </tbody>\par
00146 \par
00147 </table><!-- table table-bordered table-hover Ends -->\par
00148 \par
00149 </div><!-- table-responsive Ends -->\par
}
\par \pard\plain 

\pard\plain \sect\sbkpage
\s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
\pard\plain \s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
Referencia del Archivo pay_offline.php\par \pard\plain 
{\tc\tcl2 \v pay_offline.php}
{\xe \v pay_offline.php}
{\bkmkstart AAAAAAAADY}
{\bkmkend AAAAAAAADY}
\par \pard\plain 

\pard\plain \sect\sbkpage
\s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
\pard\plain \s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
pay_offline.php\par \pard\plain 
{\bkmkstart AAAAAAAAAM}
{\bkmkend AAAAAAAAAM}
Ir a la documentaci\'F3n de este archivo.{
\pard\plain \s40\li0\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid 00001 \par
00002 <?php\par
00003 \par
00004 @session_start();\par
00005 \par
00006 {\cf19 if}(!isset($_SESSION[{\cf22 'customer_email'}]))\{\par
00007 \par
00008 echo {\cf22 "<script>window.open('../checkout.php','_self')</script>"};\par
00009 \par
00010 \}\par
00011 \par
00012 ?>\par
00013 \par
00014 <center><!-- center Starts -->\par
00015 \par
00016 <h1> M\'E9todo de pago Offline  </h1>\par
00017 \par
00018 <p {\cf17 class}={\cf22 "text-muted"} >\par
00019 \par
00020 Si tiene alguna pregunta, no dude en <a href={\cf22 "../contact.php"} >cont\'E1ctarnos,</a> nuestro centro de servicio al cliente est\'E1 trabajando para usted 24 horas al d\'EDa, 7 d\'EDas a la semana.\par
00021 \par
00022 </p>\par
00023 \par
00024 </center><!-- center Ends -->\par
00025 \par
00026 <hr>\par
00027 \par
00028 \par
00029 <div {\cf17 class}={\cf22 "table-responsive"} ><!-- table-responsive Starts -->\par
00030 \par
00031 <table {\cf17 class}={\cf22 "table table-bordered table-hover table-striped"} ><!-- table table-bordered table-hover table-striped Starts -->\par
00032 \par
00033 <thead><!-- thead Starts -->\par
00034 \par
00035 <tr>\par
00036 \par
00037 <th> Detalles de la cuenta bancaria </th>\par
00038 \par
00039 <th> Easy Paisa, UBL Omni, Mobi Cash Detalles: </th>\par
00040 \par
00041 <th> Detalles de Western Union: </th>\par
00042 \par
00043 </tr>\par
00044 \par
00045 </thead><!-- thead Ends -->\par
00046 \par
00047 <tbody><!-- tbody Starts -->\par
00048 \par
00049 <tr>\par
00050 \par
00051 <td> Nombre del banco: ubl N\'FAmero de cuenta: 03333333 C\'F3digo de sucursal: 0342 Nombre de sucursal: Shadara Lahore </td>\par
00052 \par
00053 <td> NIC # 001234567 N\'FAmero de m\'F3vil: 03334566931, Nombre: M.T.Ahmed </td>\par
00054 \par
00055 <td> Nombre completo: M.T.Ahmed, n\'FAmero de m\'F3vil: 03334566931, nombre: M.T.Ahmed, pa\'EDs: Pakist\'E1n, N.I.C No: 001234567\par
00056     \par
00057 </td>\par
00058 \par
00059 \par
00060 </tr>\par
00061 \par
00062 </tbody><!-- tbody Ends -->\par
00063 \par
00064 \par
00065 </table><!-- table table-bordered table-hover table-striped Ends -->\par
00066 \par
00067 </div><!-- table-responsive Ends -->\par
}
\par \pard\plain 

\pard\plain \sect\sbkpage
\s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
\pard\plain \s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
Referencia del Archivo view_order.php\par \pard\plain 
{\tc\tcl2 \v view_order.php}
{\xe \v view_order.php}
{\bkmkstart AAAAAAAADZ}
{\bkmkend AAAAAAAADZ}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Variables\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b if}(!isset($_SESSION['customer_email'])) {\b if}(!isset( $_GET[ 'order_id'])) {\b if}(!isset($_SESSION['customer_email'])) {\b else}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $c_email} = $_SESSION['customer_email']\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $get_customer} = "select * from customers where customer_email='$c_email'"\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $run_customer} = mysqli_query($con,$get_customer)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $row_customer} = mysqli_fetch_array($run_customer)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $customer_confirm_code} = $row_customer['customer_confirm_code']\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $c_name} = $row_customer['customer_name']\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b if} (!empty( $customer_confirm_code))\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b if} (isset( $_GET[ 'order_id']))\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $items_subtotal} = 0\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $physical_products} = array()\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $digital_products} = array()\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $select_cart} = "select * from orders_items where order_id='$order_id'"\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $run_cart} = mysqli_query($con,$select_cart)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b while} ( $row_cart=mysqli_fetch_array( $run_cart))\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $get_country} = "select * from countries where country_id='$billing_country'"\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $run_country} = mysqli_query($con,$get_country)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $row_country} = mysqli_fetch_array($run_country)\par
}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Documentaci\'F3n de las variables\par
\pard\plain 
{\xe \v $c_email\:view_order.php}
{\xe \v view_order.php\:$c_email}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$c_email = $_SESSION['customer_email']}}
\par
{\bkmkstart AAAAAAAAEA}
{\bkmkend AAAAAAAAEA}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 285} del archivo {\b view_order.php}.}\par
}
{\xe \v $c_name\:view_order.php}
{\xe \v view_order.php\:$c_name}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$c_name = $row_customer['customer_name']}}
\par
{\bkmkstart AAAAAAAAEB}
{\bkmkend AAAAAAAAEB}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 295} del archivo {\b view_order.php}.}\par
}
{\xe \v $customer_confirm_code\:view_order.php}
{\xe \v view_order.php\:$customer_confirm_code}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$customer_confirm_code = $row_customer['customer_confirm_code']}}
\par
{\bkmkstart AAAAAAAAEC}
{\bkmkend AAAAAAAAEC}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 293} del archivo {\b view_order.php}.}\par
}
{\xe \v $digital_products\:view_order.php}
{\xe \v view_order.php\:$digital_products}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$digital_products = array()}}
\par
{\bkmkstart AAAAAAAAED}
{\bkmkend AAAAAAAAED}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 482} del archivo {\b view_order.php}.}\par
}
{\xe \v $get_country\:view_order.php}
{\xe \v view_order.php\:$get_country}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$get_country = "select * from countries where country_id='$billing_country'"}}
\par
{\bkmkstart AAAAAAAAEE}
{\bkmkend AAAAAAAAEE}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 1147} del archivo {\b view_order.php}.}\par
}
{\xe \v $get_customer\:view_order.php}
{\xe \v view_order.php\:$get_customer}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$get_customer = "select * from customers where customer_email='$c_email'"}}
\par
{\bkmkstart AAAAAAAAEF}
{\bkmkend AAAAAAAAEF}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 287} del archivo {\b view_order.php}.}\par
}
{\xe \v $items_subtotal\:view_order.php}
{\xe \v view_order.php\:$items_subtotal}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$items_subtotal = 0}}
\par
{\bkmkstart AAAAAAAAEG}
{\bkmkend AAAAAAAAEG}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 478} del archivo {\b view_order.php}.}\par
}
{\xe \v $physical_products\:view_order.php}
{\xe \v view_order.php\:$physical_products}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$physical_products = array()}}
\par
{\bkmkstart AAAAAAAAEH}
{\bkmkend AAAAAAAAEH}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 480} del archivo {\b view_order.php}.}\par
}
{\xe \v $row_country\:view_order.php}
{\xe \v view_order.php\:$row_country}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$row_country = mysqli_fetch_array($run_country)}}
\par
{\bkmkstart AAAAAAAAEI}
{\bkmkend AAAAAAAAEI}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 1151} del archivo {\b view_order.php}.}\par
}
{\xe \v $row_customer\:view_order.php}
{\xe \v view_order.php\:$row_customer}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$row_customer = mysqli_fetch_array($run_customer)}}
\par
{\bkmkstart AAAAAAAAEJ}
{\bkmkend AAAAAAAAEJ}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 291} del archivo {\b view_order.php}.}\par
}
{\xe \v $run_cart\:view_order.php}
{\xe \v view_order.php\:$run_cart}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$run_cart = mysqli_query($con,$select_cart)}}
\par
{\bkmkstart AAAAAAAAEK}
{\bkmkend AAAAAAAAEK}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 486} del archivo {\b view_order.php}.}\par
}
{\xe \v $run_country\:view_order.php}
{\xe \v view_order.php\:$run_country}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$run_country = mysqli_query($con,$get_country)}}
\par
{\bkmkstart AAAAAAAAEL}
{\bkmkend AAAAAAAAEL}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 1149} del archivo {\b view_order.php}.}\par
}
{\xe \v $run_customer\:view_order.php}
{\xe \v view_order.php\:$run_customer}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$run_customer = mysqli_query($con,$get_customer)}}
\par
{\bkmkstart AAAAAAAAEM}
{\bkmkend AAAAAAAAEM}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 289} del archivo {\b view_order.php}.}\par
}
{\xe \v $select_cart\:view_order.php}
{\xe \v view_order.php\:$select_cart}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$select_cart = "select * from orders_items where order_id='$order_id'"}}
\par
{\bkmkstart AAAAAAAAEN}
{\bkmkend AAAAAAAAEN}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 484} del archivo {\b view_order.php}.}\par
}
{\xe \v else\:view_order.php}
{\xe \v view_order.php\:else}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
{\b if} ( $order_status=="pending") else}}
\par
{\bkmkstart AAAAAAAAEO}
{\bkmkend AAAAAAAAEO}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
{\b Valor inicial:}{
\pard\plain \s41\li360\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid \{\par
\par
echo {\cf22 "Bienvenid@ : "} . $_SESSION[{\cf22 'customer_email'}] . {\cf22 ""}\par
}
{
Definici\'F3n en la l\'EDnea {\b 58} del archivo {\b view_order.php}.}\par
}
{\xe \v if\:view_order.php}
{\xe \v view_order.php\:if}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
if($is_shipping_address=="no") (!  {\i empty} $customer_confirm_code)}}
\par
{\bkmkstart AAAAAAAAEP}
{\bkmkend AAAAAAAAEP}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 297} del archivo {\b view_order.php}.}\par
}
{\xe \v if\:view_order.php}
{\xe \v view_order.php\:if}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
if(isset($_GET['order_id'])) (isset( $_GET[ 'order_id']) )}}
\par
{\bkmkstart AAAAAAAAEQ}
{\bkmkend AAAAAAAAEQ}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 329} del archivo {\b view_order.php}.}\par
}
{\xe \v while\:view_order.php}
{\xe \v view_order.php\:while}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
while($row_cart=mysqli_fetch_array($run_cart)) (  {\i $row_cart} = {\f2 mysqli_fetch_array($run_cart)})}}
\par
{\bkmkstart AAAAAAAAER}
{\bkmkend AAAAAAAAER}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 488} del archivo {\b view_order.php}.}\par
}
\par \pard\plain 

\pard\plain \sect\sbkpage
\s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
\pard\plain \s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
view_order.php\par \pard\plain 
{\bkmkstart AAAAAAAAAN}
{\bkmkend AAAAAAAAAN}
Ir a la documentaci\'F3n de este archivo.{
\pard\plain \s40\li0\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid 00001 <?php\par
00002 \par
00003 session_start();\par
00004 \par
00005 include({\cf22 "includes/db.php"});\par
00006 \par
00007 include({\cf22 "functions/functions.php"});\par
00008 \par
00009 {\cf19 if}(!isset($_SESSION[{\cf22 'customer_email'}]))\{\par
00010 \par
00011 echo {\cf22 "<script> window.open('../checkout.php','_self'); </script>"};\par
00012 \par
00013 \}\par
00014 \par
00015 {\cf19 if}(!isset($_GET[{\cf22 'order_id'}]))\{\par
00016 \par
00017 echo {\cf22 "<script> window.open('../checkout.php','_self'); </script>"};\par
00018 \par
00019 \}\par
00020 \par
00021 ?>\par
00022 \par
00023 <!DOCTYPE html>\par
00024 <html>\par
00025 \par
00026 <head>\par
00027 \par
00028 <title>ShoiStore</title>\par
00029 \par
00030 <meta name={\cf22 "viewport"} content={\cf22 "width=device-width, initial-scale=1, shrink-to-fit=no"}>\par
00031 \par
00032 <link href={\cf22 "http://fonts.googleapis.com/css?family=Roboto:400,500,700,300,100"} rel={\cf22 "stylesheet"} >\par
00033 \par
00034 <link href={\cf22 "styles/bootstrap.min.css"} rel={\cf22 "stylesheet"}>\par
00035 \par
00036 <link href={\cf22 "styles/style.css"} rel={\cf22 "stylesheet"}>\par
00037 \par
00038 <link href={\cf22 "font-awesome/css/font-awesome.min.css"} rel={\cf22 "stylesheet"}>\par
00039 \par
00040 </head>\par
00041 \par
00042 <body>\par
00043 \par
00044 <div {\cf18 id}={\cf22 "top"}><!-- top Starts -->\par
00045 \par
00046 <div {\cf17 class}={\cf22 "container"}><!-- container Starts -->\par
00047 \par
00048 <div {\cf17 class}={\cf22 "col-md-6 offer"}><!-- col-md-6 offer Starts -->\par
00049 \par
00050 <a href={\cf22 "#"} {\cf17 class}={\cf22 "btn btn-success btn-sm"} >\par
00051 <?php\par
00052 \par
00053 {\cf19 if}(!isset($_SESSION[{\cf22 'customer_email'}]))\{\par
00054 \par
00055 echo {\cf22 "Bienvenid@ Invitad@"};\par
00056 \par
00057 \par
00058 \}{\cf19 else}\{\par
00059 \par
00060 echo {\cf22 "Bienvenid@ : "} . $_SESSION[{\cf22 'customer_email'}] . {\cf22 ""};\par
00061 \par
00062 \}\par
00063 \par
00064 \par
00065 ?>\par
00066 </a>\par
00067 \par
00068 <a href={\cf22 "#"}>\par
00069 Precio Total: <?php total_price(); ?>, Cantidad de Items: <?php items(); ?>\par
00070 </a>\par
00071 \par
00072 </div><!-- col-md-6 offer Ends -->\par
00073 \par
00074 <div {\cf17 class}={\cf22 "col-md-6"}><!-- col-md-6 Starts -->\par
00075 <ul {\cf17 class}={\cf22 "menu"}><!-- menu Starts -->\par
00076 \par
00077 <li>\par
00078 <a href={\cf22 "../customer_register.php"}>\par
00079 Registrarse\par
00080 </a>\par
00081 </li>\par
00082 \par
00083 <li>\par
00084 <?php\par
00085 \par
00086 {\cf19 if}(!isset($_SESSION[{\cf22 'customer_email'}]))\{\par
00087 \par
00088 echo {\cf22 "<a href='../checkout.php' >Mi Cuenta</a>"};\par
00089 \par
00090 \}\par
00091 {\cf19 else}\{\par
00092 \par
00093 echo {\cf22 "<a href='my_account.php?my_orders'>Mi Cuenta</a>"};\par
00094 \par
00095 \}\par
00096 \par
00097 \par
00098 ?>\par
00099 </li>\par
00100 \par
00101 <li>\par
00102 <a href={\cf22 "../cart.php"}>\par
00103 Ir al Carrito\par
00104 </a>\par
00105 </li>\par
00106 \par
00107 <li>\par
00108 <?php\par
00109 \par
00110 {\cf19 if}(!isset($_SESSION[{\cf22 'customer_email'}]))\{\par
00111 \par
00112 echo {\cf22 "<a href='../checkout.php'> Acceder </a>"};\par
00113 \par
00114 \}{\cf19 else} \{\par
00115 \par
00116 echo {\cf22 "<a href='logout.php'> Cerrar Sesi\'F3n </a>"};\par
00117 \par
00118 \}\par
00119 \par
00120 ?>\par
00121 </li>\par
00122 \par
00123 </ul><!-- menu Ends -->\par
00124 \par
00125 </div><!-- col-md-6 Ends -->\par
00126 \par
00127 </div><!-- container Ends -->\par
00128 </div><!-- top Ends -->\par
00129 \par
00130 <div {\cf17 class}={\cf22 "navbar navbar-default"} {\cf18 id}={\cf22 "navbar"}><!-- navbar navbar-{\cf19 default} Starts -->\par
00131 <div {\cf17 class}={\cf22 "container"} ><!-- container Starts -->\par
00132 \par
00133 <div {\cf17 class}={\cf22 "navbar-header"}><!-- navbar-header Starts -->\par
00134 \par
00135 <a {\cf17 class}={\cf22 "navbar-brand home"} href={\cf22 "../index.php"} ><!--- navbar navbar-brand home Starts -->\par
00136 \par
00137 <img src={\cf22 "images/ShoiStoree.png"} alt={\cf22 "ShoiStore logo"} {\cf17 class}={\cf22 "hidden-xs"} >\par
00138 <img src={\cf22 "images/ShoiStoree.png"} alt={\cf22 "ShoiStore logo"} {\cf17 class}={\cf22 "visible-xs"} >\par
00139 \par
00140 </a><!--- navbar navbar-brand home Ends -->\par
00141 \par
00142 <button type={\cf22 "button"} {\cf17 class}={\cf22 "navbar-toggle"} data-toggle={\cf22 "collapse"} data-target={\cf22 "#navigation"}  >\par
00143 \par
00144 <span {\cf17 class}={\cf22 "sr-only"} >Navegaci\'F3n </span>\par
00145 \par
00146 <i {\cf17 class}={\cf22 "fa fa-align-justify"}></i>\par
00147 \par
00148 </button>\par
00149 \par
00150 <button type={\cf22 "button"} {\cf17 class}={\cf22 "navbar-toggle"} data-toggle={\cf22 "collapse"} data-target={\cf22 "#search"} >\par
00151 \par
00152 <span {\cf17 class}={\cf22 "sr-only"} >Buscar</span>\par
00153 \par
00154 <i {\cf17 class}={\cf22 "fa fa-search"} ></i>\par
00155 \par
00156 </button>\par
00157 \par
00158 \par
00159 </div><!-- navbar-header Ends -->\par
00160 \par
00161 <div {\cf17 class}={\cf22 "navbar-collapse collapse"} {\cf18 id}={\cf22 "navigation"} ><!-- navbar-collapse collapse Starts -->\par
00162 \par
00163 <div {\cf17 class}={\cf22 "padding-nav"} ><!-- padding-nav Starts -->\par
00164 \par
00165 <ul {\cf17 class}={\cf22 "nav navbar-nav navbar-left"}><!-- nav navbar-nav navbar-left Starts -->\par
00166 \par
00167 <li>\par
00168 <a href={\cf22 "../index.php"}> Home </a>\par
00169 </li>\par
00170 \par
00171 <li>\par
00172 <a href={\cf22 "../shop.php"}> Tienda </a>\par
00173 </li>\par
00174 \par
00175 <li {\cf17 class}={\cf22 "active"}>\par
00176 <?php\par
00177 \par
00178 {\cf19 if}(!isset($_SESSION[{\cf22 'customer_email'}]))\{\par
00179 \par
00180 echo {\cf22 "<a href='../checkout.php' >Mi Cuenta</a>"};\par
00181 \par
00182 \}\par
00183 {\cf19 else}\{\par
00184 \par
00185 echo {\cf22 "<a href='my_account.php?my_orders'>Mi Cuenta</a>"};\par
00186 \par
00187 \}\par
00188 \par
00189 \par
00190 ?>\par
00191 </li>\par
00192 \par
00193 <li>\par
00194 <a href={\cf22 "../cart.php"}> Carrito </a>\par
00195 </li>\par
00196 \par
00197 <li>\par
00198 <a href={\cf22 "../about.php"}>\'BFQui\'E9nes Somos?</a>\par
00199 </li>\par
00200 \par
00201 <li>\par
00202 \par
00203 <a href={\cf22 "../services.php"}> Servicios </a>\par
00204 \par
00205 </li>\par
00206 \par
00207 <li>\par
00208 <a href={\cf22 "../contact.php"}> Cont\'E1ctanos </a>\par
00209 </li>\par
00210 \par
00211 </ul><!-- nav navbar-nav navbar-left Ends -->\par
00212 \par
00213 </div><!-- padding-nav Ends -->\par
00214 \par
00215 <a {\cf17 class}={\cf22 "btn btn-primary navbar-btn right"} href={\cf22 "../cart.php"}><!-- btn btn-primary navbar-btn right Starts -->\par
00216 \par
00217 <i {\cf17 class}={\cf22 "fa fa-shopping-cart"}></i>\par
00218 \par
00219 <span> <?php items(); ?> Art\'EDculos </span>\par
00220 \par
00221 </a><!-- btn btn-primary navbar-btn right Ends -->\par
00222 \par
00223 <div {\cf17 class}={\cf22 "navbar-collapse collapse right"}><!-- navbar-collapse collapse right Starts -->\par
00224 \par
00225 <button {\cf17 class}={\cf22 "btn navbar-btn btn-primary"} type={\cf22 "button"} data-toggle={\cf22 "collapse"} data-target={\cf22 "#search"}>\par
00226 \par
00227 <span {\cf17 class}={\cf22 "sr-only"}>Buscar</span>\par
00228 \par
00229 <i {\cf17 class}={\cf22 "fa fa-search"}></i>\par
00230 \par
00231 </button>\par
00232 \par
00233 </div><!-- navbar-collapse collapse right Ends -->\par
00234 \par
00235 <div {\cf17 class}={\cf22 "collapse clearfix"} {\cf18 id}={\cf22 "search"}><!-- collapse clearfix Starts -->\par
00236 \par
00237 <form {\cf17 class}={\cf22 "navbar-form"} method={\cf22 "get"} action={\cf22 "results.php"}><!-- navbar-form Starts -->\par
00238 \par
00239 <div {\cf17 class}={\cf22 "input-group"}><!-- input-group Starts -->\par
00240 \par
00241 <input {\cf17 class}={\cf22 "form-control"} type={\cf22 "text"} placeholder={\cf22 "Buscar"} name={\cf22 "user_query"} required>\par
00242 \par
00243 <span {\cf17 class}={\cf22 "input-group-btn"}><!-- input-group-btn Starts -->\par
00244 \par
00245 <button type={\cf22 "submit"} value={\cf22 "Search"} name={\cf22 "search"} {\cf17 class}={\cf22 "btn btn-primary"}>\par
00246 \par
00247 <i {\cf17 class}={\cf22 "fa fa-search"}></i>\par
00248 \par
00249 </button>\par
00250 \par
00251 </span><!-- input-group-btn Ends -->\par
00252 \par
00253 </div><!-- input-group Ends -->\par
00254 \par
00255 </form><!-- navbar-form Ends -->\par
00256 \par
00257 </div><!-- collapse clearfix Ends -->\par
00258 \par
00259 </div><!-- navbar-collapse collapse Ends -->\par
00260 \par
00261 </div><!-- container Ends -->\par
00262 \par
00263 </div><!-- navbar navbar-{\cf19 default} Ends -->\par
00264 \par
00265 <div {\cf18 id}={\cf22 "content"}><!-- content Starts -->\par
00266 \par
00267 <div {\cf17 class}={\cf22 "container-fluid"}><!-- container-fluid Starts -->\par
00268 \par
00269 <div {\cf17 class}={\cf22 "col-md-12"} ><!--- col-md-12 Starts -->\par
00270 \par
00271 <ul {\cf17 class}={\cf22 "breadcrumb"} ><!-- breadcrumb Starts -->\par
00272 \par
00273 <li><a href={\cf22 "index.php"}>Home</a></li>\par
00274 \par
00275 <li>Mi Cuenta</li>\par
00276 \par
00277 </ul><!-- breadcrumb Ends -->\par
00278 \par
00279 </div><!--- col-md-12 Ends -->\par
00280 \par
00281 <div {\cf17 class}={\cf22 "col-md-12"}><!-- col-md-12 Starts -->\par
00282 \par
00283 <?php\par
00284 \par
00285 $c_email = $_SESSION[{\cf22 'customer_email'}];\par
00286 \par
00287 $get_customer = {\cf22 "select * from customers where customer_email='$c_email'"};\par
00288 \par
00289 $run_customer = mysqli_query($con,$get_customer);\par
00290 \par
00291 $row_customer = mysqli_fetch_array($run_customer);\par
00292 \par
00293 $customer_confirm_code = $row_customer[{\cf22 'customer_confirm_code'}];\par
00294 \par
00295 $c_name = $row_customer[{\cf22 'customer_name'}];\par
00296 \par
00297 {\cf19 if}(!empty($customer_confirm_code))\{\par
00298 \par
00299 ?>\par
00300 \par
00301 <div {\cf17 class}={\cf22 "alert alert-danger"}><!-- alert alert-danger Starts -->\par
00302 \par
00303 <strong> Advertencia! </strong> Confirme su Email y si no ha recibido su Email de confirmaci\'F3n\par
00304 \par
00305 <a href={\cf22 "my_account.php?send_email"} {\cf17 class}={\cf22 "alert-link"}> \par
00306 \par
00307 Enviar Email de nuevo\par
00308 \par
00309 </a>\par
00310 \par
00311 </div><!-- alert alert-danger Ends -->\par
00312 \par
00313 <?php \} ?>\par
00314 \par
00315 </div><!-- col-md-12 Ends -->\par
00316 \par
00317 <div {\cf17 class}={\cf22 "col-md-3"}><!-- col-md-3 Starts -->\par
00318 \par
00319 <?php include({\cf22 "includes/sidebar.php"}); ?>\par
00320 \par
00321 </div><!-- col-md-3 Ends -->\par
00322 \par
00323 <div {\cf17 class}={\cf22 "col-md-9"}><!--- col-md-9 Starts -->\par
00324 \par
00325 <div {\cf17 class}={\cf22 "box"}><!-- box Starts -->\par
00326 \par
00327 <?php \par
00328 \par
00329 {\cf19 if}(isset($_GET[{\cf22 'order_id'}]))\{\par
00330     \par
00331 $order_id = $_GET[{\cf22 'order_id'}];\par
00332 \par
00333 $get_order = {\cf22 "select * from orders where order_id='$order_id'"};\par
00334 \par
00335 $run_order = mysqli_query($con,$get_order);\par
00336 \par
00337 $fetch_order = mysqli_fetch_array($run_order);\par
00338 \par
00339 $order_id = $fetch_order[{\cf22 'order_id'}];\par
00340 \par
00341 $customer_id = $fetch_order[{\cf22 'customer_id'}];\par
00342 \par
00343 $invoice_no = $fetch_order[{\cf22 'invoice_no'}];\par
00344 \par
00345 $shipping_type = $fetch_order[{\cf22 'shipping_type'}];\par
00346 \par
00347 $shipping_cost = $fetch_order[{\cf22 'shipping_cost'}];\par
00348 \par
00349 $payment_method = $fetch_order[{\cf22 'payment_method'}];\par
00350 \par
00351 $order_date = $fetch_order[{\cf22 'order_date'}];\par
00352 \par
00353 $order_total = $fetch_order[{\cf22 'order_total'}];\par
00354 \par
00355 $order_note = $fetch_order[{\cf22 'order_note'}];\par
00356 \par
00357 $order_status = $fetch_order[{\cf22 'order_status'}];\par
00358 \par
00359 $get_orders_addresses = {\cf22 "select * from orders_addresses where order_id='$order_id'"};\par
00360 \par
00361 $run_orders_addresses = mysqli_query($con,$get_orders_addresses);\par
00362 \par
00363 $row_addresses = mysqli_fetch_array($run_orders_addresses);\par
00364 \par
00365 $billing_first_name = $row_addresses[{\cf22 "billing_first_name"}];\par
00366 \par
00367 $billing_last_name = $row_addresses[{\cf22 "billing_last_name"}];\par
00368 \par
00369 $billing_address_1 = $row_addresses[{\cf22 "billing_address_1"}];\par
00370 \par
00371 $billing_address_2 = $row_addresses[{\cf22 "billing_address_2"}];\par
00372 \par
00373 $billing_city = $row_addresses[{\cf22 "billing_city"}];\par
00374 \par
00375 $billing_postcode = $row_addresses[{\cf22 "billing_postcode"}];\par
00376 \par
00377 $billing_country = $row_addresses[{\cf22 "billing_country"}];\par
00378 \par
00379 $billing_state = $row_addresses[{\cf22 "billing_state"}];\par
00380 \par
00381 $is_shipping_address = $row_addresses[{\cf22 "is_shipping_address"}];\par
00382 \par
00383 $shipping_first_name = $row_addresses[{\cf22 "shipping_first_name"}];\par
00384 \par
00385 $shipping_last_name = $row_addresses[{\cf22 "shipping_last_name"}];\par
00386 \par
00387 $shipping_address_1 = $row_addresses[{\cf22 "shipping_address_1"}];\par
00388 \par
00389 $shipping_address_2 = $row_addresses[{\cf22 "shipping_address_2"}];\par
00390 \par
00391 $shipping_city = $row_addresses[{\cf22 "shipping_city"}];\par
00392 \par
00393 $shipping_postcode = $row_addresses[{\cf22 "shipping_postcode"}];\par
00394 \par
00395 $shipping_country = $row_addresses[{\cf22 "shipping_country"}];\par
00396 \par
00397 $shipping_state = $row_addresses[{\cf22 "shipping_state"}];\par
00398 \par
00399 $select_vendor_orders = {\cf22 "select * from vendor_orders where order_id='$order_id'"};\par
00400 \par
00401 $run_vendor_orders = mysqli_query($con,$select_vendor_orders);\par
00402 \par
00403 $count_vendor_orders = mysqli_num_rows($run_vendor_orders);\par
00404 \par
00405 {\cf19 if}(isset($_GET[{\cf22 'sub_order_id'}]))\{\par
00406 \par
00407 $sub_order_id = $_GET[{\cf22 'sub_order_id'}];\par
00408 \par
00409 $select_vendor_order = {\cf22 "select * from vendor_orders where id='$sub_order_id' and order_id='$order_id'"};\par
00410 \par
00411 $run_vendor_order = mysqli_query($con,$select_vendor_order);\par
00412 \par
00413 $row_vendor_order = mysqli_fetch_array($run_vendor_order);\par
00414 \par
00415 $vendor_id = $row_vendor_order[{\cf22 'vendor_id'}];\par
00416 \par
00417 $invoice_no = $row_vendor_order[{\cf22 'invoice_no'}];\par
00418 \par
00419 $shipping_type = $row_vendor_order[{\cf22 'shipping_type'}];\par
00420 \par
00421 $shipping_cost = $row_vendor_order[{\cf22 'shipping_cost'}];\par
00422 \par
00423 $order_total = $row_vendor_order[{\cf22 'order_total'}];\par
00424 \par
00425 $order_status = $row_vendor_order[{\cf22 'order_status'}];\par
00426 \par
00427 \par
00428 \}\par
00429 \par
00430 \}\par
00431 \par
00432 ?>\par
00433 \par
00434 <p {\cf17 class}={\cf22 "lead"}>\par
00435 \par
00436 Est\'E1s viendo los detalles completos de este pedido\par
00437 \par
00438 <mark>#<?php echo $invoice_no; ?></mark> \par
00439 \par
00440 fue colocado en <mark><?php echo $order_date; ?></mark> Y tiene actualmente\par
00441 \par
00442 <?php \par
00443 \par
00444 {\cf19 if}($order_status == {\cf22 "pending"})\{\par
00445 \par
00446 echo ucwords($order_status . {\cf22 " Payment"});\par
00447     \par
00448 \}{\cf19 else}\{\par
00449 \par
00450 echo ucwords($order_status);    \par
00451     \par
00452 \}\par
00453 \par
00454 ?>.\par
00455 \par
00456 </p>\par
00457 \par
00458 <h2>Detalles de Orden</h2>\par
00459 \par
00460 <table {\cf17 class}={\cf22 "table border-table"}>\par
00461 \par
00462 <thead>\par
00463 \par
00464 <tr>\par
00465 \par
00466 <th {\cf17 class}={\cf22 "text-muted lead"}><strong>Producto:</strong></th>\par
00467 \par
00468 <th {\cf17 class}={\cf22 "text-muted lead"}><strong>Total:</strong></th>\par
00469 \par
00470 </tr>\par
00471 \par
00472 </thead>\par
00473 \par
00474 <tbody>\par
00475 \par
00476 <?php\par
00477 \par
00478 $items_subtotal = 0;\par
00479 \par
00480 $physical_products = array();\par
00481 \par
00482 $digital_products = array();\par
00483 \par
00484 $select_cart = {\cf22 "select * from orders_items where order_id='$order_id'"};\par
00485 \par
00486 $run_cart = mysqli_query($con,$select_cart);\par
00487 \par
00488 {\cf19 while}($row_cart = mysqli_fetch_array($run_cart))\{\par
00489 \par
00490 $item_id = $row_cart[{\cf22 'item_id'}];\par
00491 \par
00492 $product_id = $row_cart[{\cf22 'product_id'}];\par
00493 \par
00494 $product_qty = $row_cart[{\cf22 'qty'}];\par
00495 \par
00496 $product_price = $row_cart[{\cf22 'price'}];\par
00497 \par
00498 $sub_total = $product_price * $product_qty;\par
00499 \par
00500 {\cf19 if}(!isset($_GET[{\cf22 'sub_order_id'}]))\{\par
00501 \par
00502 $select_product = {\cf22 "select * from products where product_id='$product_id'"};\par
00503 \par
00504 \}{\cf19 else}\{\par
00505     \par
00506 $select_product = {\cf22 "select * from products where product_id='$product_id' and vendor_id='$vendor_id'"};\par
00507     \par
00508 \}\par
00509 \par
00510 $run_product = mysqli_query($con,$select_product);\par
00511 \par
00512 $count_product = mysqli_num_rows($run_product);\par
00513 \par
00514 {\cf19 if}($count_product != 0)\{\par
00515     \par
00516 $row_product = mysqli_fetch_array($run_product);\par
00517 \par
00518 $vendor_id = $row_product[{\cf22 'vendor_id'}];\par
00519 \par
00520 $product_title = $row_product[{\cf22 "product_title"}];\par
00521 \par
00522 $product_type = $row_product[{\cf22 "product_type"}];\par
00523 \par
00524 {\cf19 if}(strpos($vendor_id, {\cf22 "admin_"}) !== {\cf17 false})\{\par
00525     \par
00526 $admin_id = trim($vendor_id, {\cf22 "admin_"});\par
00527     \par
00528 $get_admin = {\cf22 "select * from admins where admin_id='$admin_id'"};\par
00529 \par
00530 $run_admin = mysqli_query($con,$get_admin);\par
00531 \par
00532 $row_admin = mysqli_fetch_array($run_admin);\par
00533 \par
00534 $vendor_name = $row_admin[{\cf22 'admin_name'}];\par
00535     \par
00536 \}{\cf19 else}\{\par
00537 \par
00538 $get_customer = {\cf22 "select * from customers where customer_id='$vendor_id'"};\par
00539 \par
00540 $run_customer = mysqli_query($con,$get_customer);\par
00541 \par
00542 $row_customer = mysqli_fetch_array($run_customer);\par
00543 \par
00544 $vendor_name = $row_customer[{\cf22 'customer_name'}];\par
00545 \par
00546 \}\par
00547 \par
00548 {\cf19 if}($product_type == {\cf22 "physical_product"})\{\par
00549 \par
00550 array_push($physical_products, $product_id);\par
00551 \par
00552 \}elseif($product_type == {\cf22 "digital_product"})\{\par
00553     \par
00554 $digital_products[$item_id] = $product_id;\par
00555 \par
00556 \}elseif($product_type == {\cf22 "variable_product"})\{\par
00557 \par
00558 $select_orders_items_meta = {\cf22 "select * from orders_items_meta where order_id='$order_id' and item_id='$item_id' and product_id='$product_id' and meta_key='variation_id'"};\par
00559 \par
00560 $run_orders_items_meta = mysqli_query($con,$select_orders_items_meta);\par
00561 \par
00562 $row_orders_items_meta = mysqli_fetch_array($run_orders_items_meta);\par
00563 \par
00564 $variation_id = str_replace({\cf22 "#"},{\cf22 ""},$row_orders_items_meta[{\cf22 "meta_value"}]);\par
00565 \par
00566 $select_product_variation = {\cf22 "select * from product_variations where product_id='$product_id' and variation_id='$variation_id'"};\par
00567 \par
00568 $run_product_variation = mysqli_query($con,$select_product_variation);\par
00569 \par
00570 $row_product_variation = mysqli_fetch_array($run_product_variation);\par
00571 \par
00572 $variation_product_type = $row_product_variation[{\cf22 "product_type"}];\par
00573 \par
00574 {\cf19 if}($variation_product_type == {\cf22 "physical_product"})\{\par
00575 \par
00576 array_push($physical_products, $product_id);\par
00577 \par
00578 \}elseif($variation_product_type == {\cf22 "digital_product"})\{\par
00579     \par
00580 $digital_products[$item_id] = $product_id;\par
00581 \par
00582 \}\par
00583 \par
00584 \}\par
00585 \par
00586 $items_subtotal += $sub_total;\par
00587 \par
00588 $select_vendor_orders = {\cf22 "select * from vendor_orders where order_id='$order_id' and vendor_id='$vendor_id'"};\par
00589     \par
00590 $run_vendor_orders = mysqli_query($con,$select_vendor_orders);\par
00591 \par
00592 $row_vendor_orders = mysqli_fetch_array($run_vendor_orders);\par
00593 \par
00594 $vendor_order_id = $row_vendor_orders[{\cf22 'id'}];\par
00595 \par
00596 $vendor_order_status = $row_vendor_orders[{\cf22 'order_status'}];\par
00597 \par
00598 ?>\par
00599 \par
00600 <tr>\par
00601 \par
00602 <td>\par
00603 \par
00604 <a href={\cf22 "#"} {\cf17 class}={\cf22 "bold"}> <?php echo $product_title; ?> </a>\par
00605 \par
00606 <i {\cf17 class}={\cf22 "fa fa-times"} title={\cf22 "Product Qty"}></i> <?php echo $product_qty; ?>\par
00607 \par
00608 <?php {\cf19 if}($vendor_order_status == {\cf22 "processing"} or $vendor_order_status == {\cf22 "completed"})\{ ?>\par
00609 \par
00610 <form method={\cf22 "post"} action={\cf22 "write_review.php"} {\cf17 class}={\cf22 "write-review-form"}>\par
00611 \par
00612 <input type={\cf22 "hidden"} name={\cf22 "product_id"} value={\cf22 "<?php echo $product_id; ?>"}>\par
00613 \par
00614 <input type={\cf22 "hidden"} name={\cf22 "referral"} value={\cf22 "view_order"}>\par
00615 \par
00616 <input type={\cf22 "hidden"} name={\cf22 "order_id"} value={\cf22 "<?php echo $order_id; ?>"}>\par
00617 \par
00618 <?php {\cf19 if}( $count_vendor_orders > 1 )\{ ?>\par
00619 \par
00620 <input type={\cf22 "hidden"} name={\cf22 "sub_order_id"} value={\cf22 "<?php echo $vendor_order_id; ?>"}>\par
00621 \par
00622 <?php \} ?>\par
00623 \par
00624 <button type={\cf22 "submit"} name={\cf22 "submit"}> Escribir una Rese\'F1a </button>\par
00625 \par
00626 </form>\par
00627 \par
00628 <?php \} ?>\par
00629 \par
00630 <p {\cf17 class}={\cf22 "cart-product-meta"}> \par
00631 \par
00632 <?php\par
00633 \par
00634 $items_meta_result = {\cf22 ""};\par
00635 \par
00636 $select_orders_items_meta = {\cf22 "select * from orders_items_meta where order_id='$order_id' and item_id='$item_id' and product_id='$product_id' and meta_key!='variation_id'"};\par
00637 \par
00638 $run_orders_items_meta = mysqli_query($con,$select_orders_items_meta);\par
00639 \par
00640 {\cf19 while}($row_orders_items_meta = mysqli_fetch_array($run_orders_items_meta))\{\par
00641 \par
00642 $meta_key = str_replace({\cf23 '_'}, {\cf23 ' '}, ucwords($row_orders_items_meta[{\cf22 "meta_key"}]));;\par
00643 \par
00644 $meta_value = $row_orders_items_meta[{\cf22 "meta_value"}];\par
00645 \par
00646 $items_meta_result .= {\cf22 "$meta_key: <span class='text-muted'>$meta_value </span>, "};\par
00647 \par
00648 \}\par
00649 \par
00650 echo rtrim($items_meta_result, {\cf22 ", "});\par
00651 \par
00652 ?>\par
00653 \par
00654 </p>\par
00655 \par
00656 <p style={\cf22 "margin-top:6px; margin-bottom:-1px;"}> \par
00657 \par
00658 <strong> Vendedor : </strong> <?php echo $vendor_name; ?> \par
00659 \par
00660 </p>\par
00661 \par
00662 </td>\par
00663 \par
00664 <th> $<?php echo $sub_total; ?> </th>\par
00665 \par
00666 </tr>\par
00667 \par
00668 <?php \} \} ?>\par
00669 \par
00670 <tr>\par
00671 \par
00672 <th {\cf17 class}={\cf22 "text-muted"}>Subtotal:</th>\par
00673 \par
00674 <th>$<?php echo $items_subtotal; ?></th>\par
00675 \par
00676 </tr>\par
00677 \par
00678 <?php {\cf19 if}(count($physical_products) > 0 )\{ ?>\par
00679 \par
00680 <tr>\par
00681 \par
00682 <th {\cf17 class}={\cf22 "text-muted"}>Env\'EDo:</th>\par
00683 \par
00684 <th>\par
00685 \par
00686 <?php {\cf19 if}(!empty($shipping_type))\{ ?>\par
00687 \par
00688 <span {\cf17 class}={\cf22 "text-muted"}> <i {\cf17 class}={\cf22 "fa fa-truck"}></i> <?php echo $shipping_type; ?>: </span> \par
00689 \par
00690 <?php \} ?>\par
00691 \par
00692 $<?php echo $shipping_cost; ?>\par
00693 \par
00694 </th>\par
00695 \par
00696 </tr>\par
00697 \par
00698 <?php \} ?>\par
00699 \par
00700 <tr>\par
00701 \par
00702 <th {\cf17 class}={\cf22 "text-muted"}> M\'E9todo de pago: </th>\par
00703 \par
00704 <th> <?php echo ucwords($payment_method); ?> </th>\par
00705 \par
00706 </tr>\par
00707 \par
00708 <tr {\cf17 class}={\cf22 "h4 bold"}>\par
00709 \par
00710 <td> Total: </td>\par
00711 \par
00712 <td> $<?php echo $order_total; ?> </td>\par
00713 \par
00714 </tr>\par
00715 \par
00716 </tbody>\par
00717  \par
00718 </table>\par
00719 \par
00720 <?php \par
00721 \par
00722 {\cf19 if}(!isset($_GET[{\cf22 'sub_order_id'}]))\{\par
00723 \par
00724 {\cf19 if}($count_vendor_orders > 1)\{ \par
00725 \par
00726 ?>\par
00727 \par
00728 <h3> Sub Ordenes </h3>\par
00729 \par
00730 <div {\cf17 class}={\cf22 "alert alert-info"}>\par
00731 \par
00732 <strong>Nota:</strong> Este pedido tiene productos de varios proveedores. As\'ED que dividimos este pedido en varios pedidos de proveedores. Cada pedido ser\'E1 manejado por su proveedor respectivo de forma independiente.\par
00733 \par
00734 </div>\par
00735 \par
00736 <table {\cf17 class}={\cf22 "table border-table"}><!--- table border-table Starts --->\par
00737 \par
00738 <thead><!-- thead Starts -->\par
00739 \par
00740 <tr>\par
00741 \par
00742 <th> N\'B0 de pedido: </th>\par
00743 \par
00744 <th> N\'FAmero de factura </th>\par
00745 \par
00746 <th> Fecha de pedido: </th>\par
00747 \par
00748 <th> Estado del pedido: </th>\par
00749 \par
00750 <th> Total del pedido </th>\par
00751 \par
00752 <th></th>\par
00753 \par
00754 </tr>\par
00755 \par
00756 </thead><!-- thead Ends -->\par
00757 \par
00758 <tbody><!--- tbody Starts --->\par
00759 \par
00760 <?php\par
00761 \par
00762 $select_vendor_orders = {\cf22 "select * from vendor_orders where order_id='$order_id'"};\par
00763 \par
00764 $run_vendor_orders = mysqli_query($con,$select_vendor_orders);\par
00765 \par
00766 $i = 0;\par
00767 \par
00768 {\cf19 while}($row_vendor_orders = mysqli_fetch_array($run_vendor_orders))\{\par
00769 \par
00770 $sub_order_id = $row_vendor_orders[{\cf22 'id'}];\par
00771 \par
00772 $vendor_id = $row_vendor_orders[{\cf22 'vendor_id'}];\par
00773 \par
00774 $invoice_no = $row_vendor_orders[{\cf22 'invoice_no'}];\par
00775 \par
00776 $order_total = $row_vendor_orders[{\cf22 'order_total'}];\par
00777 \par
00778 $order_status = $row_vendor_orders[{\cf22 'order_status'}];\par
00779 \par
00780 $i++;\par
00781 \par
00782 ?>\par
00783 \par
00784 <tr><!-- tr Starts -->\par
00785 \par
00786 <th><?php echo $i; ?></th>\par
00787 \par
00788 <td>#<?php echo $invoice_no; ?></td>\par
00789 \par
00790 <td><?php echo $order_date; ?></td>\par
00791 \par
00792 <td>\par
00793 \par
00794 <?php \par
00795 \par
00796 {\cf19 if}($order_status == {\cf22 "pending"})\{\par
00797 \par
00798 echo ucwords($order_status . {\cf22 " Payment"});\par
00799 \par
00800 \}{\cf19 else}\{\par
00801 \par
00802 echo ucwords($order_status);\par
00803     \par
00804 \}\par
00805 \par
00806 ?>\par
00807 \par
00808 </td>\par
00809 \par
00810 <td>\par
00811 \par
00812 <strong>$<?php echo $order_total; ?></strong>\par
00813 \par
00814 {\cf19 for} <?php\par
00815 \par
00816 $total = 0;\par
00817 \par
00818 $select_orders_items = {\cf22 "select * from orders_items where order_id='$order_id'"};\par
00819 \par
00820 $run_orders_items = mysqli_query($con,$select_orders_items);\par
00821 \par
00822 {\cf19 while}($row_orders_items = mysqli_fetch_array($run_orders_items))\{\par
00823 \par
00824 $product_id = $row_orders_items[{\cf22 'product_id'}];\par
00825 \par
00826 $product_qty = $row_orders_items[{\cf22 'qty'}];\par
00827 \par
00828 $select_product = {\cf22 "select * from products where product_id='$product_id' and vendor_id='$vendor_id'"};\par
00829 \par
00830 $run_product = mysqli_query($con,$select_product);\par
00831 \par
00832 $count_product = mysqli_num_rows($run_product);\par
00833 \par
00834 {\cf19 if}($count_product != 0)\{\par
00835 \par
00836 $total += $product_qty;\par
00837 \par
00838 \}\par
00839 \par
00840 \}\par
00841 \par
00842 {\cf19 if}($total == 1)\{\par
00843 \par
00844 echo $total . {\cf22 " item"};\par
00845 \par
00846 \}{\cf19 else}\{\par
00847 \par
00848 echo $total . {\cf22 " items"}; \par
00849     \par
00850 \}\par
00851 \par
00852 ?>\par
00853 \par
00854 </td>\par
00855 \par
00856 <td>\par
00857 \par
00858 <a {\cf17 class}={\cf22 "btn btn-success btn-sm"} href={\cf22 "view_order.php?order_id=<?php echo $order_id; ?>&sub_order_id=<?php echo $sub_order_id; ?>"}> \par
00859 \par
00860 Ver \par
00861 \par
00862 </a>\par
00863 \par
00864 </td>\par
00865 \par
00866 </tr><!-- tr Ends -->\par
00867 \par
00868 <?php \} ?>\par
00869 \par
00870 </tbody><!--- tbody Ends --->\par
00871 \par
00872 </table><!--- table border-table Ends --->\par
00873 \par
00874 <?php \}\} ?>\par
00875 \par
00876 <?php {\cf19 if}(!empty($order_note))\{ ?>\par
00877 \par
00878 <h4>Order Note</h4>\par
00879 \par
00880 <p><?php echo $order_note; ?></p>\par
00881 \par
00882 <hr>\par
00883 \par
00884 <?php \} ?>\par
00885 \par
00886 <?php {\cf19 if}(count($digital_products) > 0 )\{ ?>\par
00887 \par
00888 <h2> Descargar pedidos</h2>\par
00889 \par
00890 <table {\cf17 class}={\cf22 "table border-table"}><!--- table border-table Starts --->\par
00891 \par
00892 <thead>\par
00893 \par
00894 <tr>\par
00895 \par
00896 <th {\cf17 class}={\cf22 "text-muted lead"}> <strong>Producto:</strong> </th>\par
00897 \par
00898 <th {\cf17 class}={\cf22 "text-muted lead"}> <strong>Descarga:</strong> </th>\par
00899 \par
00900 </tr>\par
00901 \par
00902 </thead>\par
00903 \par
00904 <tbody>\par
00905 \par
00906 <?php \par
00907 \par
00908 {\cf19 if}(!isset($_GET[{\cf22 'sub_order_id'}]) and $count_vendor_orders == 1)\{\par
00909     \par
00910 {\cf19 if}( $order_status != {\cf22 "processing"} and $order_status != {\cf22 "completed"} )\{\par
00911 \par
00912 ?>\par
00913 \par
00914 <tr>\par
00915 \par
00916 <td colspan={\cf22 "2"}>\par
00917 \par
00918 Si el estado de su pedido es Procesando / Completado, podr\'E1 acceder a las descargas de pedidos.\par
00919 \par
00920 </td>\par
00921 \par
00922 </tr>\par
00923 \par
00924 <?php \}{\cf19 else}\{ ?>\par
00925 \par
00926 <?php \par
00927 \par
00928 {\cf19 foreach}($digital_products as $item_id => $product_id)\{\par
00929     \par
00930 $get_products = {\cf22 "select * from products where product_id='$product_id'"};\par
00931 \par
00932 $run_products = mysqli_query($con,$get_products);\par
00933 \par
00934 $row_products = mysqli_fetch_array($run_products);\par
00935 \par
00936 $product_title = $row_products[{\cf22 'product_title'}];\par
00937 \par
00938 $product_type = $row_products[{\cf22 'product_type'}];\par
00939 \par
00940 {\cf19 if}($product_type == {\cf22 "variable_product"})\{\par
00941 \par
00942 $select_orders_items_meta = {\cf22 "select * from orders_items_meta where order_id='$order_id' and item_id='$item_id' and product_id='$product_id' and meta_key='variation_id'"};\par
00943 \par
00944 $run_orders_items_meta = mysqli_query($con,$select_orders_items_meta);\par
00945 \par
00946 $row_orders_items_meta = mysqli_fetch_array($run_orders_items_meta);\par
00947 \par
00948 $variation_id = str_replace({\cf22 "#"},{\cf22 ""},$row_orders_items_meta[{\cf22 "meta_value"}]);\par
00949 \par
00950 $download_where = {\cf22 "and variation_id='$variation_id'"};\par
00951 \par
00952 \}{\cf19 else}\{\par
00953 \par
00954 $download_where = {\cf22 ""};   \par
00955     \par
00956 \}\par
00957 \par
00958  $select_downloads = {\cf22 "select * from downloads where product_id='$product_id' $download_where"};\par
00959 \par
00960 $run_downloads = mysqli_query($con,$select_downloads);\par
00961 \par
00962 {\cf19 while}($row_downloads = mysqli_fetch_array($run_downloads))\{\par
00963 \par
00964 $download_id = $row_downloads[{\cf22 'download_id'}];\par
00965 \par
00966 $download_title = $row_downloads[{\cf22 'download_title'}];\par
00967 \par
00968 ?>\par
00969 \par
00970 <tr>\par
00971 \par
00972 <td><?php echo $product_title; ?></td>\par
00973 \par
00974 <td>\par
00975 \par
00976 <a href={\cf22 "download.php?order_id=<?php echo $order_id; ?>&download_id=<?php echo $download_id; ?>"}>\par
00977 \par
00978 <?php echo $download_title; ?>\par
00979 \par
00980 </a>\par
00981 \par
00982 </td>\par
00983 \par
00984 </tr>\par
00985 \par
00986 <?php \par
00987 \par
00988 \}\par
00989 \par
00990 \}\par
00991 \par
00992 \}\par
00993 \par
00994 \}elseif($count_vendor_orders > 1)\{\par
00995     \par
00996 {\cf19 if}(!isset($_GET[{\cf22 'sub_order_id'}]))\{\par
00997 \par
00998 $select_vendor_orders = {\cf22 "select * from vendor_orders where order_id='$order_id' and (order_status='processing' or order_status='completed')"};\par
00999 \par
01000 \}{\cf19 else}\{\par
01001     \par
01002 $sub_order_id = $_GET[{\cf22 'sub_order_id'}];\par
01003 \par
01004 $select_vendor_orders = {\cf22 "select * from vendor_orders where id='$sub_order_id' and order_id='$order_id' and (order_status='processing' or order_status='completed')"};\par
01005     \par
01006 \}\par
01007 \par
01008 $run_vendor_orders = mysqli_query($con,$select_vendor_orders);\par
01009 \par
01010 $count_vendor_orders = mysqli_num_rows($run_vendor_orders);\par
01011 \par
01012 {\cf19 if}($count_vendor_orders == 0)\{\par
01013 \par
01014 ?>\par
01015 \par
01016 <tr>\par
01017 \par
01018 <td colspan={\cf22 "2"}>\par
01019 \par
01020 Si el estado de su pedido de proveedor est\'E1 procesado / completado, podr\'E1 acceder a las descargas de pedidos.\par
01021 \par
01022 </td>\par
01023 \par
01024 </tr>\par
01025 \par
01026 <?php\par
01027 \par
01028 \}\par
01029 \par
01030 {\cf19 while}($row_vendor_orders = mysqli_fetch_array($run_vendor_orders))\{\par
01031 \par
01032 $sub_order_id = $row_vendor_orders[{\cf22 'id'}];   \par
01033 \par
01034 $vendor_id = $row_vendor_orders[{\cf22 'vendor_id'}];\par
01035 \par
01036 {\cf20 //$order_status = $row_vendor_orders['order_status'];}\par
01037     \par
01038 $vendor_products = array();\par
01039 \par
01040 {\cf19 foreach}($digital_products as $item_id => $product_id)\{\par
01041 \par
01042 $select_product = {\cf22 "select * from products where product_id='$product_id' and vendor_id='$vendor_id'"};\par
01043 \par
01044 $run_product = mysqli_query($con,$select_product);\par
01045 \par
01046 $count_product = mysqli_num_rows($run_product);\par
01047 \par
01048 {\cf19 if}($count_product != 0)\{\par
01049     \par
01050 $vendor_products[$item_id] = $product_id;\par
01051     \par
01052 \}\par
01053 \par
01054 \}\par
01055 \par
01056 {\cf19 foreach}($vendor_products as $item_id => $product_id)\{\par
01057     \par
01058 $get_products = {\cf22 "select * from products where product_id='$product_id' and vendor_id='$vendor_id'"};\par
01059 \par
01060 $run_products = mysqli_query($con,$get_products);\par
01061 \par
01062 $row_products = mysqli_fetch_array($run_products);\par
01063 \par
01064 $product_title = $row_products[{\cf22 'product_title'}];\par
01065 \par
01066 $product_type = $row_products[{\cf22 'product_type'}];\par
01067 \par
01068 {\cf19 if}($product_type == {\cf22 "variable_product"})\{    \par
01069 \par
01070 $select_orders_items_meta = {\cf22 "select * from orders_items_meta where order_id='$order_id' and item_id='$item_id' and product_id='$product_id' and meta_key='variation_id'"};\par
01071 \par
01072 $run_orders_items_meta = mysqli_query($con,$select_orders_items_meta);\par
01073 \par
01074 $row_orders_items_meta = mysqli_fetch_array($run_orders_items_meta);\par
01075 \par
01076 $variation_id = str_replace({\cf22 "#"},{\cf22 ""},$row_orders_items_meta[{\cf22 "meta_value"}]);\par
01077 \par
01078 $download_where = {\cf22 "and variation_id='$variation_id'"};\par
01079 \par
01080 \}{\cf19 else}\{\par
01081 \par
01082 $download_where = {\cf22 ""};   \par
01083     \par
01084 \}\par
01085 \par
01086 $select_downloads = {\cf22 "select * from downloads where product_id='$product_id' $download_where"};\par
01087 \par
01088 $run_downloads = mysqli_query($con,$select_downloads);\par
01089 \par
01090 {\cf19 while}($row_downloads = mysqli_fetch_array($run_downloads))\{\par
01091 \par
01092 $download_id = $row_downloads[{\cf22 'download_id'}];\par
01093 \par
01094 $download_title = $row_downloads[{\cf22 'download_title'}];\par
01095 \par
01096 ?>\par
01097 \par
01098 <tr>\par
01099 \par
01100 <td><?php echo $product_title; ?></td>\par
01101 \par
01102 <td>\par
01103 \par
01104 <a href={\cf22 "download.php?order_id=<?php echo $order_id; ?>&sub_order_id=<?php echo $sub_order_id; ?>&download_id=<?php echo $download_id; ?>"}>\par
01105 \par
01106 <?php echo $download_title; ?>\par
01107 \par
01108 </a>\par
01109 \par
01110 </td>\par
01111 \par
01112 </tr>\par
01113 \par
01114 <?php\par
01115     \par
01116 \}\par
01117 \par
01118 \}\par
01119 \par
01120 \}\par
01121     \par
01122 \}\par
01123 \par
01124 ?>\par
01125 \par
01126 </tbody>\par
01127  \par
01128 </table>\par
01129 \par
01130 <?php \} ?>\par
01131 \par
01132 <div {\cf17 class}={\cf22 "row"}><!-- row Starts -->\par
01133 \par
01134 <div {\cf17 class}={\cf22 "col-sm-6"}>\par
01135 \par
01136 <h4>Detalles de facturaci\'F3n</h4>\par
01137 \par
01138 <address {\cf17 class}={\cf22 "text-muted"} style={\cf22 "font-size:15px;"}>\par
01139 <?php echo $billing_first_name . {\cf22 " "}; echo $billing_last_name; ?><br>\par
01140 <?php echo $billing_address_1; ?><br>\par
01141 <?php echo $billing_address_2; ?><br>\par
01142 <?php echo $billing_city; ?><br>\par
01143 <?php echo $billing_state; ?><br>\par
01144 <?php echo $billing_postcode; ?><br>\par
01145 <?php \par
01146 \par
01147 $get_country = {\cf22 "select * from countries where country_id='$billing_country'"};\par
01148 \par
01149 $run_country = mysqli_query($con,$get_country);\par
01150 \par
01151 $row_country = mysqli_fetch_array($run_country);\par
01152 \par
01153 echo $country_name = $row_country[{\cf22 'country_name'}];\par
01154 \par
01155 ?><br>\par
01156 </address>\par
01157 \par
01158 </div>\par
01159 \par
01160 <?php {\cf19 if}($is_shipping_address == {\cf22 "no"})\{ ?>\par
01161 \par
01162 <div {\cf17 class}={\cf22 "col-sm-6"}>\par
01163 \par
01164 <h4>Detalles de env\'EDo</h4>\par
01165 \par
01166 <address {\cf17 class}={\cf22 "text-muted"} style={\cf22 "font-size:15px;"}>\par
01167 <?php echo $shipping_first_name . {\cf22 " "}; echo $shipping_last_name; ?><br>\par
01168 <?php echo $shipping_address_1; ?><br>\par
01169 <?php echo $shipping_address_2; ?><br>\par
01170 <?php echo $shipping_city; ?><br>\par
01171 <?php echo $shipping_state; ?><br>\par
01172 <?php echo $shipping_postcode; ?><br>\par
01173 <?php \par
01174 \par
01175 $get_country = {\cf22 "select * from countries where country_id='$shipping_country'"};\par
01176 \par
01177 $run_country = mysqli_query($con,$get_country);\par
01178 \par
01179 $row_country = mysqli_fetch_array($run_country);\par
01180 \par
01181 echo $country_name = $row_country[{\cf22 'country_name'}];\par
01182 \par
01183 ?><br>\par
01184 </address>\par
01185 \par
01186 </div>\par
01187 \par
01188 <?php \} ?>\par
01189 \par
01190 </div><!-- row Ends -->\par
01191 \par
01192 </div><!-- box Ends -->\par
01193 \par
01194 </div><!--- col-md-9 Ends -->\par
01195 \par
01196 </div><!-- container-fluid Ends -->\par
01197 \par
01198 </div><!-- content Ends -->\par
01199 \par
01200 <?php include({\cf22 "includes/footer.php"}); ?>\par
01201 \par
01202 <script src={\cf22 "js/jquery.min.js"}> </script>\par
01203 \par
01204 <script src={\cf22 "js/bootstrap.min.js"}></script>\par
01205 \par
01206 </body>\par
01207 \par
01208 </html>\par
}
\par \pard\plain 

\pard\plain \sect\sbkpage
\s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
\pard\plain \s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
Referencia del Archivo write_review.php\par \pard\plain 
{\tc\tcl2 \v write_review.php}
{\xe \v write_review.php}
{\bkmkstart AAAAAAAAES}
{\bkmkend AAAAAAAAES}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Variables\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b if}(!isset($_SESSION['customer_email'])) {\b else}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $c_email} = $_SESSION['customer_email']\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $get_customer} = "select * from customers where customer_email='$c_email'"\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $run_customer} = mysqli_query($con,$get_customer)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $row_customer} = mysqli_fetch_array($run_customer)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $customer_confirm_code} = $row_customer['customer_confirm_code']\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $c_name} = $row_customer['customer_name']\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b if} (!empty( $customer_confirm_code))\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $customer_email} = $_SESSION['customer_email']\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $select_customer} = "select * from customers where customer_email='$customer_email'"\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $customer_id} = $row_customer['customer_id']\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $product_id} = mysqli_real_escape_string($con, $_POST["product_id"])\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $referral} = mysqli_real_escape_string($con, $_POST["referral"])\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $run_order} = mysqli_query($con,$select_order)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b $count_order} = mysqli_num_rows($run_order)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b if}( $product_purchased=="no") {\b elseif} ( $product_purchased=="yes")\par
}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Documentaci\'F3n de las variables\par
\pard\plain 
{\xe \v $c_email\:write_review.php}
{\xe \v write_review.php\:$c_email}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$c_email = $_SESSION['customer_email']}}
\par
{\bkmkstart AAAAAAAAET}
{\bkmkend AAAAAAAAET}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 292} del archivo {\b write_review.php}.}\par
}
{\xe \v $c_name\:write_review.php}
{\xe \v write_review.php\:$c_name}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$c_name = $row_customer['customer_name']}}
\par
{\bkmkstart AAAAAAAAEU}
{\bkmkend AAAAAAAAEU}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 302} del archivo {\b write_review.php}.}\par
}
{\xe \v $count_order\:write_review.php}
{\xe \v write_review.php\:$count_order}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$count_order = mysqli_num_rows($run_order)}}
\par
{\bkmkstart AAAAAAAAEV}
{\bkmkend AAAAAAAAEV}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 424} del archivo {\b write_review.php}.}\par
}
{\xe \v $customer_confirm_code\:write_review.php}
{\xe \v write_review.php\:$customer_confirm_code}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$customer_confirm_code = $row_customer['customer_confirm_code']}}
\par
{\bkmkstart AAAAAAAAEW}
{\bkmkend AAAAAAAAEW}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 300} del archivo {\b write_review.php}.}\par
}
{\xe \v $customer_email\:write_review.php}
{\xe \v write_review.php\:$customer_email}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$customer_email = $_SESSION['customer_email']}}
\par
{\bkmkstart AAAAAAAAEX}
{\bkmkend AAAAAAAAEX}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 336} del archivo {\b write_review.php}.}\par
}
{\xe \v $customer_id\:write_review.php}
{\xe \v write_review.php\:$customer_id}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$customer_id = $row_customer['customer_id']}}
\par
{\bkmkstart AAAAAAAAEY}
{\bkmkend AAAAAAAAEY}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 344} del archivo {\b write_review.php}.}\par
}
{\xe \v $get_customer\:write_review.php}
{\xe \v write_review.php\:$get_customer}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$get_customer = "select * from customers where customer_email='$c_email'"}}
\par
{\bkmkstart AAAAAAAAEZ}
{\bkmkend AAAAAAAAEZ}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 294} del archivo {\b write_review.php}.}\par
}
{\xe \v $product_id\:write_review.php}
{\xe \v write_review.php\:$product_id}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$product_id = mysqli_real_escape_string($con, $_POST["product_id"])}}
\par
{\bkmkstart AAAAAAAAFA}
{\bkmkend AAAAAAAAFA}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 346} del archivo {\b write_review.php}.}\par
}
{\xe \v $referral\:write_review.php}
{\xe \v write_review.php\:$referral}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$referral = mysqli_real_escape_string($con, $_POST["referral"])}}
\par
{\bkmkstart AAAAAAAAFB}
{\bkmkend AAAAAAAAFB}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 348} del archivo {\b write_review.php}.}\par
}
{\xe \v $row_customer\:write_review.php}
{\xe \v write_review.php\:$row_customer}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$row_customer = mysqli_fetch_array($run_customer)}}
\par
{\bkmkstart AAAAAAAAFC}
{\bkmkend AAAAAAAAFC}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 298} del archivo {\b write_review.php}.}\par
}
{\xe \v $run_customer\:write_review.php}
{\xe \v write_review.php\:$run_customer}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$run_customer = mysqli_query($con,$get_customer)}}
\par
{\bkmkstart AAAAAAAAFD}
{\bkmkend AAAAAAAAFD}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 296} del archivo {\b write_review.php}.}\par
}
{\xe \v $run_order\:write_review.php}
{\xe \v write_review.php\:$run_order}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$run_order = mysqli_query($con,$select_order)}}
\par
{\bkmkstart AAAAAAAAFE}
{\bkmkend AAAAAAAAFE}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 422} del archivo {\b write_review.php}.}\par
}
{\xe \v $select_customer\:write_review.php}
{\xe \v write_review.php\:$select_customer}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
$select_customer = "select * from customers where customer_email='$customer_email'"}}
\par
{\bkmkstart AAAAAAAAFF}
{\bkmkend AAAAAAAAFF}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 338} del archivo {\b write_review.php}.}\par
}
{\xe \v else\:write_review.php}
{\xe \v write_review.php\:else}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
{\b if} ( $count_order !=0) else}}
\par
{\bkmkstart AAAAAAAAFG}
{\bkmkend AAAAAAAAFG}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
{\b Valor inicial:}{
\pard\plain \s41\li360\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid \{\par
\par
include({\cf22 "includes/db.php"})\par
}
{
Definici\'F3n en la l\'EDnea {\b 9} del archivo {\b write_review.php}.}\par
}
{\xe \v elseif\:write_review.php}
{\xe \v write_review.php\:elseif}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
{\b if}($product_purchased=="no") elseif($product_purchased=="yes") (  {\i $product_purchased} = {\f2 =\~ "yes"})}}
\par
{\bkmkstart AAAAAAAAFH}
{\bkmkend AAAAAAAAFH}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 472} del archivo {\b write_review.php}.}\par
}
{\xe \v if\:write_review.php}
{\xe \v write_review.php\:if}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
if(!empty($customer_confirm_code)) (!  {\i empty} $customer_confirm_code)}}
\par
{\bkmkstart AAAAAAAAFI}
{\bkmkend AAAAAAAAFI}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Definici\'F3n en la l\'EDnea {\b 304} del archivo {\b write_review.php}.}\par
}
\par \pard\plain 

\pard\plain \sect\sbkpage
\s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
\pard\plain \s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
write_review.php\par \pard\plain 
{\bkmkstart AAAAAAAAAO}
{\bkmkend AAAAAAAAAO}
Ir a la documentaci\'F3n de este archivo.{
\pard\plain \s40\li0\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid 00001 <?php\par
00002 \par
00003 session_start();\par
00004 \par
00005 {\cf19 if}(!isset($_SESSION[{\cf22 'customer_email'}]))\{\par
00006 \par
00007 echo {\cf22 "<script>window.open('../checkout.php','_self')</script>"};\par
00008 \par
00009 \}{\cf19 else} \{\par
00010 \par
00011 include({\cf22 "includes/db.php"});\par
00012 \par
00013 include({\cf22 "functions/functions.php"});\par
00014 \par
00015 \par
00016 {\cf19 if}(!isset($_POST[{\cf22 "product_id"}]))\{\par
00017 \par
00018 echo {\cf22 "<script> window.open('my_account.php?my_orders','_self'); </script>"};\par
00019     \par
00020 \}\par
00021 \par
00022 ?>\par
00023 <!DOCTYPE html>\par
00024 \par
00025 <html>\par
00026 \par
00027 <head>\par
00028 \par
00029 <title>ShoiStore</title>\par
00030 \par
00031 <meta name={\cf22 "viewport"} content={\cf22 "width=device-width, initial-scale=1, shrink-to-fit=no"}>\par
00032 \par
00033 <link href={\cf22 "http://fonts.googleapis.com/css?family=Roboto:400,500,700,300,100"} rel={\cf22 "stylesheet"} >\par
00034 \par
00035 <link href={\cf22 "styles/bootstrap.min.css"} rel={\cf22 "stylesheet"}>\par
00036 \par
00037 <link href={\cf22 "styles/style.css"} rel={\cf22 "stylesheet"}>\par
00038 \par
00039 <link href={\cf22 "../styles/star-rating.min.css"} rel={\cf22 "stylesheet"}>\par
00040 \par
00041 <link href={\cf22 "font-awesome/css/font-awesome.min.css"} rel={\cf22 "stylesheet"}>\par
00042 \par
00043 <script src={\cf22 "//ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.js"}></script>\par
00044 \par
00045 <script src={\cf22 "../js/star-rating.min.js"}></script>\par
00046 \par
00047 </head>\par
00048 \par
00049 <body>\par
00050 \par
00051 <div {\cf18 id}={\cf22 "top"}><!-- top Starts -->\par
00052 \par
00053 <div {\cf17 class}={\cf22 "container"}><!-- container Starts -->\par
00054 \par
00055 <div {\cf17 class}={\cf22 "col-md-6 offer"}><!-- col-md-6 offer Starts -->\par
00056 \par
00057 <a href={\cf22 "#"} {\cf17 class}={\cf22 "btn btn-success btn-sm"} >\par
00058 <?php\par
00059 \par
00060 {\cf19 if}(!isset($_SESSION[{\cf22 'customer_email'}]))\{\par
00061 \par
00062 echo {\cf22 "Bienvenid@ Invitad@"};\par
00063 \par
00064 \par
00065 \}{\cf19 else}\{\par
00066 \par
00067 echo {\cf22 "Bienvenid@ : "} . $_SESSION[{\cf22 'customer_email'}] . {\cf22 ""};\par
00068 \par
00069 \}\par
00070 \par
00071 \par
00072 ?>\par
00073 </a>\par
00074 \par
00075 <a href={\cf22 "#"}>\par
00076 Precio Total: <?php total_price(); ?>, Cantidad de Items:<?php items(); ?>\par
00077 </a>\par
00078 \par
00079 </div><!-- col-md-6 offer Ends -->\par
00080 \par
00081 <div {\cf17 class}={\cf22 "col-md-6"}><!-- col-md-6 Starts -->\par
00082 <ul {\cf17 class}={\cf22 "menu"}><!-- menu Starts -->\par
00083 \par
00084 <li>\par
00085 <a href={\cf22 "../customer_register.php"}>\par
00086 Registrarse\par
00087 </a>\par
00088 </li>\par
00089 \par
00090 <li>\par
00091 <?php\par
00092 \par
00093 {\cf19 if}(!isset($_SESSION[{\cf22 'customer_email'}]))\{\par
00094 \par
00095 echo {\cf22 "<a href='../checkout.php' >Mi Cuenta</a>"};\par
00096 \par
00097 \}\par
00098 {\cf19 else}\{\par
00099 \par
00100 echo {\cf22 "<a href='my_account.php?my_orders'>Mi Cuenta</a>"};\par
00101 \par
00102 \}\par
00103 \par
00104 \par
00105 ?>\par
00106 </li>\par
00107 \par
00108 <li>\par
00109 <a href={\cf22 "../cart.php"}>\par
00110 Ir al Carrito\par
00111 </a>\par
00112 </li>\par
00113 \par
00114 <li>\par
00115 <?php\par
00116 \par
00117 {\cf19 if}(!isset($_SESSION[{\cf22 'customer_email'}]))\{\par
00118 \par
00119 echo {\cf22 "<a href='../checkout.php'> Acceder </a>"};\par
00120 \par
00121 \}{\cf19 else} \{\par
00122 \par
00123 echo {\cf22 "<a href='logout.php'> Cerrar Sesi\'F3n </a>"};\par
00124 \par
00125 \}\par
00126 \par
00127 ?>\par
00128 </li>\par
00129 \par
00130 </ul><!-- menu Ends -->\par
00131 \par
00132 </div><!-- col-md-6 Ends -->\par
00133 \par
00134 </div><!-- container Ends -->\par
00135 </div><!-- top Ends -->\par
00136 \par
00137 <div {\cf17 class}={\cf22 "navbar navbar-default"} {\cf18 id}={\cf22 "navbar"}><!-- navbar navbar-{\cf19 default} Starts -->\par
00138 <div {\cf17 class}={\cf22 "container"} ><!-- container Starts -->\par
00139 \par
00140 <div {\cf17 class}={\cf22 "navbar-header"}><!-- navbar-header Starts -->\par
00141 \par
00142 <a {\cf17 class}={\cf22 "navbar-brand home"} href={\cf22 "../index.php"} ><!--- navbar navbar-brand home Starts -->\par
00143 \par
00144 <img src={\cf22 "images/ShoiStoree.png"} alt={\cf22 "ShoiStore logo"} {\cf17 class}={\cf22 "hidden-xs"} >\par
00145 <img src={\cf22 "images/ShoiStoree.png"} alt={\cf22 "ShoiStore logo"} {\cf17 class}={\cf22 "visible-xs"} >\par
00146 \par
00147 </a><!--- navbar navbar-brand home Ends -->\par
00148 \par
00149 <button type={\cf22 "button"} {\cf17 class}={\cf22 "navbar-toggle"} data-toggle={\cf22 "collapse"} data-target={\cf22 "#navigation"}  >\par
00150 \par
00151 <span {\cf17 class}={\cf22 "sr-only"} >Navegaci\'F3n </span>\par
00152 \par
00153 <i {\cf17 class}={\cf22 "fa fa-align-justify"}></i>\par
00154 \par
00155 </button>\par
00156 \par
00157 <button type={\cf22 "button"} {\cf17 class}={\cf22 "navbar-toggle"} data-toggle={\cf22 "collapse"} data-target={\cf22 "#search"} >\par
00158 \par
00159 <span {\cf17 class}={\cf22 "sr-only"} >Buscar</span>\par
00160 \par
00161 <i {\cf17 class}={\cf22 "fa fa-search"} ></i>\par
00162 \par
00163 </button>\par
00164 \par
00165 \par
00166 </div><!-- navbar-header Ends -->\par
00167 \par
00168 <div {\cf17 class}={\cf22 "navbar-collapse collapse"} {\cf18 id}={\cf22 "navigation"} ><!-- navbar-collapse collapse Starts -->\par
00169 \par
00170 <div {\cf17 class}={\cf22 "padding-nav"} ><!-- padding-nav Starts -->\par
00171 \par
00172 <ul {\cf17 class}={\cf22 "nav navbar-nav navbar-left"}><!-- nav navbar-nav navbar-left Starts -->\par
00173 \par
00174 <li>\par
00175 <a href={\cf22 "../index.php"}> Home </a>\par
00176 </li>\par
00177 \par
00178 <li>\par
00179 <a href={\cf22 "../shop.php"}> Tienda </a>\par
00180 </li>\par
00181 \par
00182 <li {\cf17 class}={\cf22 "active"}>\par
00183 <?php\par
00184 \par
00185 {\cf19 if}(!isset($_SESSION[{\cf22 'customer_email'}]))\{\par
00186 \par
00187 echo {\cf22 "<a href='../checkout.php' >Mi Cuenta</a>"};\par
00188 \par
00189 \}\par
00190 {\cf19 else}\{\par
00191 \par
00192 echo {\cf22 "<a href='my_account.php?my_orders'>Mi Cuenta</a>"};\par
00193 \par
00194 \}\par
00195 \par
00196 \par
00197 ?>\par
00198 </li>\par
00199 \par
00200 <li>\par
00201 <a href={\cf22 "../cart.php"}> Carrito </a>\par
00202 </li>\par
00203 \par
00204 <li>\par
00205 <a href={\cf22 "../about.php"}> \'BFQui\'E9nes Somos? </a>\par
00206 </li>\par
00207 \par
00208 <li>\par
00209 \par
00210 <a href={\cf22 "../services.php"}> Servicios </a>\par
00211 \par
00212 </li>\par
00213 \par
00214 <li>\par
00215 <a href={\cf22 "../contact.php"}> Cont\'E1ctanos </a>\par
00216 </li>\par
00217 \par
00218 </ul><!-- nav navbar-nav navbar-left Ends -->\par
00219 \par
00220 </div><!-- padding-nav Ends -->\par
00221 \par
00222 <a {\cf17 class}={\cf22 "btn btn-primary navbar-btn right"} href={\cf22 "../cart.php"}><!-- btn btn-primary navbar-btn right Starts -->\par
00223 \par
00224 <i {\cf17 class}={\cf22 "fa fa-shopping-cart"}></i>\par
00225 \par
00226 <span> <?php items(); ?> Art\'EDculos </span>\par
00227 \par
00228 </a><!-- btn btn-primary navbar-btn right Ends -->\par
00229 \par
00230 <div {\cf17 class}={\cf22 "navbar-collapse collapse right"}><!-- navbar-collapse collapse right Starts -->\par
00231 \par
00232 <button {\cf17 class}={\cf22 "btn navbar-btn btn-primary"} type={\cf22 "button"} data-toggle={\cf22 "collapse"} data-target={\cf22 "#search"}>\par
00233 \par
00234 <span {\cf17 class}={\cf22 "sr-only"}>Buscar</span>\par
00235 \par
00236 <i {\cf17 class}={\cf22 "fa fa-search"}></i>\par
00237 \par
00238 </button>\par
00239 \par
00240 </div><!-- navbar-collapse collapse right Ends -->\par
00241 \par
00242 <div {\cf17 class}={\cf22 "collapse clearfix"} {\cf18 id}={\cf22 "search"}><!-- collapse clearfix Starts -->\par
00243 \par
00244 <form {\cf17 class}={\cf22 "navbar-form"} method={\cf22 "get"} action={\cf22 "results.php"}><!-- navbar-form Starts -->\par
00245 \par
00246 <div {\cf17 class}={\cf22 "input-group"}><!-- input-group Starts -->\par
00247 \par
00248 <input {\cf17 class}={\cf22 "form-control"} type={\cf22 "text"} placeholder={\cf22 "Buscar"} name={\cf22 "user_query"} required>\par
00249 \par
00250 <span {\cf17 class}={\cf22 "input-group-btn"}><!-- input-group-btn Starts -->\par
00251 \par
00252 <button type={\cf22 "submit"} value={\cf22 "Search"} name={\cf22 "search"} {\cf17 class}={\cf22 "btn btn-primary"}>\par
00253 \par
00254 <i {\cf17 class}={\cf22 "fa fa-search"}></i>\par
00255 \par
00256 </button>\par
00257 \par
00258 </span><!-- input-group-btn Ends -->\par
00259 \par
00260 </div><!-- input-group Ends -->\par
00261 \par
00262 </form><!-- navbar-form Ends -->\par
00263 \par
00264 </div><!-- collapse clearfix Ends -->\par
00265 \par
00266 </div><!-- navbar-collapse collapse Ends -->\par
00267 \par
00268 </div><!-- container Ends -->\par
00269 \par
00270 </div><!-- navbar navbar-{\cf19 default} Ends -->\par
00271 \par
00272 <div {\cf18 id}={\cf22 "content"}><!-- content Starts -->\par
00273 \par
00274 <div {\cf17 class}={\cf22 "container-fluid"}><!-- container-fluid Starts -->\par
00275 \par
00276 <div {\cf17 class}={\cf22 "col-md-12"} ><!--- col-md-12 Starts -->\par
00277 \par
00278 <ul {\cf17 class}={\cf22 "breadcrumb"} ><!-- breadcrumb Starts -->\par
00279 \par
00280 <li><a href={\cf22 "index.php"}>Home</a></li>\par
00281 \par
00282 <li>Mi Cuenta</li>\par
00283 \par
00284 </ul><!-- breadcrumb Ends -->\par
00285 \par
00286 </div><!--- col-md-12 Ends -->\par
00287 \par
00288 <div {\cf17 class}={\cf22 "col-md-12"}><!-- col-md-12 Starts -->\par
00289 \par
00290 <?php\par
00291 \par
00292 $c_email = $_SESSION[{\cf22 'customer_email'}];\par
00293 \par
00294 $get_customer = {\cf22 "select * from customers where customer_email='$c_email'"};\par
00295 \par
00296 $run_customer = mysqli_query($con,$get_customer);\par
00297 \par
00298 $row_customer = mysqli_fetch_array($run_customer);\par
00299 \par
00300 $customer_confirm_code = $row_customer[{\cf22 'customer_confirm_code'}];\par
00301 \par
00302 $c_name = $row_customer[{\cf22 'customer_name'}];\par
00303 \par
00304 {\cf19 if}(!empty($customer_confirm_code))\{\par
00305 \par
00306 ?>\par
00307 \par
00308 <div {\cf17 class}={\cf22 "alert alert-danger"}><!-- alert alert-danger Starts -->\par
00309 \par
00310 <strong> Advertencia! </strong> Confirme su Email y si no ha recibido su Email de confirmaci\'F3n\par
00311 \par
00312 <a href={\cf22 "my_account.php?send_email"} {\cf17 class}={\cf22 "alert-link"}> \par
00313 \par
00314 Enviar Email de nuevo\par
00315 \par
00316 </a>\par
00317 \par
00318 </div><!-- alert alert-danger Ends -->\par
00319 \par
00320 <?php \} ?>\par
00321 \par
00322 </div><!-- col-md-12 Ends -->\par
00323 \par
00324 <div {\cf17 class}={\cf22 "col-md-3"}><!-- col-md-3 Starts -->\par
00325 \par
00326 <?php include({\cf22 "includes/sidebar.php"}); ?>\par
00327 \par
00328 </div><!-- col-md-3 Ends -->\par
00329 \par
00330 <div {\cf17 class}={\cf22 "col-md-9"}><!--- col-md-9 Starts -->\par
00331 \par
00332 <div {\cf17 class}={\cf22 "box"}><!-- box Starts -->\par
00333 \par
00334 <?php\par
00335 \par
00336 $customer_email = $_SESSION[{\cf22 'customer_email'}];\par
00337 \par
00338 $select_customer = {\cf22 "select * from customers where customer_email='$customer_email'"};\par
00339 \par
00340 $run_customer = mysqli_query($con,$select_customer);\par
00341 \par
00342 $row_customer = mysqli_fetch_array($run_customer);\par
00343 \par
00344 $customer_id = $row_customer[{\cf22 'customer_id'}];\par
00345 \par
00346 $product_id = mysqli_real_escape_string($con, $_POST[{\cf22 "product_id"}]);\par
00347 \par
00348 $referral = mysqli_real_escape_string($con, $_POST[{\cf22 "referral"}]);\par
00349 \par
00350 {\cf19 if}( !isset($_POST[{\cf22 "order_id"}]) )\{\par
00351     \par
00352 $select_product = {\cf22 "select * from products where product_id='$product_id'"};\par
00353 \par
00354 $run_product = mysqli_query($con,$select_product);\par
00355 \par
00356 $row_product = mysqli_fetch_array($run_product);\par
00357 \par
00358 $vendor_id = $row_product[{\cf22 "vendor_id"}];\par
00359 \par
00360 $select_orders = {\cf22 "select * from orders where customer_id='$customer_id'"};\par
00361 \par
00362 $run_orders = mysqli_query($con,$select_orders);\par
00363 \par
00364 {\cf19 while}($row_orders = mysqli_fetch_array($run_orders))\{\par
00365 \par
00366 $order_id = $row_orders[{\cf22 'order_id'}];\par
00367 \par
00368 $select_vendor_order = {\cf22 "select * from vendor_orders where order_id='$order_id' and vendor_id='$vendor_id' and (order_status='processing' or order_status='completed')"};\par
00369 \par
00370 $run_vendor_order = mysqli_query($con,$select_vendor_order);\par
00371 \par
00372 $count_vendor_order = mysqli_num_rows($run_vendor_order);\par
00373 \par
00374 {\cf19 if}($count_vendor_order != 0)\{\par
00375 \par
00376 $select_order_item = {\cf22 "select * from orders_items where order_id='$order_id' and product_id='$product_id'"};\par
00377 \par
00378 $run_order_item = mysqli_query($con,$select_order_item);\par
00379 \par
00380 $count_order_item = mysqli_num_rows($run_order_item);\par
00381 \par
00382 {\cf19 if}($count_order_item != 0)\{\par
00383 \par
00384 $row_order_item = mysqli_fetch_array($run_order_item);\par
00385 \par
00386 $item_id = $row_order_item[{\cf22 "item_id"}];\par
00387 \par
00388 $product_purchased = {\cf22 "yes"};\par
00389 \par
00390 {\cf19 break};\par
00391     \par
00392 \}{\cf19 else}\{\par
00393 \par
00394 $product_purchased = {\cf22 "no"};\par
00395     \par
00396 \}\par
00397 \par
00398 \}{\cf19 else}\{\par
00399 \par
00400 $product_purchased = {\cf22 "no"};\par
00401     \par
00402 \}\par
00403 \par
00404 \}\par
00405 \par
00406 \}{\cf19 else}\{\par
00407     \par
00408 $order_id = mysqli_real_escape_string($con, $_POST[{\cf22 "order_id"}]);\par
00409 \par
00410 {\cf19 if}(!isset($_POST[{\cf22 'sub_order_id'}]))\{\par
00411 \par
00412 echo $select_order = {\cf22 "select * from orders where customer_id='$customer_id' and order_id='$order_id' and (order_status='processing' or order_status='completed')"};\par
00413 \par
00414 \}{\cf19 else}\{\par
00415 \par
00416 $sub_order_id = mysqli_real_escape_string($con, $_POST[{\cf22 "sub_order_id"}]);\par
00417 \par
00418 echo $select_order = {\cf22 "select * from vendor_orders where id='$sub_order_id' and order_id='$order_id' and (order_status='processing' or order_status='completed')"};\par
00419 \par
00420 \}\par
00421 \par
00422 $run_order = mysqli_query($con,$select_order);\par
00423 \par
00424 $count_order = mysqli_num_rows($run_order);\par
00425 \par
00426 {\cf19 if}($count_order != 0)\{\par
00427     \par
00428 $select_order_item = {\cf22 "select * from orders_items where order_id='$order_id' and product_id='$product_id'"};\par
00429 \par
00430 $run_order_item = mysqli_query($con,$select_order_item);\par
00431 \par
00432 $count_order_item = mysqli_num_rows($run_order_item);\par
00433 \par
00434 {\cf19 if}($count_order_item != 0)\{\par
00435     \par
00436 $row_order_item = mysqli_fetch_array($run_order_item);\par
00437 \par
00438 $item_id = $row_order_item[{\cf22 "item_id"}];\par
00439 \par
00440 $product_purchased = {\cf22 "yes"};\par
00441 \par
00442 \}{\cf19 else}\{\par
00443 \par
00444 $product_purchased = {\cf22 "no"};\par
00445 \par
00446 \}\par
00447 \par
00448 \}{\cf19 else}\{\par
00449 \par
00450 $product_purchased = {\cf22 "no"};  \par
00451 \par
00452 \}\par
00453     \par
00454 \}\par
00455 \par
00456 {\cf19 if}($product_purchased == {\cf22 "no"})\{\par
00457 \par
00458 ?>\par
00459 \par
00460 <h3> Para enviar una rese\'F1a </h3>\par
00461 \par
00462 <p>\par
00463 \par
00464 <strong>Para enviar una rese\'F1a,</strong> debe comprar el producto.<br>\par
00465 \par
00466 <strong>Si tienes otra cuenta</strong> y ya lo us\'F3 para comprar el producto, puede iniciar sesi\'F3n en esa cuenta para escribir una rese\'F1a.\par
00467 \par
00468 </p>\par
00469 \par
00470 <?php \par
00471 \par
00472 \}elseif($product_purchased == {\cf22 "yes"})\{\par
00473 \par
00474 {\cf19 if}($referral == {\cf22 "product"})\{\par
00475     \par
00476 $select_product = {\cf22 "select * from products where product_id='$product_id'"};\par
00477 \par
00478 $run_product = mysqli_query($con,$select_product);\par
00479 \par
00480 $row_product = mysqli_fetch_array($run_product);\par
00481 \par
00482 $product_url = $row_product[{\cf22 'product_url'}];\par
00483     \par
00484 $return_url = {\cf22 "../$product_url"};\par
00485 \par
00486 \}elseif($referral == {\cf22 "view_order"})\{\par
00487 \par
00488 $return_url = {\cf22 "view_order.php?order_id=$order_id"};\par
00489     \par
00490 \}\par
00491 \par
00492 $select_product_reviews = {\cf22 "select * from reviews where customer_id='$customer_id' and product_id='$product_id'"};\par
00493 \par
00494 $run_product_reviews = mysqli_query($con,$select_product_reviews);\par
00495 \par
00496 $count_product_reviews = mysqli_num_rows($run_product_reviews);\par
00497 \par
00498 {\cf19 if}($count_product_reviews != 0)\{\par
00499 \par
00500 ?>\par
00501 \par
00502 <p {\cf17 class}={\cf22 "lead text-center"}>\par
00503 \par
00504 <strong>Sorry,</strong> Ya est\'E1 escribiendo una rese\'F1a de este producto. <br><br>\par
00505 \par
00506 <a href={\cf22 "<?php echo $return_url; ?>"} {\cf17 class}={\cf22 "btn btn-primary btn-lg"}> Volver </a>\par
00507 \par
00508 </p>\par
00509 \par
00510 <?php \}{\cf19 else}\{ ?>\par
00511 \par
00512 <h3 style={\cf22 "margin-top:0px;"}> Su revisi\'F3n de este producto </h3>\par
00513 \par
00514 <div {\cf17 class}={\cf22 "row"}><!-- row Starts -->\par
00515 \par
00516 <?php\par
00517 \par
00518 $select_product = {\cf22 "select * from products where product_id='$product_id'"};\par
00519 \par
00520 $run_product = mysqli_query($con,$select_product);\par
00521 \par
00522 $row_product = mysqli_fetch_array($run_product);\par
00523 \par
00524 $product_title = $row_product[{\cf22 'product_title'}];\par
00525 \par
00526 $product_img1 = $row_product[{\cf22 'product_img1'}];\par
00527 \par
00528 $product_price = $row_product[{\cf22 "product_price"}];\par
00529 \par
00530 $product_psp_price = $row_product[{\cf22 "product_psp_price"}];\par
00531 \par
00532 {\cf20 //$product_type = $row_product["product_type"];//}\par
00533 \par
00534 $vendor_id = $row_product[{\cf22 'vendor_id'}];\par
00535 \par
00536 {\cf19 if}(strpos($vendor_id, {\cf22 "admin_"}) !== {\cf17 false})\{\par
00537     \par
00538 $admin_id = trim($vendor_id, {\cf22 "admin_"});\par
00539     \par
00540 $select_admin = {\cf22 "select * from admins where admin_id='$admin_id'"};\par
00541 \par
00542 $run_admin = mysqli_query($con,$select_admin);\par
00543 \par
00544 $row_admin = mysqli_fetch_array($run_admin);\par
00545 \par
00546 $vendor_name = $row_admin[{\cf22 'admin_name'}];\par
00547     \par
00548 \}{\cf19 else}\{\par
00549 \par
00550 $select_customer = {\cf22 "select * from customers where customer_id='$vendor_id'"};\par
00551 \par
00552 $run_customer = mysqli_query($con,$select_customer);\par
00553 \par
00554 $row_customer = mysqli_fetch_array($run_customer);\par
00555 \par
00556 $vendor_name = $row_customer[{\cf22 'customer_name'}];\par
00557 \par
00558 \}\par
00559 \par
00560 $product_reviews = array();\par
00561 \par
00562 $select_product_reviews = {\cf22 "select * from reviews where product_id='$product_id'"};\par
00563 \par
00564 $run_product_reviews = mysqli_query($con,$select_product_reviews);\par
00565 \par
00566 $count_product_reviews = mysqli_num_rows($run_product_reviews);\par
00567 \par
00568 {\cf19 if}($count_product_reviews != 0)\{\par
00569 \par
00570 {\cf19 while}($row_product_reviews = mysqli_fetch_array($run_product_reviews))\{\par
00571     \par
00572 $product_review_rating = $row_product_reviews[{\cf22 'review_rating'}];\par
00573 \par
00574 array_push($product_reviews,$product_review_rating);\par
00575     \par
00576 \}\par
00577 \par
00578 $total = array_sum($product_reviews);\par
00579 \par
00580 $product_rating = $total/count($product_reviews);\par
00581 \par
00582 \}{\cf19 else}\{\par
00583 \par
00584 $product_rating = 0;\par
00585 \par
00586 \}\par
00587 \par
00588 ?>\par
00589 \par
00590 <div {\cf17 class}={\cf22 "col-md-3"}><!--- col-md-3 Starts -->\par
00591 \par
00592 <img src={\cf22 "../admin_area/product_images/<?php echo $product_img1; ?>"} {\cf17 class}={\cf22 "img-responsive"}>\par
00593 \par
00594 </div><!-- col-md-3 Ends -->\par
00595 \par
00596 <div {\cf17 class}={\cf22 "col-md-9"}><!--- col-md-9 Starts -->\par
00597 \par
00598 <h4> <?php echo $product_title; ?> </h4>\par
00599 \par
00600 <p {\cf17 class}={\cf22 "cart-product-meta"}> \par
00601 \par
00602 <?php\par
00603 \par
00604 $items_meta_result = {\cf22 ""};\par
00605 \par
00606 $select_orders_items_meta = {\cf22 "select * from orders_items_meta where order_id='$order_id' and item_id='$item_id' and product_id='$product_id' and meta_key!='variation_id'"};\par
00607 \par
00608 $run_orders_items_meta = mysqli_query($con,$select_orders_items_meta);\par
00609 \par
00610 {\cf19 while}($row_orders_items_meta = mysqli_fetch_array($run_orders_items_meta))\{\par
00611 \par
00612 $meta_key = str_replace({\cf23 '_'}, {\cf23 ' '}, ucwords($row_orders_items_meta[{\cf22 "meta_key"}]));;\par
00613 \par
00614 $meta_value = $row_orders_items_meta[{\cf22 "meta_value"}];\par
00615 \par
00616 $items_meta_result .= {\cf22 "$meta_key: <span class='text-muted'>$meta_value </span>, "};\par
00617 \par
00618 \}\par
00619 \par
00620 echo rtrim($items_meta_result, {\cf22 ", "});\par
00621 \par
00622 ?>\par
00623 \par
00624 </p>\par
00625 \par
00626 <div {\cf17 class}={\cf22 "detail-product-info"}><!--- detail-product-info Starts -->\par
00627 \par
00628 <span {\cf17 class}={\cf22 "text-muted"}> Por </span>\par
00629 \par
00630 <a href={\cf22 "#"} {\cf17 class}={\cf22 "text-muted"}> <?php echo $vendor_name; ?> </a>\par
00631 \par
00632 <?php {\cf19 for}($product_i=0; $product_i<$product_rating; $product_i++)\{ ?>\par
00633 \par
00634 <img {\cf17 class}={\cf22 "rating"} src={\cf22 "../images/star_full_small.png"}>\par
00635 \par
00636 <?php \} ?>\par
00637 \par
00638 <?php {\cf19 for}($product_i=$product_rating; $product_i<5; $product_i++)\{ ?>\par
00639 \par
00640 <img {\cf17 class}={\cf22 "rating"} src={\cf22 "../images/star_blank_small.png"}>\par
00641 \par
00642 <?php \} ?>\par
00643 \par
00644 <span {\cf17 class}={\cf22 "text-muted"}>(<?php echo $count_product_reviews; ?> Rese\'F1as) &nbsp;&nbsp; </span>\par
00645 \par
00646 <hr>\par
00647 \par
00648 </div><!--- detail-product-info Ends -->\par
00649 \par
00650 <h4>Escribe tu rese\'F1a</h4>\par
00651 \par
00652 <form method={\cf22 "post"} action={\cf22 "write_review.php"}><!--- form Starts -->\par
00653 \par
00654 <input type={\cf22 "hidden"} name={\cf22 "product_id"} value={\cf22 "<?php echo $product_id; ?>"}>\par
00655 \par
00656 <input type={\cf22 "hidden"} name={\cf22 "referral"} value={\cf22 "<?php echo $referral; ?>"}>\par
00657 \par
00658 <input type={\cf22 "hidden"} name={\cf22 "order_id"} value={\cf22 "<?php echo $order_id; ?>"}>\par
00659 \par
00660 <div {\cf17 class}={\cf22 "form-group"}><!-- form-group Starts -->\par
00661 \par
00662 <label {\cf17 class}={\cf22 "control-label"}> Punt\'FAalo: * </label>\par
00663 \par
00664 <input type={\cf22 "hidden"} name={\cf22 "review_rating"} value={\cf22 "<?php echo @$_POST["}review_rating{\cf22 "]; ?>"} {\cf17 class}={\cf22 "rating-loading"} data-size={\cf22 "sm"}>\par
00665 \par
00666 <script>\par
00667 \par
00668 $(document).ready({\cf17 function}()\{\par
00669         \par
00670 $({\cf22 '.rating-loading'}).rating(\{\par
00671 \par
00672 step: 1,\par
00673 \par
00674 starCaptions: \{1: {\cf22 'lo odio'}, 2: {\cf22 'No me gust\'F3'}, 3: {\cf22 'Est\'E1 bien'}, 4: {\cf22 'Me gust\'F3'}, 5: {\cf22 'Es perfecto!'}\},\par
00675 \par
00676 starCaptionClasses: \{1: {\cf22 'btn btn-danger'}, 2: {\cf22 'btn btn-warning'}, 3: {\cf22 'btn btn-info'}, 4: {\cf22 'btn btn-primary'}, 5: {\cf22 'btn btn-success'}\},\par
00677 \par
00678 clearCaptionClass:{\cf22 "btn btn-default"}\par
00679 \par
00680 \});\par
00681     \par
00682 \});\par
00683 \par
00684 </script>\par
00685 \par
00686 </div><!-- form-group Ends -->\par
00687 \par
00688 <div {\cf17 class}={\cf22 "form-group"}><!-- form-group Starts -->\par
00689 \par
00690 <label {\cf17 class}={\cf22 "control-label"}> T\'EDtulo de su rese\'F1a: * </label>\par
00691 \par
00692 <input type={\cf22 "text"} name={\cf22 "review_title"} {\cf17 class}={\cf22 "form-control"} required>\par
00693 \par
00694 </div><!-- form-group Ends -->\par
00695 \par
00696 <div {\cf17 class}={\cf22 "form-group"}><!-- form-group Starts -->\par
00697 \par
00698 <label {\cf17 class}={\cf22 "control-label"}> Escribe tu rese\'F1a: * </label>\par
00699 \par
00700 <textarea name={\cf22 "review_content"} rows={\cf22 "3"} {\cf17 class}={\cf22 "form-control"} required></textarea>\par
00701 \par
00702 </div><!-- form-group Ends -->\par
00703 \par
00704 <a href={\cf22 "<?php echo $return_url; ?>"} {\cf17 class}={\cf22 "btn btn-success pull-left"} style={\cf22 "border-radius:0px;"}>Cancelar</a>\par
00705 \par
00706 <input type={\cf22 "submit"} name={\cf22 "submit_review"} value={\cf22 "Subir"} {\cf17 class}={\cf22 "btn btn-success pull-right"} style={\cf22 "border-radius:0px;"}>\par
00707 \par
00708 </form><!--- form Ends -->\par
00709 \par
00710 <?php\par
00711 \par
00712 {\cf19 if}(isset($_POST[{\cf22 "submit_review"}]))\{\par
00713     \par
00714 $product_id = mysqli_real_escape_string($con, $_POST[{\cf22 "product_id"}]);\par
00715 \par
00716 $review_rating = mysqli_real_escape_string($con, $_POST[{\cf22 "review_rating"}]);\par
00717 \par
00718 $review_title = mysqli_real_escape_string($con, $_POST[{\cf22 "review_title"}]);\par
00719 \par
00720 $review_content = mysqli_real_escape_string($con, $_POST[{\cf22 "review_content"}]);\par
00721 \par
00722 $review_date = date({\cf22 "F d, Y"});\par
00723 \par
00724 $insert_review = {\cf22 "insert into reviews (product_id,customer_id,review_title,review_rating,review_content,review_date,review_status) values ('$product_id','$customer_id','$review_title','$review_rating','$review_content','$review_date','pending')"};\par
00725 \par
00726 $run_review = mysqli_query($con,$insert_review);\par
00727 \par
00728 $insert_review_id = mysqli_insert_id($con);\par
00729 \par
00730 {\cf19 if}($run_review)\{\par
00731     \par
00732 $select_orders_items_meta = {\cf22 "select * from orders_items_meta where order_id='$order_id' and item_id='$item_id' and product_id='$product_id'"};\par
00733 \par
00734 $run_orders_items_meta = mysqli_query($con,$select_orders_items_meta);\par
00735 \par
00736 {\cf19 while}($row_orders_items_meta = mysqli_fetch_array($run_orders_items_meta))\{\par
00737 \par
00738 $meta_key = ucwords($row_orders_items_meta[{\cf22 "meta_key"}]);\par
00739 \par
00740 $meta_value = $row_orders_items_meta[{\cf22 "meta_value"}];\par
00741 \par
00742 $insert_reviews_meta = {\cf22 "insert into reviews_meta (review_id,meta_key,meta_value) values ('$insert_review_id','$meta_key','$meta_value')"};\par
00743 \par
00744 $run_reviews_meta = mysqli_query($con, $insert_reviews_meta);\par
00745 \par
00746 \}\par
00747 \par
00748 echo {\cf22 "}\par
00749 {\cf22 }\par
00750 {\cf22 <script>}\par
00751 {\cf22 }\par
00752 {\cf22 alert('Su rese\'F1a se ha enviado correctamente, su rese\'F1a se publicar\'E1 en un plazo de 24 horas.');}\par
00753 {\cf22 }\par
00754 {\cf22 window.open('$return_url','_self');}\par
00755 {\cf22 }\par
00756 {\cf22 </script>}\par
00757 {\cf22 }\par
00758 {\cf22 "};\par
00759 \par
00760 \}\par
00761 \par
00762 \}\par
00763 \par
00764 ?>\par
00765 \par
00766 </div><!-- col-md-9 Ends -->\par
00767 \par
00768 </div><!-- row Ends -->\par
00769 \par
00770 <?php \par
00771 \par
00772 \} \par
00773 \par
00774 \} \par
00775 \par
00776 ?>\par
00777 \par
00778 </div><!-- box Ends -->\par
00779 \par
00780 </div><!-- col-md-9 Ends -->\par
00781 \par
00782 </div><!-- container-fluid Ends -->\par
00783 \par
00784 </div><!-- content Ends -->\par
00785 \par
00786 <?php include({\cf22 "includes/footer.php"}); ?>\par
00787 \par
00788 <script src={\cf22 "js/bootstrap.min.js"}></script>\par
00789 \par
00790 </body>\par
00791 \par
00792 </html>\par
00793 \par
00794 <?php \} ?>\par
}

\pard\plain \sect\sbkpage
\s1\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs36\kerning36\cgrid 
\s1\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs36\kerning36\cgrid \'CDndice\par 
\pard\plain 
{\tc \v \'CDndice}
{\field\fldedit {\*\fldinst INDEX \\c2 \\*MERGEFORMAT}{\fldrslt INDEX}}
}
